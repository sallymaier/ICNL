!function(t,e){function i(t){var e,i,n=M[t]={};for(t=t.split(/\s+/),e=0,i=t.length;i>e;e++)n[t[e]]=!0;return n}function n(t,i,n){if(n===e&&1===t.nodeType){var r="data-"+i.replace(I,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:$.isNumeric(n)?+n:L.test(n)?$.parseJSON(n):n}catch(s){}$.data(t,i,n)}else n=e}return n}function r(t){for(var e in t)if(("data"!==e||!$.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function s(t,e,i){var n=e+"defer",r=e+"queue",s=e+"mark",a=$._data(t,n);!a||"queue"!==i&&$._data(t,r)||"mark"!==i&&$._data(t,s)||setTimeout(function(){$._data(t,r)||$._data(t,s)||($.removeData(t,n,!0),a.fire())},0)}function a(){return!1}function o(){return!0}function c(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function h(t,e,i){if(e=e||0,$.isFunction(e))return $.grep(t,function(t,n){var r=!!e.call(t,n,t);return r===i});if(e.nodeType)return $.grep(t,function(t,n){return t===e===i});if("string"==typeof e){var n=$.grep(t,function(t){return 1===t.nodeType});if(lt.test(e))return $.filter(e,n,!i);e=$.filter(e,n)}return $.grep(t,function(t,n){return $.inArray(t,e)>=0===i})}function l(t){var e=ft.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function u(t,e){return $.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t,e){if(1===e.nodeType&&$.hasData(t)){var i,n,r,s=$._data(t),a=$._data(e,s),o=s.events;if(o){delete a.handle,a.events={};for(i in o)for(n=0,r=o[i].length;r>n;n++)$.event.add(e,i,o[i][n])}a.data&&(a.data=$.extend({},a.data))}}function p(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?e.outerHTML=t.outerHTML:"input"!==i||"checkbox"!==t.type&&"radio"!==t.type?"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute($.expando),e.removeAttribute("_submit_attached"),e.removeAttribute("_change_attached"))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function g(t){("checkbox"===t.type||"radio"===t.type)&&(t.defaultChecked=t.checked)}function m(t){var e=(t.nodeName||"").toLowerCase();"input"===e?g(t):"script"!==e&&"undefined"!=typeof t.getElementsByTagName&&$.grep(t.getElementsByTagName("input"),g)}function v(t){var e=H.createElement("div");return Ot.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function y(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,r="width"===e?1:0,s=4;if(n>0){if("border"!==i)for(;s>r;r+=2)i||(n-=parseFloat($.css(t,"padding"+Bt[r]))||0),"margin"===i?n+=parseFloat($.css(t,i+Bt[r]))||0:n-=parseFloat($.css(t,"border"+Bt[r]+"Width"))||0;return n+"px"}if(n=Pt(t,e),(0>n||null==n)&&(n=t.style[e]),Mt.test(n))return n;if(n=parseFloat(n)||0,i)for(;s>r;r+=2)n+=parseFloat($.css(t,"padding"+Bt[r]))||0,"padding"!==i&&(n+=parseFloat($.css(t,"border"+Bt[r]+"Width"))||0),"margin"===i&&(n+=parseFloat($.css(t,i+Bt[r]))||0);return n+"px"}function b(t){return function(e,i){if("string"!=typeof e&&(i=e,e="*"),$.isFunction(i))for(var n,r,s,a=e.toLowerCase().split(ee),o=0,c=a.length;c>o;o++)n=a[o],s=/^\+/.test(n),s&&(n=n.substr(1)||"*"),r=t[n]=t[n]||[],r[s?"unshift":"push"](i)}}function w(t,i,n,r,s,a){s=s||i.dataTypes[0],a=a||{},a[s]=!0;for(var o,c=t[s],h=0,l=c?c.length:0,u=t===se;l>h&&(u||!o);h++)o=c[h](i,n,r),"string"==typeof o&&(!u||a[o]?o=e:(i.dataTypes.unshift(o),o=w(t,i,n,r,o,a)));return!u&&o||a["*"]||(o=w(t,i,n,r,"*",a)),o}function _(t,i){var n,r,s=$.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((s[n]?t:r||(r={}))[n]=i[n]);r&&$.extend(!0,t,r)}function x(t,e,i,n){if($.isArray(e))$.each(e,function(e,r){i||Vt.test(t)?n(t,r):x(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==$.type(e))n(t,e);else for(var r in e)x(t+"["+r+"]",e[r],i,n)}function k(t,i,n){var r,s,a,o,c=t.contents,h=t.dataTypes,l=t.responseFields;for(s in l)s in n&&(i[l[s]]=n[s]);for(;"*"===h[0];)h.shift(),r===e&&(r=t.mimeType||i.getResponseHeader("content-type"));if(r)for(s in c)if(c[s]&&c[s].test(r)){h.unshift(s);break}if(h[0]in n)a=h[0];else{for(s in n){if(!h[0]||t.converters[s+" "+h[0]]){a=s;break}o||(o=s)}a=a||o}return a?(a!==h[0]&&h.unshift(a),n[a]):void 0}function T(t,i){t.dataFilter&&(i=t.dataFilter(i,t.dataType));var n,r,s,a,o,c,h,l,u=t.dataTypes,d={},p=u.length,f=u[0];for(n=1;p>n;n++){if(1===n)for(r in t.converters)"string"==typeof r&&(d[r.toLowerCase()]=t.converters[r]);if(a=f,f=u[n],"*"===f)f=a;else if("*"!==a&&a!==f){if(o=a+" "+f,c=d[o]||d["* "+f],!c){l=e;for(h in d)if(s=h.split(" "),(s[0]===a||"*"===s[0])&&(l=d[s[1]+" "+f])){h=d[h],h===!0?c=l:l===!0&&(c=h);break}}c||l||$.error("No conversion from "+o.replace(" "," to ")),c!==!0&&(i=c?c(i):l(h(i)))}}return i}function S(){try{return new t.XMLHttpRequest}catch(e){}}function C(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function A(){return setTimeout(O,0),ve=$.now()}function O(){ve=e}function P(t,e){var i={};return $.each(_e.concat.apply([],_e.slice(0,e)),function(){i[this]=t}),i}function D(t){if(!ye[t]){var e=H.body,i=$("<"+t+">").appendTo(e),n=i.css("display");i.remove(),("none"===n||""===n)&&(fe||(fe=H.createElement("iframe"),fe.frameBorder=fe.width=fe.height=0),e.appendChild(fe),ge&&fe.createElement||(ge=(fe.contentWindow||fe.contentDocument).document,ge.write(($.support.boxModel?"<!doctype html>":"")+"<html><body>"),ge.close()),i=ge.createElement(t),ge.body.appendChild(i),n=$.css(i,"display"),e.removeChild(fe)),ye[t]=n}return ye[t]}function E(t){return $.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var H=t.document,j=t.navigator,F=t.location,$=function(){function i(){if(!o.isReady){try{H.documentElement.doScroll("left")}catch(t){return void setTimeout(i,1)}o.ready()}}var n,r,s,a,o=function(t,e){return new o.fn.init(t,e,n)},c=t.jQuery,h=t.$,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=/\S/,d=/^\s+/,p=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,_=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,k=/-([a-z]|[0-9])/gi,T=/^-ms-/,S=function(t,e){return(e+"").toUpperCase()},C=j.userAgent,A=Object.prototype.toString,O=Object.prototype.hasOwnProperty,P=Array.prototype.push,D=Array.prototype.slice,E=String.prototype.trim,F=Array.prototype.indexOf,$={};return o.fn=o.prototype={constructor:o,init:function(t,i,n){var r,s,a,c;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!i&&H.body)return this.context=H,this[0]=H.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:l.exec(t),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(r[1])return i=i instanceof o?i[0]:i,c=i?i.ownerDocument||i:H,a=f.exec(t),a?o.isPlainObject(i)?(t=[H.createElement(a[1])],o.fn.attr.call(t,i,!0)):t=[c.createElement(a[1])]:(a=o.buildFragment([r[1]],[c]),t=(a.cacheable?o.clone(a.fragment):a.fragment).childNodes),o.merge(this,t);if(s=H.getElementById(r[2]),s&&s.parentNode){if(s.id!==r[2])return n.find(t);this.length=1,this[0]=s}return this.context=H,this.selector=t,this}return o.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),o.makeArray(t,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=this.constructor();return o.isArray(t)?P.apply(n,t):o.merge(n,t),n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return o.each(this,t,e)},ready:function(t){return o.bindReady(),s.add(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(t){return this.pushStack(o.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:P,sort:[].sort,splice:[].splice},o.fn.init.prototype=o.fn,o.extend=o.fn.extend=function(){var t,i,n,r,s,a,c=arguments[0]||{},h=1,l=arguments.length,u=!1;for("boolean"==typeof c&&(u=c,c=arguments[1]||{},h=2),"object"==typeof c||o.isFunction(c)||(c={}),l===h&&(c=this,--h);l>h;h++)if(null!=(t=arguments[h]))for(i in t)n=c[i],r=t[i],c!==r&&(u&&r&&(o.isPlainObject(r)||(s=o.isArray(r)))?(s?(s=!1,a=n&&o.isArray(n)?n:[]):a=n&&o.isPlainObject(n)?n:{},c[i]=o.extend(u,a,r)):r!==e&&(c[i]=r));return c},o.extend({noConflict:function(e){return t.$===o&&(t.$=h),e&&t.jQuery===o&&(t.jQuery=c),o},isReady:!1,readyWait:1,holdReady:function(t){t?o.readyWait++:o.ready(!0)},ready:function(t){if(t===!0&&!--o.readyWait||t!==!0&&!o.isReady){if(!H.body)return setTimeout(o.ready,1);if(o.isReady=!0,t!==!0&&--o.readyWait>0)return;s.fireWith(H,[o]),o.fn.trigger&&o(H).trigger("ready").off("ready")}},bindReady:function(){if(!s){if(s=o.Callbacks("once memory"),"complete"===H.readyState)return setTimeout(o.ready,1);if(H.addEventListener)H.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",o.ready,!1);else if(H.attachEvent){H.attachEvent("onreadystatechange",a),t.attachEvent("onload",o.ready);var e=!1;try{e=null==t.frameElement}catch(n){}H.documentElement.doScroll&&e&&i()}}},isFunction:function(t){return"function"===o.type(t)},isArray:Array.isArray||function(t){return"array"===o.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):$[A.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==o.type(t)||t.nodeType||o.isWindow(t))return!1;try{if(t.constructor&&!O.call(t,"constructor")&&!O.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||O.call(t,n)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw new Error(t)},parseJSON:function(e){return"string"==typeof e&&e?(e=o.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):g.test(e.replace(m,"@").replace(v,"]").replace(y,""))?new Function("return "+e)():void o.error("Invalid JSON: "+e)):null},parseXML:function(i){if("string"!=typeof i||!i)return null;var n,r;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||o.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&u.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(T,"ms-").replace(k,S)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,i,n){var r,s=0,a=t.length,c=a===e||o.isFunction(t);if(n)if(c){for(r in t)if(i.apply(t[r],n)===!1)break}else for(;a>s&&i.apply(t[s++],n)!==!1;);else if(c){for(r in t)if(i.call(t[r],r,t[r])===!1)break}else for(;a>s&&i.call(t[s],s,t[s++])!==!1;);return t},trim:E?function(t){return null==t?"":E.call(t)}:function(t){return null==t?"":t.toString().replace(d,"").replace(p,"")},makeArray:function(t,e){var i=e||[];if(null!=t){var n=o.type(t);null==t.length||"string"===n||"function"===n||"regexp"===n||o.isWindow(t)?P.call(i,t):o.merge(i,t)}return i},inArray:function(t,e,i){var n;if(e){if(F)return F.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=t.length,r=0;if("number"==typeof i.length)for(var s=i.length;s>r;r++)t[n++]=i[r];else for(;i[r]!==e;)t[n++]=i[r++];return t.length=n,t},grep:function(t,e,i){var n,r=[];i=!!i;for(var s=0,a=t.length;a>s;s++)n=!!e(t[s],s),i!==n&&r.push(t[s]);return r},map:function(t,i,n){var r,s,a=[],c=0,h=t.length,l=t instanceof o||h!==e&&"number"==typeof h&&(h>0&&t[0]&&t[h-1]||0===h||o.isArray(t));if(l)for(;h>c;c++)r=i(t[c],c,n),null!=r&&(a[a.length]=r);else for(s in t)r=i(t[s],s,n),null!=r&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(t,i){if("string"==typeof i){var n=t[i];i=t,t=n}if(!o.isFunction(t))return e;var r=D.call(arguments,2),s=function(){return t.apply(i,r.concat(D.call(arguments)))};return s.guid=t.guid=t.guid||s.guid||o.guid++,s},access:function(t,i,n,r,s,a,c){var h,l=null==n,u=0,d=t.length;if(n&&"object"==typeof n){for(u in n)o.access(t,i,u,n[u],1,a,r);s=1}else if(r!==e){if(h=c===e&&o.isFunction(r),l&&(h?(h=i,i=function(t,e,i){return h.call(o(t),i)}):(i.call(t,r),i=null)),i)for(;d>u;u++)i(t[u],n,h?r.call(t[u],u,i(t[u],n)):r,c);s=1}return s?t:l?i.call(t):d?i(t[0],n):a},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=b.exec(t)||w.exec(t)||_.exec(t)||t.indexOf("compatible")<0&&x.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,i){return new t.fn.init(e,i)}o.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof o&&!(n instanceof t)&&(n=t(n)),o.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(H);return t},browser:{}}),o.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){$["[object "+e+"]"]=e.toLowerCase()}),r=o.uaMatch(C),r.browser&&(o.browser[r.browser]=!0,o.browser.version=r.version),o.browser.webkit&&(o.browser.safari=!0),u.test("\xa0")&&(d=/^[\s\xA0]+/,p=/[\s\xA0]+$/),n=o(H),H.addEventListener?a=function(){H.removeEventListener("DOMContentLoaded",a,!1),o.ready()}:H.attachEvent&&(a=function(){"complete"===H.readyState&&(H.detachEvent("onreadystatechange",a),o.ready())}),o}(),M={};$.Callbacks=function(t){t=t?M[t]||i(t):{};var n,r,s,a,o,c,h=[],l=[],u=function(e){var i,n,r,s;for(i=0,n=e.length;n>i;i++)r=e[i],s=$.type(r),"array"===s?u(r):"function"===s&&(t.unique&&p.has(r)||h.push(r))},d=function(e,i){for(i=i||[],n=!t.memory||[e,i],r=!0,s=!0,c=a||0,a=0,o=h.length;h&&o>c;c++)if(h[c].apply(e,i)===!1&&t.stopOnFalse){n=!0;break}s=!1,h&&(t.once?n===!0?p.disable():h=[]:l&&l.length&&(n=l.shift(),p.fireWith(n[0],n[1])))},p={add:function(){if(h){var t=h.length;u(arguments),s?o=h.length:n&&n!==!0&&(a=t,d(n[0],n[1]))}return this},remove:function(){if(h)for(var e=arguments,i=0,n=e.length;n>i;i++)for(var r=0;r<h.length&&(e[i]!==h[r]||(s&&o>=r&&(o--,c>=r&&c--),h.splice(r--,1),!t.unique));r++);return this},has:function(t){if(h)for(var e=0,i=h.length;i>e;e++)if(t===h[e])return!0;return!1},empty:function(){return h=[],this},disable:function(){return h=l=n=e,this},disabled:function(){return!h},lock:function(){return l=e,n&&n!==!0||p.disable(),this},locked:function(){return!l},fireWith:function(e,i){return l&&(s?t.once||l.push([e,i]):t.once&&n||d(e,i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p};var N=[].slice;$.extend({Deferred:function(t){var e,i=$.Callbacks("once memory"),n=$.Callbacks("once memory"),r=$.Callbacks("memory"),s="pending",a={resolve:i,reject:n,notify:r},o={done:i.add,fail:n.add,progress:r.add,state:function(){return s},isResolved:i.fired,isRejected:n.fired,then:function(t,e,i){return c.done(t).fail(e).progress(i),this},always:function(){return c.done.apply(c,arguments).fail.apply(c,arguments),this},pipe:function(t,e,i){return $.Deferred(function(n){$.each({done:[t,"resolve"],fail:[e,"reject"],progress:[i,"notify"]},function(t,e){var i,r=e[0],s=e[1];$.isFunction(r)?c[t](function(){i=r.apply(this,arguments),i&&$.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[s+"With"](this===c?n:this,[i])}):c[t](n[s])})}).promise()},promise:function(t){if(null==t)t=o;else for(var e in o)t[e]=o[e];return t}},c=o.promise({});for(e in a)c[e]=a[e].fire,c[e+"With"]=a[e].fireWith;return c.done(function(){s="resolved"},n.disable,r.lock).fail(function(){s="rejected"},i.disable,r.lock),t&&t.call(c,c),c},when:function(t){function e(t){return function(e){n[t]=arguments.length>1?N.call(arguments,0):e,--o||c.resolveWith(c,n)}}function i(t){return function(e){a[t]=arguments.length>1?N.call(arguments,0):e,c.notifyWith(h,a)}}var n=N.call(arguments,0),r=0,s=n.length,a=new Array(s),o=s,c=1>=s&&t&&$.isFunction(t.promise)?t:$.Deferred(),h=c.promise();if(s>1){for(;s>r;r++)n[r]&&n[r].promise&&$.isFunction(n[r].promise)?n[r].promise().then(e(r),c.reject,i(r)):--o;o||c.resolveWith(c,n)}else c!==t&&c.resolveWith(c,s?[t]:[]);return h}}),$.support=function(){var e,i,n,r,s,a,o,c,h,l,u,d=H.createElement("div");H.documentElement;if(d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!i.length||!n)return{};r=H.createElement("select"),s=r.appendChild(H.createElement("option")),a=d.getElementsByTagName("input")[0],e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===a.value,optSelected:s.selected,getSetAttribute:"t"!==d.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},$.boxModel=e.boxModel="CSS1Compat"===H.compatMode,a.checked=!0,e.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled;try{delete d.test}catch(p){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),a=H.createElement("input"),a.value="t",a.setAttribute("type","radio"),e.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),d.appendChild(a),o=H.createDocumentFragment(),o.appendChild(d.lastChild),e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=a.checked,o.removeChild(a),o.appendChild(d),d.attachEvent)for(l in{submit:1,change:1,focusin:1})h="on"+l,u=h in d,u||(d.setAttribute(h,"return;"),u="function"==typeof d[h]),e[l+"Bubbles"]=u;return o.removeChild(d),o=r=s=d=a=null,$(function(){var i,n,r,s,a,o,h,l,p,f,g,m,v=H.getElementsByTagName("body")[0];v&&(h=1,m="padding:0;margin:0;border:",f="position:absolute;top:0;left:0;width:1px;height:1px;",g=m+"0;visibility:hidden;",l="style='"+f+m+"5px solid #000;",p="<div "+l+"display:block;'><div style='"+m+"0;display:block;overflow:hidden;'></div></div><table "+l+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",i=H.createElement("div"),i.style.cssText=g+"width:0;height:0;position:static;top:0;margin-top:"+h+"px",v.insertBefore(i,v.firstChild),d=H.createElement("div"),i.appendChild(d),d.innerHTML="<table><tr><td style='"+m+"0;display:none'></td><td>t</td></tr></table>",c=d.getElementsByTagName("td"),u=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",e.reliableHiddenOffsets=u&&0===c[0].offsetHeight,t.getComputedStyle&&(d.innerHTML="",o=H.createElement("div"),o.style.width="0",o.style.marginRight="0",d.style.width="2px",d.appendChild(o),e.reliableMarginRight=0===(parseInt((t.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",e.shrinkWrapBlocks=3!==d.offsetWidth),d.style.cssText=f+g,d.innerHTML=p,n=d.firstChild,r=n.firstChild,s=n.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==r.offsetTop,doesAddBorderForTableAndCells:5===s.offsetTop},r.style.position="fixed",r.style.top="20px",a.fixedPosition=20===r.offsetTop||15===r.offsetTop,r.style.position=r.style.top="",n.style.overflow="hidden",n.style.position="relative",a.subtractsBorderForOverflowNotVisible=-5===r.offsetTop,a.doesNotIncludeMarginInBodyOffset=v.offsetTop!==h,t.getComputedStyle&&(d.style.marginTop="1%",e.pixelMargin="1%"!==(t.getComputedStyle(d,null)||{marginTop:0}).marginTop),"undefined"!=typeof i.style.zoom&&(i.style.zoom=1),v.removeChild(i),o=d=i=null,$.extend(e,a))}),e}();var L=/^(?:\{.*\}|\[.*\])$/,I=/([A-Z])/g;$.extend({cache:{},uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?$.cache[t[$.expando]]:t[$.expando],!!t&&!r(t)},data:function(t,i,n,r){if($.acceptData(t)){var s,a,o,c=$.expando,h="string"==typeof i,l=t.nodeType,u=l?$.cache:t,d=l?t[c]:t[c]&&c,p="events"===i;if(d&&u[d]&&(p||r||u[d].data)||!h||n!==e)return d||(l?t[c]=d=++$.uuid:d=c),u[d]||(u[d]={},l||(u[d].toJSON=$.noop)),("object"==typeof i||"function"==typeof i)&&(r?u[d]=$.extend(u[d],i):u[d].data=$.extend(u[d].data,i)),s=a=u[d],r||(a.data||(a.data={}),a=a.data),n!==e&&(a[$.camelCase(i)]=n),p&&!a[i]?s.events:(h?(o=a[i],null==o&&(o=a[$.camelCase(i)])):o=a,o)}},removeData:function(t,e,i){if($.acceptData(t)){var n,s,a,o=$.expando,c=t.nodeType,h=c?$.cache:t,l=c?t[o]:o;if(h[l]){if(e&&(n=i?h[l]:h[l].data)){$.isArray(e)||(e in n?e=[e]:(e=$.camelCase(e),e=e in n?[e]:e.split(" ")));for(s=0,a=e.length;a>s;s++)delete n[e[s]];if(!(i?r:$.isEmptyObject)(n))return}(i||(delete h[l].data,r(h[l])))&&($.support.deleteExpando||!h.setInterval?delete h[l]:h[l]=null,c&&($.support.deleteExpando?delete t[o]:t.removeAttribute?t.removeAttribute(o):t[o]=null))}}},_data:function(t,e,i){return $.data(t,e,i,!0)},acceptData:function(t){if(t.nodeName){var e=$.noData[t.nodeName.toLowerCase()];if(e)return!(e===!0||t.getAttribute("classid")!==e)}return!0}}),$.fn.extend({data:function(t,i){var r,s,a,o,c,h=this[0],l=0,u=null;if(t===e){if(this.length&&(u=$.data(h),1===h.nodeType&&!$._data(h,"parsedAttrs"))){for(a=h.attributes,c=a.length;c>l;l++)o=a[l].name,0===o.indexOf("data-")&&(o=$.camelCase(o.substring(5)),n(h,o,u[o]));$._data(h,"parsedAttrs",!0)}return u}return"object"==typeof t?this.each(function(){$.data(this,t)}):(r=t.split(".",2),r[1]=r[1]?"."+r[1]:"",s=r[1]+"!",$.access(this,function(i){return i===e?(u=this.triggerHandler("getData"+s,[r[0]]),u===e&&h&&(u=$.data(h,t),u=n(h,t,u)),u===e&&r[1]?this.data(r[0]):u):(r[1]=i,void this.each(function(){var e=$(this);e.triggerHandler("setData"+s,r),$.data(this,t,i),e.triggerHandler("changeData"+s,r)}))},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){$.removeData(this,t)})}}),$.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",$._data(t,e,($._data(t,e)||0)+1))},_unmark:function(t,e,i){if(t!==!0&&(i=e,e=t,t=!1),e){i=i||"fx";var n=i+"mark",r=t?0:($._data(e,n)||1)-1;r?$._data(e,n,r):($.removeData(e,n,!0),s(e,i,"mark"))}},queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=$._data(t,e),i&&(!n||$.isArray(i)?n=$._data(t,e,$.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=$.queue(t,e),n=i.shift(),r={};"inprogress"===n&&(n=i.shift()),n&&("fx"===e&&i.unshift("inprogress"),$._data(t,e+".run",r),n.call(t,function(){$.dequeue(t,e)},r)),i.length||($.removeData(t,e+"queue "+e+".run",!0),s(t,e,"queue"))}}),$.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?$.queue(this[0],t):i===e?this:this.each(function(){var e=$.queue(this,t,i);"fx"===t&&"inprogress"!==e[0]&&$.dequeue(this,t)})},dequeue:function(t){return this.each(function(){$.dequeue(this,t)})},delay:function(t,e){return t=$.fx?$.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){function n(){--c||s.resolveWith(a,[a])}"string"!=typeof t&&(i=t,t=e),t=t||"fx";for(var r,s=$.Deferred(),a=this,o=a.length,c=1,h=t+"defer",l=t+"queue",u=t+"mark";o--;)(r=$.data(a[o],h,e,!0)||($.data(a[o],l,e,!0)||$.data(a[o],u,e,!0))&&$.data(a[o],h,$.Callbacks("once memory"),!0))&&(c++,r.add(n));return n(),s.promise(i)}});var B,R,U,z=/[\n\t\r]/g,V=/\s+/,G=/\r/g,W=/^(?:button|input)$/i,q=/^(?:button|input|object|select|textarea)$/i,Y=/^a(?:rea)?$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,J=$.support.getSetAttribute;$.fn.extend({attr:function(t,e){return $.access(this,$.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){$.removeAttr(this,t)})},prop:function(t,e){return $.access(this,$.prop,t,e,arguments.length>1)},removeProp:function(t){return t=$.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,r,s,a,o;if($.isFunction(t))return this.each(function(e){$(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(V),i=0,n=this.length;n>i;i++)if(r=this[i],1===r.nodeType)if(r.className||1!==e.length){for(s=" "+r.className+" ",a=0,o=e.length;o>a;a++)~s.indexOf(" "+e[a]+" ")||(s+=e[a]+" ");r.className=$.trim(s)}else r.className=t;return this},removeClass:function(t){var i,n,r,s,a,o,c;if($.isFunction(t))return this.each(function(e){$(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(V),n=0,r=this.length;r>n;n++)if(s=this[n],1===s.nodeType&&s.className)if(t){for(a=(" "+s.className+" ").replace(z," "),o=0,c=i.length;c>o;o++)a=a.replace(" "+i[o]+" "," ");s.className=$.trim(a)}else s.className="";return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return $.isFunction(t)?this.each(function(i){$(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var r,s=0,a=$(this),o=e,c=t.split(V);r=c[s++];)o=n?o:!a.hasClass(r),a[o?"addClass":"removeClass"](r);else("undefined"===i||"boolean"===i)&&(this.className&&$._data(this,"__className__",this.className),this.className=this.className||t===!1?"":$._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(z," ").indexOf(e)>-1)return!0;return!1},val:function(t){var i,n,r,s=this[0];{if(arguments.length)return r=$.isFunction(t),this.each(function(n){var s,a=$(this);1===this.nodeType&&(s=r?t.call(this,n,a.val()):t,null==s?s="":"number"==typeof s?s+="":$.isArray(s)&&(s=$.map(s,function(t){return null==t?"":t+""})),i=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==e||(this.value=s))});if(s)return i=$.valHooks[s.type]||$.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==e?n:(n=s.value,"string"==typeof n?n.replace(G,""):null==n?"":n)}}}),$.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,i,n,r,s=t.selectedIndex,a=[],o=t.options,c="select-one"===t.type;if(0>s)return null;for(i=c?s:0,n=c?s+1:o.length;n>i;i++)if(r=o[i],r.selected&&($.support.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!$.nodeName(r.parentNode,"optgroup"))){if(e=$(r).val(),c)return e;a.push(e)}return c&&!a.length&&o.length?$(o[s]).val():a},set:function(t,e){var i=$.makeArray(e);return $(t).find("option").each(function(){this.selected=$.inArray($(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,i,n,r){var s,a,o,c=t.nodeType;if(t&&3!==c&&8!==c&&2!==c)return r&&i in $.attrFn?$(t)[i](n):"undefined"==typeof t.getAttribute?$.prop(t,i,n):(o=1!==c||!$.isXMLDoc(t),o&&(i=i.toLowerCase(),a=$.attrHooks[i]||(X.test(i)?R:B)),n!==e?null===n?void $.removeAttr(t,i):a&&"set"in a&&o&&(s=a.set(t,n,i))!==e?s:(t.setAttribute(i,""+n),n):a&&"get"in a&&o&&null!==(s=a.get(t,i))?s:(s=t.getAttribute(i),null===s?e:s))},removeAttr:function(t,e){var i,n,r,s,a,o=0;if(e&&1===t.nodeType)for(n=e.toLowerCase().split(V),s=n.length;s>o;o++)r=n[o],r&&(i=$.propFix[r]||r,a=X.test(r),a||$.attr(t,r,""),t.removeAttribute(J?r:i),a&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(W.test(t.nodeName)&&t.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===e&&$.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return B&&$.nodeName(t,"button")?B.get(t,e):e in t?t.value:null},set:function(t,e,i){return B&&$.nodeName(t,"button")?B.set(t,e,i):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var r,s,a,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return a=1!==o||!$.isXMLDoc(t),a&&(i=$.propFix[i]||i,s=$.propHooks[i]),n!==e?s&&"set"in s&&(r=s.set(t,n,i))!==e?r:t[i]=n:s&&"get"in s&&null!==(r=s.get(t,i))?r:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):q.test(t.nodeName)||Y.test(t.nodeName)&&t.href?0:e}}}}),$.attrHooks.tabindex=$.propHooks.tabIndex,R={get:function(t,i){var n,r=$.prop(t,i);return r===!0||"boolean"!=typeof r&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?$.removeAttr(t,i):(n=$.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},J||(U={name:!0,id:!0,coords:!0},B=$.valHooks.button={get:function(t,i){var n;return n=t.getAttributeNode(i),n&&(U[i]?""!==n.nodeValue:n.specified)?n.nodeValue:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=H.createAttribute(i),t.setAttributeNode(n)),n.nodeValue=e+""}},$.attrHooks.tabindex.set=B.set,$.each(["width","height"],function(t,e){$.attrHooks[e]=$.extend($.attrHooks[e],{set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}})}),$.attrHooks.contenteditable={get:B.get,set:function(t,e,i){""===e&&(e="false"),B.set(t,e,i)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(t,i){$.attrHooks[i]=$.extend($.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),$.support.style||($.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(t,e){return $.isArray(e)?t.checked=$.inArray($(t).val(),e)>=0:void 0}})});var K=/^(?:textarea|input|select)$/i,Q=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,tt=/^key/,et=/^(?:mouse|contextmenu)|click/,it=/^(?:focusinfocus|focusoutblur)$/,nt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,rt=function(t){var e=nt.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},st=function(t,e){var i=t.attributes||{};return(!e[1]||t.nodeName.toLowerCase()===e[1])&&(!e[2]||(i.id||{}).value===e[2])&&(!e[3]||e[3].test((i["class"]||{}).value))},at=function(t){return $.event.special.hover?t:t.replace(Z,"mouseenter$1 mouseleave$1")};$.event={add:function(t,i,n,r,s){var a,o,c,h,l,u,d,p,f,g,m;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(a=$._data(t))){for(n.handler&&(f=n,n=f.handler,s=f.selector),n.guid||(n.guid=$.guid++),c=a.events,c||(a.events=c={}),o=a.handle,o||(a.handle=o=function(t){return"undefined"==typeof $||t&&$.event.triggered===t.type?e:$.event.dispatch.apply(o.elem,arguments);
},o.elem=t),i=$.trim(at(i)).split(" "),h=0;h<i.length;h++)l=Q.exec(i[h])||[],u=l[1],d=(l[2]||"").split(".").sort(),m=$.event.special[u]||{},u=(s?m.delegateType:m.bindType)||u,m=$.event.special[u]||{},p=$.extend({type:u,origType:l[1],data:r,handler:n,guid:n.guid,selector:s,quick:s&&rt(s),namespace:d.join(".")},f),g=c[u],g||(g=c[u]=[],g.delegateCount=0,m.setup&&m.setup.call(t,r,d,o)!==!1||(t.addEventListener?t.addEventListener(u,o,!1):t.attachEvent&&t.attachEvent("on"+u,o))),m.add&&(m.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),s?g.splice(g.delegateCount++,0,p):g.push(p),$.event.global[u]=!0;t=null}},global:{},remove:function(t,e,i,n,r){var s,a,o,c,h,l,u,d,p,f,g,m,v=$.hasData(t)&&$._data(t);if(v&&(d=v.events)){for(e=$.trim(at(e||"")).split(" "),s=0;s<e.length;s++)if(a=Q.exec(e[s])||[],o=c=a[1],h=a[2],o){for(p=$.event.special[o]||{},o=(n?p.delegateType:p.bindType)||o,g=d[o]||[],l=g.length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=0;u<g.length;u++)m=g[u],!r&&c!==m.origType||i&&i.guid!==m.guid||h&&!h.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(g.splice(u--,1),m.selector&&g.delegateCount--,p.remove&&p.remove.call(t,m));0===g.length&&l!==g.length&&(p.teardown&&p.teardown.call(t,h)!==!1||$.removeEvent(t,o,v.handle),delete d[o])}else for(o in d)$.event.remove(t,o+e[s],i,n,!0);$.isEmptyObject(d)&&(f=v.handle,f&&(f.elem=null),$.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,s){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,o,c,h,l,u,d,p,f,g,m=i.type||i,v=[];if(!it.test(m+$.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),o=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),r&&!$.event.customEvent[m]||$.event.global[m]))if(i="object"==typeof i?i[$.expando]?i:new $.Event(m,i):new $.Event(m),i.type=m,i.isTrigger=!0,i.exclusive=o,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=m.indexOf(":")<0?"on"+m:"",r){if(i.result=e,i.target||(i.target=r),n=null!=n?$.makeArray(n):[],n.unshift(i),d=$.event.special[m]||{},!d.trigger||d.trigger.apply(r,n)!==!1){if(f=[[r,d.bindType||m]],!s&&!d.noBubble&&!$.isWindow(r)){for(g=d.delegateType||m,h=it.test(g+m)?r:r.parentNode,l=null;h;h=h.parentNode)f.push([h,g]),l=h;l&&l===r.ownerDocument&&f.push([l.defaultView||l.parentWindow||t,g])}for(c=0;c<f.length&&!i.isPropagationStopped();c++)h=f[c][0],i.type=f[c][1],p=($._data(h,"events")||{})[i.type]&&$._data(h,"handle"),p&&p.apply(h,n),p=u&&h[u],p&&$.acceptData(h)&&p.apply(h,n)===!1&&i.preventDefault();return i.type=m,s||i.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,n)!==!1||"click"===m&&$.nodeName(r,"a")||!$.acceptData(r)||u&&r[m]&&("focus"!==m&&"blur"!==m||0!==i.target.offsetWidth)&&!$.isWindow(r)&&(l=r[u],l&&(r[u]=null),$.event.triggered=m,r[m](),$.event.triggered=e,l&&(r[u]=l)),i.result}}else{a=$.cache;for(c in a)a[c].events&&a[c].events[m]&&$.event.trigger(i,n,a[c].handle.elem,!0)}}},dispatch:function(i){i=$.event.fix(i||t.event);var n,r,s,a,o,c,h,l,u,d,p=($._data(this,"events")||{})[i.type]||[],f=p.delegateCount,g=[].slice.call(arguments,0),m=!i.exclusive&&!i.namespace,v=$.event.special[i.type]||{},y=[];if(g[0]=i,i.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,i)!==!1){if(f&&(!i.button||"click"!==i.type))for(a=$(this),a.context=this.ownerDocument||this,s=i.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0){for(c={},l=[],a[0]=s,n=0;f>n;n++)u=p[n],d=u.selector,c[d]===e&&(c[d]=u.quick?st(s,u.quick):a.is(d)),c[d]&&l.push(u);l.length&&y.push({elem:s,matches:l})}for(p.length>f&&y.push({elem:this,matches:p.slice(f)}),n=0;n<y.length&&!i.isPropagationStopped();n++)for(h=y[n],i.currentTarget=h.elem,r=0;r<h.matches.length&&!i.isImmediatePropagationStopped();r++)u=h.matches[r],(m||!i.namespace&&!u.namespace||i.namespace_re&&i.namespace_re.test(u.namespace))&&(i.data=u.data,i.handleObj=u,o=(($.event.special[u.origType]||{}).handle||u.handler).apply(h.elem,g),o!==e&&(i.result=o,o===!1&&(i.preventDefault(),i.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,r,s,a=i.button,o=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||H,r=n.documentElement,s=n.body,t.pageX=i.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=i.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?i.toElement:o),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[$.expando])return t;var i,n,r=t,s=$.event.fixHooks[t.type]||{},a=s.props?this.props.concat(s.props):this.props;for(t=$.Event(r),i=a.length;i;)n=a[--i],t[n]=r[n];return t.target||(t.target=r.srcElement||H),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===e&&(t.metaKey=t.ctrlKey),s.filter?s.filter(t,r):t},special:{ready:{setup:$.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){$.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var r=$.extend(new $.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?$.event.trigger(r,null,e):$.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=H.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){t.detachEvent&&t.detachEvent("on"+e,i)},$.Event=function(t,e){return this instanceof $.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?o:a):this.type=t,e&&$.extend(this,e),this.timeStamp=t&&t.timeStamp||$.now(),void(this[$.expando]=!0)):new $.Event(t,e)},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){$.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;s.selector;return(!r||r!==n&&!$.contains(n,r))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){return $.nodeName(this,"form")?!1:void $.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=$.nodeName(i,"input")||$.nodeName(i,"button")?i.form:e;n&&!n._submit_attached&&($.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),n._submit_attached=!0)})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&$.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return $.nodeName(this,"form")?!1:void $.event.remove(this,"._submit")}}),$.support.changeBubbles||($.event.special.change={setup:function(){return K.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&($.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,$.event.simulate("change",this,t,!0))})),!1):void $.event.add(this,"beforeactivate._change",function(t){var e=t.target;K.test(e.nodeName)&&!e._change_attached&&($.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||$.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),K.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){$.event.simulate(e,t.target,$.event.fix(t),!0)};$.event.special[e]={setup:function(){0===i++&&H.addEventListener(t,n,!0)},teardown:function(){0===--i&&H.removeEventListener(t,n,!0)}}}),$.fn.extend({on:function(t,i,n,r,s){var o,c;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(c in t)this.on(c,i,n,t[c],s);return this}if(null==n&&null==r?(r=i,n=i=e):null==r&&("string"==typeof i?(r=n,n=e):(r=n,n=i,i=e)),r===!1)r=a;else if(!r)return this;return 1===s&&(o=r,r=function(t){return $().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=$.guid++)),this.each(function(){$.event.add(this,t,r,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){if(t&&t.preventDefault&&t.handleObj){var r=t.handleObj;return $(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if("object"==typeof t){for(var s in t)this.off(s,i,t[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=a),this.each(function(){$.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return $(this.context).on(t,this.selector,e,i),this},die:function(t,e){return $(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1==arguments.length?this.off(t,"**"):this.off(e,t,i)},trigger:function(t,e){return this.each(function(){$.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?$.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,i=t.guid||$.guid++,n=0,r=function(i){var r=($._data(this,"lastToggle"+t.guid)||0)%n;return $._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),e[r].apply(this,arguments)||!1};for(r.guid=i;n<e.length;)e[n++].guid=i;return this.click(r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){$.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},$.attrFn&&($.attrFn[e]=!0),tt.test(e)&&($.event.fixHooks[e]=$.event.keyHooks),et.test(e)&&($.event.fixHooks[e]=$.event.mouseHooks)}),function(){function t(t,e,i,n,s,a){for(var o=0,c=n.length;c>o;o++){var h=n[o];if(h){var l=!1;for(h=h[t];h;){if(h[r]===i){l=n[h.sizset];break}if(1!==h.nodeType||a||(h[r]=i,h.sizset=o),h.nodeName.toLowerCase()===e){l=h;break}h=h[t]}n[o]=l}}}function i(t,e,i,n,s,a){for(var o=0,c=n.length;c>o;o++){var h=n[o];if(h){var l=!1;for(h=h[t];h;){if(h[r]===i){l=n[h.sizset];break}if(1===h.nodeType)if(a||(h[r]=i,h.sizset=o),"string"!=typeof e){if(h===e){l=!0;break}}else if(d.filter(e,[h]).length>0){l=h;break}h=h[t]}n[o]=l}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),s=0,a=Object.prototype.toString,o=!1,c=!0,h=/\\/g,l=/\r\n/g,u=/\W/;[0,0].sort(function(){return c=!1,0});var d=function(t,e,i,r){i=i||[],e=e||H;var s=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return i;var o,c,h,l,u,p,m,v,b=!0,w=d.isXML(e),_=[],k=t;do if(n.exec(""),o=n.exec(k),o&&(k=o[3],_.push(o[1]),o[2])){l=o[3];break}while(o);if(_.length>1&&g.exec(t))if(2===_.length&&f.relative[_[0]])c=x(_[0]+_[1],e,r);else for(c=f.relative[_[0]]?[e]:d(_.shift(),e);_.length;)t=_.shift(),f.relative[t]&&(t+=_.shift()),c=x(t,c,r);else if(!r&&_.length>1&&9===e.nodeType&&!w&&f.match.ID.test(_[0])&&!f.match.ID.test(_[_.length-1])&&(u=d.find(_.shift(),e,w),e=u.expr?d.filter(u.expr,u.set)[0]:u.set[0]),e)for(u=r?{expr:_.pop(),set:y(r)}:d.find(_.pop(),1!==_.length||"~"!==_[0]&&"+"!==_[0]||!e.parentNode?e:e.parentNode,w),c=u.expr?d.filter(u.expr,u.set):u.set,_.length>0?h=y(c):b=!1;_.length;)p=_.pop(),m=p,f.relative[p]?m=_.pop():p="",null==m&&(m=e),f.relative[p](h,m,w);else h=_=[];if(h||(h=c),h||d.error(p||t),"[object Array]"===a.call(h))if(b)if(e&&1===e.nodeType)for(v=0;null!=h[v];v++)h[v]&&(h[v]===!0||1===h[v].nodeType&&d.contains(e,h[v]))&&i.push(c[v]);else for(v=0;null!=h[v];v++)h[v]&&1===h[v].nodeType&&i.push(c[v]);else i.push.apply(i,h);else y(h,i);return l&&(d(l,s,i,r),d.uniqueSort(i)),i};d.uniqueSort=function(t){if(w&&(o=c,t.sort(w),o))for(var e=1;e<t.length;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},d.matches=function(t,e){return d(t,null,null,e)},d.matchesSelector=function(t,e){return d(e,null,null,[t]).length>0},d.find=function(t,e,i){var n,r,s,a,o,c;if(!t)return[];for(r=0,s=f.order.length;s>r;r++)if(o=f.order[r],(a=f.leftMatch[o].exec(t))&&(c=a[1],a.splice(1,1),"\\"!==c.substr(c.length-1)&&(a[1]=(a[1]||"").replace(h,""),n=f.find[o](a,e,i),null!=n))){t=t.replace(f.match[o],"");break}return n||(n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):[]),{set:n,expr:t}},d.filter=function(t,i,n,r){for(var s,a,o,c,h,l,u,p,g,m=t,v=[],y=i,b=i&&i[0]&&d.isXML(i[0]);t&&i.length;){for(o in f.filter)if(null!=(s=f.leftMatch[o].exec(t))&&s[2]){if(l=f.filter[o],u=s[1],a=!1,s.splice(1,1),"\\"===u.substr(u.length-1))continue;if(y===v&&(v=[]),f.preFilter[o])if(s=f.preFilter[o](s,y,n,v,r,b)){if(s===!0)continue}else a=c=!0;if(s)for(p=0;null!=(h=y[p]);p++)h&&(c=l(h,s,p,y),g=r^c,n&&null!=c?g?a=!0:y[p]=!1:g&&(v.push(h),a=!0));if(c!==e){if(n||(y=v),t=t.replace(f.match[o],""),!a)return[];break}}if(t===m){if(null!=a)break;d.error(t)}m=t}return y},d.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};var p=d.getText=function(t){var e,i,n=t.nodeType,r="";if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(l,"");for(t=t.firstChild;t;t=t.nextSibling)r+=p(t)}else if(3===n||4===n)return t.nodeValue}else for(e=0;i=t[e];e++)8!==i.nodeType&&(r+=p(i));return r},f=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var i="string"==typeof e,n=i&&!u.test(e),r=i&&!n;n&&(e=e.toLowerCase());for(var s,a=0,o=t.length;o>a;a++)if(s=t[a]){for(;(s=s.previousSibling)&&1!==s.nodeType;);t[a]=r||s&&s.nodeName.toLowerCase()===e?s||!1:s===e}r&&d.filter(e,t,!0)},">":function(t,e){var i,n="string"==typeof e,r=0,s=t.length;if(n&&!u.test(e)){for(e=e.toLowerCase();s>r;r++)if(i=t[r]){var a=i.parentNode;t[r]=a.nodeName.toLowerCase()===e?a:!1}}else{for(;s>r;r++)i=t[r],i&&(t[r]=n?i.parentNode:i.parentNode===e);n&&d.filter(e,t,!0)}},"":function(e,n,r){var a,o=s++,c=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),a=n,c=t),c("parentNode",n,o,e,a,r)},"~":function(e,n,r){var a,o=s++,c=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),a=n,c=t),c("previousSibling",n,o,e,a,r)}},find:{ID:function(t,e,i){if("undefined"!=typeof e.getElementById&&!i){var n=e.getElementById(t[1]);return n&&n.parentNode?[n]:[]}},NAME:function(t,e){if("undefined"!=typeof e.getElementsByName){for(var i=[],n=e.getElementsByName(t[1]),r=0,s=n.length;s>r;r++)n[r].getAttribute("name")===t[1]&&i.push(n[r]);return 0===i.length?null:i}},TAG:function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t[1]):void 0}},preFilter:{CLASS:function(t,e,i,n,r,s){if(t=" "+t[1].replace(h,"")+" ",s)return t;for(var a,o=0;null!=(a=e[o]);o++)a&&(r^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?i||n.push(a):i&&(e[o]=!1));return!1},ID:function(t){return t[1].replace(h,"")},TAG:function(t,e){return t[1].replace(h,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||d.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&d.error(t[0]);return t[0]=s++,t},ATTR:function(t,e,i,n,r,s){var a=t[1]=t[1].replace(h,"");return!s&&f.attrMap[a]&&(t[1]=f.attrMap[a]),t[4]=(t[4]||t[5]||"").replace(h,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,i,r,s){if("not"===t[1]){if(!((n.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var a=d.filter(t[3],e,i,!0^s);return i||r.push.apply(r,a),!1}t[3]=d(t[3],null,null,e)}else if(f.match.POS.test(t[0])||f.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,i){return!!d(i[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),i=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===i&&(e===i||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,i,n){return e===n.length-1},even:function(t,e){return e%2===0},odd:function(t,e){return e%2===1},lt:function(t,e,i){return e<i[3]-0},gt:function(t,e,i){return e>i[3]-0},nth:function(t,e,i){return i[3]-0===e},eq:function(t,e,i){return i[3]-0===e}},filter:{PSEUDO:function(t,e,i,n){var r=e[1],s=f.filters[r];if(s)return s(t,i,e,n);if("contains"===r)return(t.textContent||t.innerText||p([t])||"").indexOf(e[3])>=0;if("not"===r){for(var a=e[3],o=0,c=a.length;c>o;o++)if(a[o]===t)return!1;return!0}d.error(r)},CHILD:function(t,e){var i,n,s,a,o,c,h=e[1],l=t;switch(h){case"only":case"first":for(;l=l.previousSibling;)if(1===l.nodeType)return!1;if("first"===h)return!0;l=t;case"last":for(;l=l.nextSibling;)if(1===l.nodeType)return!1;return!0;case"nth":if(i=e[2],n=e[3],1===i&&0===n)return!0;if(s=e[0],a=t.parentNode,a&&(a[r]!==s||!t.nodeIndex)){for(o=0,l=a.firstChild;l;l=l.nextSibling)1===l.nodeType&&(l.nodeIndex=++o);a[r]=s}return c=t.nodeIndex-n,0===i?0===c:c%i===0&&c/i>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var i=e[1],n=d.attr?d.attr(t,i):f.attrHandle[i]?f.attrHandle[i](t):null!=t[i]?t[i]:t.getAttribute(i),r=n+"",s=e[2],a=e[4];return null==n?"!="===s:!s&&d.attr?null!=n:"="===s?r===a:"*="===s?r.indexOf(a)>=0:"~="===s?(" "+r+" ").indexOf(a)>=0:a?"!="===s?r!==a:"^="===s?0===r.indexOf(a):"$="===s?r.substr(r.length-a.length)===a:"|="===s?r===a||r.substr(0,a.length+1)===a+"-":!1:r&&n!==!1},POS:function(t,e,i,n){var r=e[2],s=f.setFilters[r];return s?s(t,i,e,n):void 0}}},g=f.match.POS,m=function(t,e){return"\\"+(e-0+1)};for(var v in f.match)f.match[v]=new RegExp(f.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[v].source.replace(/\\(\d+)/g,m));f.match.globalPOS=g;var y=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(H.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(t,e){var i=0,n=e||[];if("[object Array]"===a.call(t))Array.prototype.push.apply(n,t);else if("number"==typeof t.length)for(var r=t.length;r>i;i++)n.push(t[i]);else for(;t[i];i++)n.push(t[i]);return n}}var w,_;H.documentElement.compareDocumentPosition?w=function(t,e){return t===e?(o=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(w=function(t,e){if(t===e)return o=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,r=[],s=[],a=t.parentNode,c=e.parentNode,h=a;if(a===c)return _(t,e);if(!a)return-1;if(!c)return 1;for(;h;)r.unshift(h),h=h.parentNode;for(h=c;h;)s.unshift(h),h=h.parentNode;i=r.length,n=s.length;for(var l=0;i>l&&n>l;l++)if(r[l]!==s[l])return _(r[l],s[l]);return l===i?_(t,s[l],-1):_(r[l],e,1)},_=function(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}),function(){var t=H.createElement("div"),i="script"+(new Date).getTime(),n=H.documentElement;t.innerHTML="<a name='"+i+"'/>",n.insertBefore(t,n.firstChild),H.getElementById(i)&&(f.find.ID=function(t,i,n){if("undefined"!=typeof i.getElementById&&!n){var r=i.getElementById(t[1]);return r?r.id===t[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===t[1]?[r]:e:[]}},f.filter.ID=function(t,e){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&i&&i.nodeValue===e}),n.removeChild(t),n=t=null}(),function(){var t=H.createElement("div");t.appendChild(H.createComment("")),t.getElementsByTagName("*").length>0&&(f.find.TAG=function(t,e){var i=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var n=[],r=0;i[r];r++)1===i[r].nodeType&&n.push(i[r]);i=n}return i}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(f.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),H.querySelectorAll&&!function(){var t=d,e=H.createElement("div"),i="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){d=function(e,n,r,s){if(n=n||H,!s&&!d.isXML(n)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(a&&(1===n.nodeType||9===n.nodeType)){if(a[1])return y(n.getElementsByTagName(e),r);if(a[2]&&f.find.CLASS&&n.getElementsByClassName)return y(n.getElementsByClassName(a[2]),r)}if(9===n.nodeType){if("body"===e&&n.body)return y([n.body],r);if(a&&a[3]){var o=n.getElementById(a[3]);if(!o||!o.parentNode)return y([],r);if(o.id===a[3])return y([o],r)}try{return y(n.querySelectorAll(e),r)}catch(c){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var h=n,l=n.getAttribute("id"),u=l||i,p=n.parentNode,g=/^\s*[+~]/.test(e);l?u=u.replace(/'/g,"\\$&"):n.setAttribute("id",u),g&&p&&(n=n.parentNode);try{if(!g||p)return y(n.querySelectorAll("[id='"+u+"'] "+e),r)}catch(m){}finally{l||h.removeAttribute("id")}}}return t(e,n,r,s)};for(var n in t)d[n]=t[n];e=null}}(),function(){var t=H.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var i=!e.call(H.createElement("div"),"div"),n=!1;try{e.call(H.documentElement,"[test!='']:sizzle")}catch(r){n=!0}d.matchesSelector=function(t,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(t))try{if(n||!f.match.PSEUDO.test(r)&&!/!=/.test(r)){var s=e.call(t,r);if(s||!i||t.document&&11!==t.document.nodeType)return s}}catch(a){}return d(r,null,null,[t]).length>0}}}(),function(){var t=H.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(f.order.splice(1,0,"CLASS"),f.find.CLASS=function(t,e,i){return"undefined"==typeof e.getElementsByClassName||i?void 0:e.getElementsByClassName(t[1])},t=null))}(),H.documentElement.contains?d.contains=function(t,e){return t!==e&&(t.contains?t.contains(e):!0)}:H.documentElement.compareDocumentPosition?d.contains=function(t,e){return!!(16&t.compareDocumentPosition(e))}:d.contains=function(){return!1},d.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1};var x=function(t,e,i){for(var n,r=[],s="",a=e.nodeType?[e]:e;n=f.match.PSEUDO.exec(t);)s+=n[0],t=t.replace(f.match.PSEUDO,"");t=f.relative[t]?t+"*":t;for(var o=0,c=a.length;c>o;o++)d(t,a[o],r,i);return d.filter(s,r)};d.attr=$.attr,d.selectors.attrMap={},$.find=d,$.expr=d.selectors,$.expr[":"]=$.expr.filters,$.unique=d.uniqueSort,$.text=d.getText,$.isXMLDoc=d.isXML,$.contains=d.contains}();var ot=/Until$/,ct=/^(?:parents|prevUntil|prevAll)/,ht=/,/,lt=/^.[^:#\[\.,]*$/,ut=Array.prototype.slice,dt=$.expr.match.globalPOS,pt={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(t){var e,i,n=this;if("string"!=typeof t)return $(t).filter(function(){for(e=0,i=n.length;i>e;e++)if($.contains(n[e],this))return!0});var r,s,a,o=this.pushStack("","find",t);for(e=0,i=this.length;i>e;e++)if(r=o.length,$.find(t,this[e],o),e>0)for(s=r;s<o.length;s++)for(a=0;r>a;a++)if(o[a]===o[s]){o.splice(s--,1);break}return o},has:function(t){var e=$(t);return this.filter(function(){for(var t=0,i=e.length;i>t;t++)if($.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(h(this,t,!1),"not",t)},filter:function(t){return this.pushStack(h(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?dt.test(t)?$(t,this.context).index(this[0])>=0:$.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var i,n,r=[],s=this[0];if($.isArray(t)){for(var a=1;s&&s.ownerDocument&&s!==e;){for(i=0;i<t.length;i++)$(s).is(t[i])&&r.push({selector:t[i],elem:s,level:a});s=s.parentNode,a++}return r}var o=dt.test(t)||"string"!=typeof t?$(t,e||this.context):0;for(i=0,n=this.length;n>i;i++)for(s=this[i];s;){if(o?o.index(s)>-1:$.find.matchesSelector(s,t)){r.push(s);break}if(s=s.parentNode,!s||!s.ownerDocument||s===e||11===s.nodeType)break}return r=r.length>1?$.unique(r):r,this.pushStack(r,"closest",t)},index:function(t){return t?"string"==typeof t?$.inArray(this[0],$(t)):$.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?$(t,e):$.makeArray(t&&t.nodeType?[t]:t),n=$.merge(this.get(),i);return this.pushStack(c(i[0])||c(n[0])?n:$.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),$.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return $.dir(t,"parentNode")},parentsUntil:function(t,e,i){return $.dir(t,"parentNode",i)},next:function(t){return $.nth(t,2,"nextSibling")},prev:function(t){return $.nth(t,2,"previousSibling")},nextAll:function(t){return $.dir(t,"nextSibling")},prevAll:function(t){return $.dir(t,"previousSibling")},nextUntil:function(t,e,i){return $.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return $.dir(t,"previousSibling",i)},siblings:function(t){return $.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return $.sibling(t.firstChild)},contents:function(t){return $.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:$.makeArray(t.childNodes)}},function(t,e){$.fn[t]=function(i,n){var r=$.map(this,e,i);return ot.test(t)||(n=i),n&&"string"==typeof n&&(r=$.filter(n,r)),r=this.length>1&&!pt[t]?$.unique(r):r,(this.length>1||ht.test(n))&&ct.test(t)&&(r=r.reverse()),this.pushStack(r,t,ut.call(arguments).join(","))}}),$.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?$.find.matchesSelector(e[0],t)?[e[0]]:[]:$.find.matches(t,e)},dir:function(t,i,n){for(var r=[],s=t[i];s&&9!==s.nodeType&&(n===e||1!==s.nodeType||!$(s).is(n));)1===s.nodeType&&r.push(s),s=s[i];return r},nth:function(t,e,i,n){e=e||1;for(var r=0;t&&(1!==t.nodeType||++r!==e);t=t[i]);return t},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:\d+|null)"/g,mt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yt=/<([\w:]+)/,bt=/<tbody/i,wt=/<|&#?\w+;/,_t=/<(?:script|style)/i,xt=/<(?:script|object|embed|option|style)/i,kt=new RegExp("<(?:"+ft+")[\\s/>]","i"),Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/\/(java|ecma)script/i,Ct=/^\s*<!(?:\[CDATA\[|\-\-)/,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ot=l(H);At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,$.support.htmlSerialize||(At._default=[1,"div<div>","</div>"]),$.fn.extend({text:function(t){return $.access(this,function(t){return t===e?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if($.isFunction(t))return this.each(function(e){$(this).wrapAll(t.call(this,e))});if(this[0]){var e=$(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return $.isFunction(t)?this.each(function(e){$(this).wrapInner(t.call(this,e))}):this.each(function(){var e=$(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=$.isFunction(t);return this.each(function(i){$(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=$.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,$.clean(arguments)),t}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||$.filter(t,[i]).length)&&(e||1!==i.nodeType||($.cleanData(i.getElementsByTagName("*")),$.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&$.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return $.clone(this,t,e)})},html:function(t){return $.access(this,function(t){
var i=this[0]||{},n=0,r=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(gt,""):null;if("string"==typeof t&&!_t.test(t)&&($.support.leadingWhitespace||!mt.test(t))&&!At[(yt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(vt,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&($.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(s){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return this[0]&&this[0].parentNode?$.isFunction(t)?this.each(function(e){var i=$(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=$(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;$(this).remove(),e?$(e).before(t):$(i).append(t)})):this.length?this.pushStack($($.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){var r,s,a,o,c=t[0],h=[];if(!$.support.checkClone&&3===arguments.length&&"string"==typeof c&&Tt.test(c))return this.each(function(){$(this).domManip(t,i,n,!0)});if($.isFunction(c))return this.each(function(r){var s=$(this);t[0]=c.call(this,r,i?s.html():e),s.domManip(t,i,n)});if(this[0]){if(o=c&&c.parentNode,r=$.support.parentNode&&o&&11===o.nodeType&&o.childNodes.length===this.length?{fragment:o}:$.buildFragment(t,this,h),a=r.fragment,s=1===a.childNodes.length?a=a.firstChild:a.firstChild){i=i&&$.nodeName(s,"tr");for(var l=0,d=this.length,p=d-1;d>l;l++)n.call(i?u(this[l],s):this[l],r.cacheable||d>1&&p>l?$.clone(a,!0,!0):a)}h.length&&$.each(h,function(t,e){e.src?$.ajax({type:"GET",global:!1,url:e.src,async:!1,dataType:"script"}):$.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ct,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),$.buildFragment=function(t,e,i){var n,r,s,a,o=t[0];return e&&e[0]&&(a=e[0].ownerDocument||e[0]),a.createDocumentFragment||(a=H),!(1===t.length&&"string"==typeof o&&o.length<512&&a===H&&"<"===o.charAt(0))||xt.test(o)||!$.support.checkClone&&Tt.test(o)||!$.support.html5Clone&&kt.test(o)||(r=!0,s=$.fragments[o],s&&1!==s&&(n=s)),n||(n=a.createDocumentFragment(),$.clean(t,a,n,i)),r&&($.fragments[o]=s?n:1),{fragment:n,cacheable:r}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){$.fn[t]=function(i){var n=[],r=$(i),s=1===this.length&&this[0].parentNode;if(s&&11===s.nodeType&&1===s.childNodes.length&&1===r.length)return r[e](this[0]),this;for(var a=0,o=r.length;o>a;a++){var c=(a>0?this.clone(!0):this).get();$(r[a])[e](c),n=n.concat(c)}return this.pushStack(n,t,r.selector)}}),$.extend({clone:function(t,e,i){var n,r,s,a=$.support.html5Clone||$.isXMLDoc(t)||!kt.test("<"+t.nodeName+">")?t.cloneNode(!0):v(t);if(!($.support.noCloneEvent&&$.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||$.isXMLDoc(t)))for(p(t,a),n=f(t),r=f(a),s=0;n[s];++s)r[s]&&p(n[s],r[s]);if(e&&(d(t,a),i))for(n=f(t),r=f(a),s=0;n[s];++s)d(n[s],r[s]);return n=r=null,a},clean:function(t,e,i,n){var r,s,a,o=[];e=e||H,"undefined"==typeof e.createElement&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||H);for(var c,h=0;null!=(c=t[h]);h++)if("number"==typeof c&&(c+=""),c){if("string"==typeof c)if(wt.test(c)){c=c.replace(vt,"<$1></$2>");var u,d=(yt.exec(c)||["",""])[1].toLowerCase(),p=At[d]||At._default,f=p[0],g=e.createElement("div"),v=Ot.childNodes;for(e===H?Ot.appendChild(g):l(e).appendChild(g),g.innerHTML=p[1]+c+p[2];f--;)g=g.lastChild;if(!$.support.tbody){var y=bt.test(c),b="table"!==d||y?"<table>"!==p[1]||y?[]:g.childNodes:g.firstChild&&g.firstChild.childNodes;for(a=b.length-1;a>=0;--a)$.nodeName(b[a],"tbody")&&!b[a].childNodes.length&&b[a].parentNode.removeChild(b[a])}!$.support.leadingWhitespace&&mt.test(c)&&g.insertBefore(e.createTextNode(mt.exec(c)[0]),g.firstChild),c=g.childNodes,g&&(g.parentNode.removeChild(g),v.length>0&&(u=v[v.length-1],u&&u.parentNode&&u.parentNode.removeChild(u)))}else c=e.createTextNode(c);var w;if(!$.support.appendChecked)if(c[0]&&"number"==typeof(w=c.length))for(a=0;w>a;a++)m(c[a]);else m(c);c.nodeType?o.push(c):o=$.merge(o,c)}if(i)for(r=function(t){return!t.type||St.test(t.type)},h=0;o[h];h++)if(s=o[h],n&&$.nodeName(s,"script")&&(!s.type||St.test(s.type)))n.push(s.parentNode?s.parentNode.removeChild(s):s);else{if(1===s.nodeType){var _=$.grep(s.getElementsByTagName("script"),r);o.splice.apply(o,[h+1,0].concat(_))}i.appendChild(s)}return o},cleanData:function(t){for(var e,i,n,r=$.cache,s=$.event.special,a=$.support.deleteExpando,o=0;null!=(n=t[o]);o++)if((!n.nodeName||!$.noData[n.nodeName.toLowerCase()])&&(i=n[$.expando])){if(e=r[i],e&&e.events){for(var c in e.events)s[c]?$.event.remove(n,c):$.removeEvent(n,c,e.handle);e.handle&&(e.handle.elem=null)}a?delete n[$.expando]:n.removeAttribute&&n.removeAttribute($.expando),delete r[i]}}});var Pt,Dt,Et,Ht=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/([A-Z]|^ms)/g,$t=/^[\-+]?(?:\d*\.)?\d+$/i,Mt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Nt=/^([\-+])=([\-+.\de]+)/,Lt=/^margin/,It={position:"absolute",visibility:"hidden",display:"block"},Bt=["Top","Right","Bottom","Left"];$.fn.css=function(t,i){return $.access(this,function(t,i,n){return n!==e?$.style(t,i,n):$.css(t,i)},t,i,arguments.length>1)},$.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Pt(t,"opacity");return""===i?"1":i}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,a,o=$.camelCase(i),c=t.style,h=$.cssHooks[o];if(i=$.cssProps[o]||o,n===e)return h&&"get"in h&&(s=h.get(t,!1,r))!==e?s:c[i];if(a=typeof n,"string"===a&&(s=Nt.exec(n))&&(n=+(s[1]+1)*+s[2]+parseFloat($.css(t,i)),a="number"),!(null==n||"number"===a&&isNaN(n)||("number"!==a||$.cssNumber[o]||(n+="px"),h&&"set"in h&&(n=h.set(t,n))===e)))try{c[i]=n}catch(l){}}},css:function(t,i,n){var r,s;return i=$.camelCase(i),s=$.cssHooks[i],i=$.cssProps[i]||i,"cssFloat"===i&&(i="float"),s&&"get"in s&&(r=s.get(t,!0,n))!==e?r:Pt?Pt(t,i):void 0},swap:function(t,e,i){var n,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];n=i.call(t);for(r in e)t.style[r]=s[r];return n}}),$.curCSS=$.css,H.defaultView&&H.defaultView.getComputedStyle&&(Dt=function(t,e){var i,n,r,s,a=t.style;return e=e.replace(Ft,"-$1").toLowerCase(),(n=t.ownerDocument.defaultView)&&(r=n.getComputedStyle(t,null))&&(i=r.getPropertyValue(e),""!==i||$.contains(t.ownerDocument.documentElement,t)||(i=$.style(t,e))),!$.support.pixelMargin&&r&&Lt.test(e)&&Mt.test(i)&&(s=a.width,a.width=i,i=r.width,a.width=s),i}),H.documentElement.currentStyle&&(Et=function(t,e){var i,n,r,s=t.currentStyle&&t.currentStyle[e],a=t.style;return null==s&&a&&(r=a[e])&&(s=r),Mt.test(s)&&(i=a.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,n&&(t.runtimeStyle.left=n)),""===s?"auto":s}),Pt=Dt||Et,$.each(["height","width"],function(t,e){$.cssHooks[e]={get:function(t,i,n){return i?0!==t.offsetWidth?y(t,e,n):$.swap(t,It,function(){return y(t,e,n)}):void 0},set:function(t,e){return $t.test(e)?e+"px":e}}}),$.support.opacity||($.cssHooks.opacity={get:function(t,e){return jt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=$.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===$.trim(s.replace(Ht,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=Ht.test(s)?s.replace(Ht,r):s+" "+r)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(t,e){return $.swap(t,{display:"inline-block"},function(){return e?Pt(t,"margin-right"):t.style.marginRight})}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(t){var e=t.offsetWidth,i=t.offsetHeight;return 0===e&&0===i||!$.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||$.css(t,"display"))},$.expr.filters.visible=function(t){return!$.expr.filters.hidden(t)}),$.each({margin:"",padding:"",border:"Width"},function(t,e){$.cssHooks[t+e]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],s={};for(n=0;4>n;n++)s[t+Bt[n]+e]=r[n]||r[n-2]||r[0];return s}}});var Rt,Ut,zt=/%20/g,Vt=/\[\]$/,Gt=/\r?\n/g,Wt=/#.*$/,qt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Yt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Xt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Jt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Qt=/\?/,Zt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,te=/^(?:select|textarea)/i,ee=/\s+/,ie=/([?&])_=[^&]*/,ne=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,re=$.fn.load,se={},ae={},oe=["*/"]+["*"];try{Rt=F.href}catch(ce){Rt=H.createElement("a"),Rt.href="",Rt=Rt.href}Ut=ne.exec(Rt.toLowerCase())||[],$.fn.extend({load:function(t,i,n){if("string"!=typeof t&&re)return re.apply(this,arguments);if(!this.length)return this;var r=t.indexOf(" ");if(r>=0){var s=t.slice(r,t.length);t=t.slice(0,r)}var a="GET";i&&($.isFunction(i)?(n=i,i=e):"object"==typeof i&&(i=$.param(i,$.ajaxSettings.traditional),a="POST"));var o=this;return $.ajax({url:t,type:a,dataType:"html",data:i,complete:function(t,e,i){i=t.responseText,t.isResolved()&&(t.done(function(t){i=t}),o.html(s?$("<div>").append(i.replace(Zt,"")).find(s):i)),n&&o.each(n,[i,e,t])}}),this},serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||te.test(this.nodeName)||Yt.test(this.type))}).map(function(t,e){var i=$(this).val();return null==i?null:$.isArray(i)?$.map(i,function(t,i){return{name:e.name,value:t.replace(Gt,"\r\n")}}):{name:e.name,value:i.replace(Gt,"\r\n")}}).get()}}),$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){$.fn[e]=function(t){return this.on(e,t)}}),$.each(["get","post"],function(t,i){$[i]=function(t,n,r,s){return $.isFunction(n)&&(s=s||r,r=n,n=e),$.ajax({type:i,url:t,data:n,success:r,dataType:s})}}),$.extend({getScript:function(t,i){return $.get(t,e,i,"script")},getJSON:function(t,e,i){return $.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?_(t,$.ajaxSettings):(e=t,t=$.ajaxSettings),_(t,e),t},ajaxSettings:{url:Rt,isLocal:Xt.test(Ut[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":oe},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(se),ajaxTransport:b(ae),ajax:function(t,i){function n(t,i,n,a){if(2!==_){_=2,c&&clearTimeout(c),o=e,s=a||"",x.readyState=t>0?4:0;var h,u,y,b,w,S=i,C=n?k(d,x,n):e;if(t>=200&&300>t||304===t)if(d.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&($.lastModified[r]=b),(w=x.getResponseHeader("Etag"))&&($.etag[r]=w)),304===t)S="notmodified",h=!0;else try{u=T(d,C),S="success",h=!0}catch(A){S="parsererror",y=A}else y=S,(!S||t)&&(S="error",0>t&&(t=0));x.status=t,x.statusText=""+(i||S),h?g.resolveWith(p,[u,S,x]):g.rejectWith(p,[x,S,y]),x.statusCode(v),v=e,l&&f.trigger("ajax"+(h?"Success":"Error"),[x,d,h?u:y]),m.fireWith(p,[x,S]),l&&(f.trigger("ajaxComplete",[x,d]),--$.active||$.event.trigger("ajaxStop"))}}"object"==typeof t&&(i=t,t=e),i=i||{};var r,s,a,o,c,h,l,u,d=$.ajaxSetup({},i),p=d.context||d,f=p!==d&&(p.nodeType||p instanceof $)?$(p):$.event,g=$.Deferred(),m=$.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,x={readyState:0,setRequestHeader:function(t,e){if(!_){var i=t.toLowerCase();t=b[i]=b[i]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===_?s:null},getResponseHeader:function(t){var i;if(2===_){if(!a)for(a={};i=qt.exec(s);)a[i[1].toLowerCase()]=i[2];i=a[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return _||(d.mimeType=t),this},abort:function(t){return t=t||"abort",o&&o.abort(t),n(0,t),this}};if(g.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(t){if(t){var e;if(2>_)for(e in t)v[e]=[v[e],t[e]];else e=t[x.status],x.then(e,e)}return this},d.url=((t||d.url)+"").replace(Wt,"").replace(Kt,Ut[1]+"//"),d.dataTypes=$.trim(d.dataType||"*").toLowerCase().split(ee),null==d.crossDomain&&(h=ne.exec(d.url.toLowerCase()),d.crossDomain=!(!h||h[1]==Ut[1]&&h[2]==Ut[2]&&(h[3]||("http:"===h[1]?80:443))==(Ut[3]||("http:"===Ut[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=$.param(d.data,d.traditional)),w(se,d,i,x),2===_)return!1;if(l=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Jt.test(d.type),l&&0===$.active++&&$.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Qt.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var S=$.now(),C=d.url.replace(ie,"$1_="+S);d.url=C+(C===d.url?(Qt.test(d.url)?"&":"?")+"_="+S:"")}(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,$.lastModified[r]&&x.setRequestHeader("If-Modified-Since",$.lastModified[r]),$.etag[r]&&x.setRequestHeader("If-None-Match",$.etag[r])),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+oe+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)x.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===_))return x.abort(),!1;for(u in{success:1,error:1,complete:1})x[u](d[u]);if(o=w(ae,d,i,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(c=setTimeout(function(){x.abort("timeout")},d.timeout));try{_=1,o.send(y,n)}catch(A){if(!(2>_))throw A;n(-1,A)}}else n(-1,"No Transport");return x},param:function(t,i){var n=[],r=function(t,e){e=$.isFunction(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=$.ajaxSettings.traditional),$.isArray(t)||t.jquery&&!$.isPlainObject(t))$.each(t,function(){r(this.name,this.value)});else for(var s in t)x(s,t[s],i,r);return n.join("&").replace(zt,"+")}}),$.extend({active:0,lastModified:{},etag:{}});var he=$.now(),le=/(\=)\?(&|$)|\?\?/i;$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return $.expando+"_"+he++}}),$.ajaxPrefilter("json jsonp",function(e,i,n){var r="string"==typeof e.data&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(le.test(e.url)||r&&le.test(e.data))){var s,a=e.jsonpCallback=$.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o=t[a],c=e.url,h=e.data,l="$1"+a+"$2";return e.jsonp!==!1&&(c=c.replace(le,l),e.url===c&&(r&&(h=h.replace(le,l)),e.data===h&&(c+=(/\?/.test(c)?"&":"?")+e.jsonp+"="+a))),e.url=c,e.data=h,t[a]=function(t){s=[t]},n.always(function(){t[a]=o,s&&$.isFunction(o)&&t[a](s[0])}),e.converters["script json"]=function(){return s||$.error(a+" was not called"),s[0]},e.dataTypes[0]="json","script"}}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return $.globalEval(t),t}}}),$.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),$.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(r,s){i=H.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onerror=function(){t.error&&t.error(null,"error",null)},i.onload=i.onreadystatechange=function(t,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,r||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var ue,de=t.ActiveXObject?function(){for(var t in ue)ue[t](0,1)}:!1,pe=0;$.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&S()||C()}:S,function(t){$.extend($.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(i){if(!i.crossDomain||$.support.cors){var n;return{send:function(r,s){var a,o,c=i.xhr();if(i.username?c.open(i.type,i.url,i.async,i.username,i.password):c.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)c[o]=i.xhrFields[o];i.mimeType&&c.overrideMimeType&&c.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)c.setRequestHeader(o,r[o])}catch(h){}c.send(i.hasContent&&i.data||null),n=function(t,r){var o,h,l,u,d;try{if(n&&(r||4===c.readyState))if(n=e,a&&(c.onreadystatechange=$.noop,de&&delete ue[a]),r)4!==c.readyState&&c.abort();else{o=c.status,l=c.getAllResponseHeaders(),u={},d=c.responseXML,d&&d.documentElement&&(u.xml=d);try{u.text=c.responseText}catch(t){}try{h=c.statusText}catch(p){h=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=u.text?200:404}}catch(f){r||s(-1,f)}u&&s(o,h,u,l)},i.async&&4!==c.readyState?(a=++pe,de&&(ue||(ue={},$(t).unload(de)),ue[a]=n),c.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var fe,ge,me,ve,ye={},be=/^(?:toggle|show|hide)$/,we=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,_e=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];$.fn.extend({show:function(t,e,i){var n,r;if(t||0===t)return this.animate(P("show",3),t,e,i);for(var s=0,a=this.length;a>s;s++)n=this[s],n.style&&(r=n.style.display,$._data(n,"olddisplay")||"none"!==r||(r=n.style.display=""),(""===r&&"none"===$.css(n,"display")||!$.contains(n.ownerDocument.documentElement,n))&&$._data(n,"olddisplay",D(n.nodeName)));for(s=0;a>s;s++)n=this[s],n.style&&(r=n.style.display,(""===r||"none"===r)&&(n.style.display=$._data(n,"olddisplay")||""));return this},hide:function(t,e,i){if(t||0===t)return this.animate(P("hide",3),t,e,i);for(var n,r,s=0,a=this.length;a>s;s++)n=this[s],n.style&&(r=$.css(n,"display"),"none"===r||$._data(n,"olddisplay")||$._data(n,"olddisplay",r));for(s=0;a>s;s++)this[s].style&&(this[s].style.display="none");return this},_toggle:$.fn.toggle,toggle:function(t,e,i){var n="boolean"==typeof t;return $.isFunction(t)&&$.isFunction(e)?this._toggle.apply(this,arguments):null==t||n?this.each(function(){var e=n?t:$(this).is(":hidden");$(this)[e?"show":"hide"]()}):this.animate(P("toggle",3),t,e,i),this},fadeTo:function(t,e,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){function r(){s.queue===!1&&$._mark(this);var e,i,n,r,a,o,c,h,l,u,d,p=$.extend({},s),f=1===this.nodeType,g=f&&$(this).is(":hidden");p.animatedProperties={};for(n in t)if(e=$.camelCase(n),n!==e&&(t[e]=t[n],delete t[n]),(a=$.cssHooks[e])&&"expand"in a){o=a.expand(t[e]),delete t[e];for(n in o)n in t||(t[n]=o[n])}for(e in t){if(i=t[e],$.isArray(i)?(p.animatedProperties[e]=i[1],i=t[e]=i[0]):p.animatedProperties[e]=p.specialEasing&&p.specialEasing[e]||p.easing||"swing","hide"===i&&g||"show"===i&&!g)return p.complete.call(this);!f||"height"!==e&&"width"!==e||(p.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===$.css(this,"display")&&"none"===$.css(this,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==D(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=p.overflow&&(this.style.overflow="hidden");for(n in t)r=new $.fx(this,p,n),i=t[n],be.test(i)?(d=$._data(this,"toggle"+n)||("toggle"===i?g?"show":"hide":0),d?($._data(this,"toggle"+n,"show"===d?"hide":"show"),r[d]()):r[i]()):(c=we.exec(i),h=r.cur(),c?(l=parseFloat(c[2]),u=c[3]||($.cssNumber[n]?"":"px"),"px"!==u&&($.style(this,n,(l||1)+u),h=(l||1)/r.cur()*h,$.style(this,n,h+u)),c[1]&&(l=("-="===c[1]?-1:1)*l+h),r.custom(h,l,u)):r.custom(h,i,""));return!0}var s=$.speed(e,i,n);return $.isEmptyObject(t)?this.each(s.complete,[!1]):(t=$.extend({},t),s.queue===!1?this.each(r):this.queue(s.queue,r))},stop:function(t,i,n){return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,i){var r=e[i];$.removeData(t,i,!0),r.stop(n)}var i,r=!1,s=$.timers,a=$._data(this);if(n||$._unmark(!0,this),null==t)for(i in a)a[i]&&a[i].stop&&i.indexOf(".run")===i.length-4&&e(this,a,i);else a[i=t+".run"]&&a[i].stop&&e(this,a,i);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(n?s[i](!0):s[i].saveState(),r=!0,s.splice(i,1));n&&r||$.dequeue(this,t)})}}),$.each({slideDown:P("show",1),slideUp:P("hide",1),slideToggle:P("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){$.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),$.extend({speed:function(t,e,i){var n=t&&"object"==typeof t?$.extend({},t):{complete:i||!i&&e||$.isFunction(t)&&t,duration:t,easing:i&&e||e&&!$.isFunction(e)&&e};return n.duration=$.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in $.fx.speeds?$.fx.speeds[n.duration]:$.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(t){$.isFunction(n.old)&&n.old.call(this),n.queue?$.dequeue(this,n.queue):t!==!1&&$._unmark(this)},n},easing:{linear:function(t){return t},swing:function(t){return-Math.cos(t*Math.PI)/2+.5}},timers:[],fx:function(t,e,i){this.options=e,this.elem=t,this.prop=i,e.orig=e.orig||{}}}),$.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),($.fx.step[this.prop]||$.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=$.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,i,n){function r(t){return s.step(t)}var s=this,a=$.fx;this.startTime=ve||A(),this.end=i,this.now=this.start=t,this.pos=this.state=0,this.unit=n||this.unit||($.cssNumber[this.prop]?"":"px"),r.queue=this.options.queue,r.elem=this.elem,r.saveState=function(){$._data(s.elem,"fxshow"+s.prop)===e&&(s.options.hide?$._data(s.elem,"fxshow"+s.prop,s.start):s.options.show&&$._data(s.elem,"fxshow"+s.prop,s.end))},r()&&$.timers.push(r)&&!me&&(me=setInterval(a.tick,a.interval))},show:function(){var t=$._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||$.style(this.elem,this.prop),this.options.show=!0,t!==e?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),$(this.elem).show()},hide:function(){this.options.orig[this.prop]=$._data(this.elem,"fxshow"+this.prop)||$.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,i,n,r=ve||A(),s=!0,a=this.elem,o=this.options;if(t||r>=o.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),o.animatedProperties[this.prop]=!0;for(e in o.animatedProperties)o.animatedProperties[e]!==!0&&(s=!1);if(s){if(null==o.overflow||$.support.shrinkWrapBlocks||$.each(["","X","Y"],function(t,e){a.style["overflow"+e]=o.overflow[t]}),o.hide&&$(a).hide(),o.hide||o.show)for(e in o.animatedProperties)$.style(a,e,o.orig[e]),$.removeData(a,"fxshow"+e,!0),$.removeData(a,"toggle"+e,!0);n=o.complete,n&&(o.complete=!1,n.call(a))}return!1}return o.duration==1/0?this.now=r:(i=r-this.startTime,this.state=i/o.duration,this.pos=$.easing[o.animatedProperties[this.prop]](this.state,i,0,1,o.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},$.extend($.fx,{tick:function(){for(var t,e=$.timers,i=0;i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||$.fx.stop()},interval:13,stop:function(){clearInterval(me),me=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){$.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),$.each(_e.concat.apply([],_e),function(t,e){e.indexOf("margin")&&($.fx.step[e]=function(t){$.style(t.elem,e,Math.max(0,t.now)+t.unit)})}),$.expr&&$.expr.filters&&($.expr.filters.animated=function(t){return $.grep($.timers,function(e){return t===e.elem}).length});var xe,ke=/^t(?:able|d|h)$/i,Te=/^(?:body|html)$/i;xe="getBoundingClientRect"in H.documentElement?function(t,e,i,n){try{n=t.getBoundingClientRect()}catch(r){}if(!n||!$.contains(i,t))return n?{top:n.top,left:n.left}:{top:0,left:0};var s=e.body,a=E(e),o=i.clientTop||s.clientTop||0,c=i.clientLeft||s.clientLeft||0,h=a.pageYOffset||$.support.boxModel&&i.scrollTop||s.scrollTop,l=a.pageXOffset||$.support.boxModel&&i.scrollLeft||s.scrollLeft,u=n.top+h-o,d=n.left+l-c;return{top:u,left:d}}:function(t,e,i){for(var n,r=t.offsetParent,s=t,a=e.body,o=e.defaultView,c=o?o.getComputedStyle(t,null):t.currentStyle,h=t.offsetTop,l=t.offsetLeft;(t=t.parentNode)&&t!==a&&t!==i&&(!$.support.fixedPosition||"fixed"!==c.position);)n=o?o.getComputedStyle(t,null):t.currentStyle,h-=t.scrollTop,l-=t.scrollLeft,t===r&&(h+=t.offsetTop,l+=t.offsetLeft,!$.support.doesNotAddBorder||$.support.doesAddBorderForTableAndCells&&ke.test(t.nodeName)||(h+=parseFloat(n.borderTopWidth)||0,l+=parseFloat(n.borderLeftWidth)||0),s=r,r=t.offsetParent),$.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(h+=parseFloat(n.borderTopWidth)||0,l+=parseFloat(n.borderLeftWidth)||0),c=n;return("relative"===c.position||"static"===c.position)&&(h+=a.offsetTop,l+=a.offsetLeft),$.support.fixedPosition&&"fixed"===c.position&&(h+=Math.max(i.scrollTop,a.scrollTop),l+=Math.max(i.scrollLeft,a.scrollLeft)),{top:h,left:l}},$.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){$.offset.setOffset(this,t,e)});var i=this[0],n=i&&i.ownerDocument;return n?i===n.body?$.offset.bodyOffset(i):xe(i,n,n.documentElement):null},$.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat($.css(t,"marginTop"))||0,i+=parseFloat($.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=$.css(t,"position");"static"===n&&(t.style.position="relative");var r,s,a=$(t),o=a.offset(),c=$.css(t,"top"),h=$.css(t,"left"),l=("absolute"===n||"fixed"===n)&&$.inArray("auto",[c,h])>-1,u={},d={};l?(d=a.position(),r=d.top,s=d.left):(r=parseFloat(c)||0,s=parseFloat(h)||0),$.isFunction(e)&&(e=e.call(t,i,o)),null!=e.top&&(u.top=e.top-o.top+r),null!=e.left&&(u.left=e.left-o.left+s),"using"in e?e.using.call(t,u):a.css(u)}},$.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),i=this.offset(),n=Te.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat($.css(t,"marginTop"))||0,i.left-=parseFloat($.css(t,"marginLeft"))||0,n.top+=parseFloat($.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat($.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||H.body;t&&!Te.test(t.nodeName)&&"static"===$.css(t,"position");)t=t.offsetParent;return t})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);$.fn[t]=function(r){return $.access(this,function(t,r,s){var a=E(t);return s===e?a?i in a?a[i]:$.support.boxModel&&a.document.documentElement[r]||a.document.body[r]:t[r]:void(a?a.scrollTo(n?$(a).scrollLeft():s,n?s:$(a).scrollTop()):t[r]=s)},t,r,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(t,i){var n="client"+t,r="scroll"+t,s="offset"+t;$.fn["inner"+t]=function(){var t=this[0];return t?t.style?parseFloat($.css(t,i,"padding")):this[i]():null},$.fn["outer"+t]=function(t){var e=this[0];return e?e.style?parseFloat($.css(e,i,t?"margin":"border")):this[i]():null},$.fn[i]=function(t){return $.access(this,function(t,i,a){var o,c,h,l;return $.isWindow(t)?(o=t.document,c=o.documentElement[n],$.support.boxModel&&c||o.body&&o.body[n]||c):9===t.nodeType?(o=t.documentElement,o[n]>=o[r]?o[n]:Math.max(t.body[r],o[r],t.body[s],o[s])):a===e?(h=$.css(t,i),l=parseFloat(h),$.isNumeric(l)?l:h):void $(t).css(i,a)},i,t,arguments.length,null)}}),t.jQuery=t.$=$,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}(window),function(){var t=this,e=t._,i={},n=Array.prototype,r=Object.prototype,s=Function.prototype,a=n.push,o=n.slice,c=n.concat,h=r.toString,l=r.hasOwnProperty,u=n.forEach,d=n.map,p=n.reduce,f=n.reduceRight,g=n.filter,m=n.every,v=n.some,y=n.indexOf,b=n.lastIndexOf,w=Array.isArray,_=Object.keys,x=s.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.4.4";var T=k.each=k.forEach=function(t,e,n){if(null!=t)if(u&&t.forEach===u)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var a in t)if(k.has(t,a)&&e.call(n,t[a],a,t)===i)return};k.map=k.collect=function(t,e,i){var n=[];return null==t?n:d&&t.map===d?t.map(e,i):(T(t,function(t,r,s){n[n.length]=e.call(i,t,r,s)}),n)};var S="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return n&&(e=k.bind(e,n)),r?t.reduce(e,i):t.reduce(e);if(T(t,function(t,s,a){r?i=e.call(n,i,t,s,a):(i=t,r=!0)}),!r)throw new TypeError(S);return i},k.reduceRight=k.foldr=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=k.bind(e,n)),r?t.reduceRight(e,i):t.reduceRight(e);var s=t.length;if(s!==+s){var a=k.keys(t);s=a.length}if(T(t,function(o,c,h){c=a?a[--s]:--s,r?i=e.call(n,i,t[c],c,h):(i=t[c],r=!0)}),!r)throw new TypeError(S);return i},k.find=k.detect=function(t,e,i){var n;return C(t,function(t,r,s){return e.call(i,t,r,s)?(n=t,!0):void 0}),n},k.filter=k.select=function(t,e,i){var n=[];return null==t?n:g&&t.filter===g?t.filter(e,i):(T(t,function(t,r,s){e.call(i,t,r,s)&&(n[n.length]=t)}),n)},k.reject=function(t,e,i){return k.filter(t,function(t,n,r){return!e.call(i,t,n,r)},i)},k.every=k.all=function(t,e,n){e||(e=k.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(T(t,function(t,s,a){return(r=r&&e.call(n,t,s,a))?void 0:i}),!!r)};var C=k.some=k.any=function(t,e,n){e||(e=k.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,n):(T(t,function(t,s,a){return r||(r=e.call(n,t,s,a))?i:void 0}),!!r)};k.contains=k.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):C(t,function(t){return t===e})},k.invoke=function(t,e){var i=o.call(arguments,2),n=k.isFunction(e);return k.map(t,function(t){return(n?e:t[e]).apply(t,i)})},k.pluck=function(t,e){return k.map(t,function(t){return t[e]})},k.where=function(t,e,i){return k.isEmpty(e)?i?null:[]:k[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},k.findWhere=function(t,e){return k.where(t,e,!0)},k.max=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&k.isEmpty(t))return-(1/0);var n={computed:-(1/0),value:-(1/0)};return T(t,function(t,r,s){var a=e?e.call(i,t,r,s):t;a>=n.computed&&(n={value:t,computed:a})}),n.value},k.min=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&k.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return T(t,function(t,r,s){var a=e?e.call(i,t,r,s):t;a<n.computed&&(n={value:t,computed:a})}),n.value},k.shuffle=function(t){var e,i=0,n=[];return T(t,function(t){e=k.random(i++),n[i-1]=n[e],n[e]=t}),n};var A=function(t){return k.isFunction(t)?t:function(e){return e[t]}};k.sortBy=function(t,e,i){var n=A(e);return k.pluck(k.map(t,function(t,e,r){return{value:t,index:e,criteria:n.call(i,t,e,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index<e.index?-1:1}),"value")};var O=function(t,e,i,n){var r={},s=A(e||k.identity);return T(t,function(e,a){var o=s.call(i,e,a,t);n(r,o,e)}),r};k.groupBy=function(t,e,i){return O(t,e,i,function(t,e,i){(k.has(t,e)?t[e]:t[e]=[]).push(i)})},k.countBy=function(t,e,i){return O(t,e,i,function(t,e){k.has(t,e)||(t[e]=0),t[e]++})},k.sortedIndex=function(t,e,i,n){i=null==i?k.identity:A(i);for(var r=i.call(n,e),s=0,a=t.length;a>s;){var o=s+a>>>1;i.call(n,t[o])<r?s=o+1:a=o}return s},k.toArray=function(t){return t?k.isArray(t)?o.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[];
},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:o.call(t,0,e)},k.initial=function(t,e,i){return o.call(t,0,t.length-(null==e||i?1:e))},k.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:o.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,i){return o.call(t,null==e||i?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var P=function(t,e,i){return T(t,function(t){k.isArray(t)?e?a.apply(i,t):P(t,e,i):i.push(t)}),i};k.flatten=function(t,e){return P(t,e,[])},k.without=function(t){return k.difference(t,o.call(arguments,1))},k.uniq=k.unique=function(t,e,i,n){k.isFunction(e)&&(n=i,i=e,e=!1);var r=i?k.map(t,i,n):t,s=[],a=[];return T(r,function(i,n){(e?n&&a[a.length-1]===i:k.contains(a,i))||(a.push(i),s.push(t[n]))}),s},k.union=function(){return k.uniq(c.apply(n,arguments))},k.intersection=function(t){var e=o.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.indexOf(e,t)>=0})})},k.difference=function(t){var e=c.apply(n,o.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=o.call(arguments),e=k.max(k.pluck(t,"length")),i=new Array(e),n=0;e>n;n++)i[n]=k.pluck(t,""+n);return i},k.object=function(t,e){if(null==t)return{};for(var i={},n=0,r=t.length;r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},k.indexOf=function(t,e,i){if(null==t)return-1;var n=0,r=t.length;if(i){if("number"!=typeof i)return n=k.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,r+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;r>n;n++)if(t[n]===e)return n;return-1},k.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var r=n?i:t.length;r--;)if(t[r]===e)return r;return-1},k.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=0,s=new Array(n);n>r;)s[r++]=t,t+=i;return s},k.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,o.call(arguments,1));var i=o.call(arguments,2);return function(){return t.apply(e,i.concat(o.call(arguments)))}},k.partial=function(t){var e=o.call(arguments,1);return function(){return t.apply(this,e.concat(o.call(arguments)))}},k.bindAll=function(t){var e=o.call(arguments,1);return 0===e.length&&(e=k.functions(t)),T(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var i={};return e||(e=k.identity),function(){var n=e.apply(this,arguments);return k.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},k.delay=function(t,e){var i=o.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(o.call(arguments,1)))},k.throttle=function(t,e){var i,n,r,s,a=0,o=function(){a=new Date,r=null,s=t.apply(i,n)};return function(){var c=new Date,h=e-(c-a);return i=this,n=arguments,0>=h?(clearTimeout(r),r=null,a=c,s=t.apply(i,n)):r||(r=setTimeout(o,h)),s}},k.debounce=function(t,e,i){var n,r;return function(){var s=this,a=arguments,o=function(){n=null,i||(r=t.apply(s,a))},c=i&&!n;return clearTimeout(n),n=setTimeout(o,e),c&&(r=t.apply(s,a)),r}},k.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return function(){var i=[t];return a.apply(i,arguments),e.apply(this,i)}},k.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},k.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},k.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)k.has(t,i)&&(e[e.length]=i);return e},k.values=function(t){var e=[];for(var i in t)k.has(t,i)&&e.push(t[i]);return e},k.pairs=function(t){var e=[];for(var i in t)k.has(t,i)&&e.push([i,t[i]]);return e},k.invert=function(t){var e={};for(var i in t)k.has(t,i)&&(e[t[i]]=i);return e},k.functions=k.methods=function(t){var e=[];for(var i in t)k.isFunction(t[i])&&e.push(i);return e.sort()},k.extend=function(t){return T(o.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},k.pick=function(t){var e={},i=c.apply(n,o.call(arguments,1));return T(i,function(i){i in t&&(e[i]=t[i])}),e},k.omit=function(t){var e={},i=c.apply(n,o.call(arguments,1));for(var r in t)k.contains(i,r)||(e[r]=t[r]);return e},k.defaults=function(t){return T(o.call(arguments,1),function(e){if(e)for(var i in e)null==t[i]&&(t[i]=e[i])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var D=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=h.call(t);if(r!=h.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=i.length;s--;)if(i[s]==t)return n[s]==e;i.push(t),n.push(e);var a=0,o=!0;if("[object Array]"==r){if(a=t.length,o=a==e.length)for(;a--&&(o=D(t[a],e[a],i,n)););}else{var c=t.constructor,l=e.constructor;if(c!==l&&!(k.isFunction(c)&&c instanceof c&&k.isFunction(l)&&l instanceof l))return!1;for(var u in t)if(k.has(t,u)&&(a++,!(o=k.has(e,u)&&D(t[u],e[u],i,n))))break;if(o){for(u in e)if(k.has(e,u)&&!a--)break;o=!a}}return i.pop(),n.pop(),o};k.isEqual=function(t,e){return D(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=w||function(t){return"[object Array]"==h.call(t)},k.isObject=function(t){return t===Object(t)},T(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return l.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.times=function(t,e,i){for(var n=Array(t),r=0;t>r;r++)n[r]=e.call(i,r);return n},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};E.unescape=k.invert(E.escape);var H={escape:new RegExp("["+k.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(E.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(H[t],function(e){return E[t][e]})}}),k.result=function(t,e){if(null==t)return null;var i=t[e];return k.isFunction(i)?i.call(t):i},k.mixin=function(t){T(k.functions(t),function(e){var i=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),N.call(this,i.apply(k,t))}})};var j=0;k.uniqueId=function(t){var e=++j+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,i){var n;i=k.defaults({},i,k.templateSettings);var r=new RegExp([(i.escape||F).source,(i.interpolate||F).source,(i.evaluate||F).source].join("|")+"|$","g"),s=0,a="__p+='";t.replace(r,function(e,i,n,r,o){return a+=t.slice(s,o).replace(M,function(t){return"\\"+$[t]}),i&&(a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),s=o+e.length,e}),a+="';\n",i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(i.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(e)return n(e,k);var c=function(t){return n.call(this,t,k)};return c.source="function("+(i.variable||"obj")+"){\n"+a+"}",c},k.chain=function(t){return k(t).chain()};var N=function(t){return this._chain?k(t).chain():t};k.mixin(k),T(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];k.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],N.call(this,i)}}),T(["concat","join","slice"],function(t){var e=n[t];k.prototype[t]=function(){return N.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,i=e.Backbone,n=[],r=n.push,s=n.slice,a=n.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var o=e._;o||"undefined"==typeof require||(o=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var c=t.Events={on:function(t,e,i){if(!l(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!l(this,"once",t,[e,i])||!e)return this;var n=this,r=o.once(function(){n.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,i)},off:function(t,e,i){var n,r,s,a,c,h,u,d;if(!this._events||!l(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(a=t?[t]:o.keys(this._events),c=0,h=a.length;h>c;c++)if(t=a[c],s=this._events[t]){if(this._events[t]=n=[],e||i)for(u=0,d=s.length;d>u;u++)r=s[u],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&n.push(r);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!l(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&u(i,e),n&&u(n,arguments),this},stopListening:function(t,e,i){var n=this._listeners;if(!n)return this;var r=!e&&!i;"object"==typeof e&&(i=this),t&&((n={})[t._listenerId]=t);for(var s in n)n[s].off(e,i,this),r&&delete this._listeners[s];return this}},h=/\s+/,l=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)t[e].apply(t,[r,i[r]].concat(n));return!1}if(h.test(i)){for(var s=i.split(h),a=0,o=s.length;o>a;a++)t[e].apply(t,[s[a]].concat(n));return!1}return!0},u=function(t,e){var i,n=-1,r=t.length,s=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,a);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,a,o);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};o.each(d,function(t,e){c[e]=function(e,i,n){var r=this._listeners||(this._listeners={}),s=e._listenerId||(e._listenerId=o.uniqueId("l"));return r[s]=e,"object"==typeof i&&(n=this),e[t](i,n,this),this}}),c.bind=c.on,c.unbind=c.off,o.extend(t,c);var p=t.Model=function(t,e){var i,n=t||{};e||(e={}),this.cid=o.uniqueId("c"),this.attributes={},o.extend(this,o.pick(e,f)),e.parse&&(n=this.parse(n,e)||{}),(i=o.result(this,"defaults"))&&(n=o.defaults({},n,i)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];o.extend(p.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return o.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return o.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var n,r,s,a,c,h,l,u;if(null==t)return this;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;s=i.unset,c=i.silent,a=[],h=this._changing,this._changing=!0,h||(this._previousAttributes=o.clone(this.attributes),this.changed={}),u=this.attributes,l=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(n in r)e=r[n],o.isEqual(u[n],e)||a.push(n),o.isEqual(l[n],e)?delete this.changed[n]:this.changed[n]=e,s?delete u[n]:u[n]=e;if(!c){a.length&&(this._pending=!0);for(var d=0,p=a.length;p>d;d++)this.trigger("change:"+a[d],this,u[a[d]],i)}if(h)return this;if(!c)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,o.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,o.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o.isEmpty(this.changed):o.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?o.clone(this.changed):!1;var e,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var r in t)o.isEqual(n[r],e=t[r])||((i||(i={}))[r]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),void e.trigger("sync",e,n,t)):!1},N(this,t),this.sync("read",this,t)},save:function(t,e,i){var n,r,s,a=this.attributes;if(null==t||"object"==typeof t?(n=t,i=e):(n={})[t]=e,n&&(!i||!i.wait)&&!this.set(n,i))return!1;if(i=o.extend({validate:!0},i),!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=o.extend({},a,n)),void 0===i.parse&&(i.parse=!0);var c=this,h=i.success;return i.success=function(t){c.attributes=a;var e=c.parse(t,i);return i.wait&&(e=o.extend(n||{},e)),o.isObject(e)&&!c.set(e,i)?!1:(h&&h(c,t,i),void c.trigger("sync",c,t,i))},N(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"===r&&(i.attrs=n),s=this.sync(r,this,i),n&&i.wait&&(this.attributes=a),s},destroy:function(t){t=t?o.clone(t):{};var e=this,i=t.success,n=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&n(),i&&i(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;N(this,t);var r=this.sync("delete",this,t);return t.wait||n(),r},url:function(){var t=o.result(this,"urlRoot")||o.result(this.collection,"url")||M();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},o.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=o.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,o.extend(e||{},{validationError:i})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];o.each(g,function(t){p.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),o[t].apply(o,e)}});var m=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,o.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};o.extend(m.prototype,c,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,o.defaults(e||{},y))},remove:function(t,e){t=o.isArray(t)?t.slice():[t],e||(e={});var i,n,r,s;for(i=0,n=t.length;n>i;i++)s=this.get(t[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),this._removeReference(s));return this},set:function(t,e){e=o.defaults(e||{},v),e.parse&&(t=this.parse(t,e)),o.isArray(t)||(t=t?[t]:[]);var i,n,s,c,h,l=e.at,u=this.comparator&&null==l&&e.sort!==!1,d=o.isString(this.comparator)?this.comparator:null,p=[],f=[],g={};for(i=0,n=t.length;n>i;i++)(s=this._prepareModel(t[i],e))&&((c=this.get(s))?(e.remove&&(g[c.cid]=!0),e.merge&&(c.set(s.attributes,e),u&&!h&&c.hasChanged(d)&&(h=!0))):e.add&&(p.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)));if(e.remove){for(i=0,n=this.length;n>i;++i)g[(s=this.models[i]).cid]||f.push(s);f.length&&this.remove(f,e)}if(p.length&&(u&&(h=!0),this.length+=p.length,null!=l?a.apply(this.models,[l,0].concat(p)):r.apply(this.models,p)),h&&this.sort({silent:!0}),e.silent)return this;for(i=0,n=p.length;n>i;i++)(s=p[i]).trigger("add",s,this,e);return h&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,o.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,o.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return o.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,i){e||(e=this.comparator);var n=o.isFunction(e)?e:function(t){return t.get(e)};return o.sortedIndex(this.models,t,n,i)},pluck:function(t){return o.invoke(this.models,"get",t)},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},N(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?o.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,n=e.success;return e.success=function(r){e.wait&&i.add(t,e),n&&n(t,r,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return i._validate(t,e)?i:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(b,function(t){m.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),o[t].apply(o,e)}});var w=["groupBy","countBy","sortBy"];o.each(w,function(t){m.prototype[t]=function(e,i){var n=o.isFunction(e)?e:function(t){return t.get(e)};return o[t](this.models,n,i)}});var _=t.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];o.extend(_.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=o.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(o.isFunction(i)||(i=this[t[e]]),i){var n=e.match(x),r=n[1],s=n[2];i=o.bind(i,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=o.extend({},o.result(this,"options"),t)),o.extend(this,o.pick(t,k)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var e=o.extend({},o.result(this,"attributes"));this.id&&(e.id=o.result(this,"id")),this.className&&(e["class"]=o.result(this,"className"));var i=t.$("<"+o.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,n){var r=T[e];o.defaults(n||(n={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(n.url||(s.url=o.result(i,"url")||M()),null!=n.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),n.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",n.emulateJSON&&(s.data._method=r);var a=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===s.type||n.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var c=n.xhr=t.ajax(o.extend(s,n));return i.trigger("request",i,c,n),c};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,O=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(S.prototype,c,{initialize:function(){},route:function(e,i,n){o.isRegExp(e)||(e=this._routeToRegExp(e)),o.isFunction(i)&&(n=i,i=""),n||(n=this[i]);var r=this;return t.history.route(e,function(s){var a=r._extractParameters(e,s);n&&n.apply(r,a),r.trigger.apply(r,["route:"+i].concat(a)),r.trigger("route",i,a),t.history.trigger("route",r,i,a)}),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var t,e=o.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(C,"(?:$1)?").replace(A,function(t,e){return e?t:"([^/]+)"}).replace(O,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return o.map(i,function(t){return t?decodeURIComponent(t):null})}});var D=t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,H=/^\/+|\/+$/g,j=/msie [\w.]+/,F=/\/$/;D.started=!1,o.extend(D.prototype,c,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(F,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(E,"")},start:function(e){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),n=document.documentMode,r=j.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(H,"/"),r&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location,a=s.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&s.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),i=o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return i},navigate:function(t,e){if(!D.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),t.history=new D;var $=function(t,e){var i,n=this;i=t&&o.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},o.extend(i,n,e);var r=function(){this.constructor=i};return r.prototype=n.prototype,i.prototype=new r,t&&o.extend(i.prototype,t),i.__super__=n.prototype,i};p.extend=m.extend=S.extend=_.extend=D.extend=$;var M=function(){throw new Error('A "url" property or function must be specified')},N=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}}}.call(this);var base64=window.base64={};base64.PADCHAR="=",base64.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(t){var e=new Error("DOM Exception 5");return e.code=e.number=5,e.name=e.description="INVALID_CHARACTER_ERR",e.toString=function(){return"Error: "+e.name+": "+e.message},e}},base64.getbyte64=function(t,e){var i=base64.ALPHA.indexOf(t.charAt(e));if(-1===i)throw base64.makeDOMException();return i},base64.decode=function(t){t=""+t;var e,i,n,r=base64.getbyte64,s=t.length;if(0===s)return t;if(s%4!==0)throw base64.makeDOMException();e=0,t.charAt(s-1)===base64.PADCHAR&&(e=1,t.charAt(s-2)===base64.PADCHAR&&(e=2),s-=4);var a=[];for(i=0;s>i;i+=4)n=r(t,i)<<18|r(t,i+1)<<12|r(t,i+2)<<6|r(t,i+3),a.push(String.fromCharCode(n>>16,n>>8&255,255&n));switch(e){case 1:n=r(t,i)<<18|r(t,i+1)<<12|r(t,i+2)<<6,a.push(String.fromCharCode(n>>16,n>>8&255));break;case 2:n=r(t,i)<<18|r(t,i+1)<<12,a.push(String.fromCharCode(n>>16))}return a.join("")},base64.getbyte=function(t,e){var i=t.charCodeAt(e);if(i>255)throw base64.makeDOMException();return i},base64.encode=function(t){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var e,i,n=base64.PADCHAR,r=base64.ALPHA,s=base64.getbyte,a=[];t=""+t;var o=t.length-t.length%3;if(0===t.length)return t;for(e=0;o>e;e+=3)i=s(t,e)<<16|s(t,e+1)<<8|s(t,e+2),a.push(r.charAt(i>>18)),a.push(r.charAt(i>>12&63)),a.push(r.charAt(i>>6&63)),a.push(r.charAt(63&i));switch(t.length-o){case 1:i=s(t,e)<<16,a.push(r.charAt(i>>18)+r.charAt(i>>12&63)+n+n);break;case 2:i=s(t,e)<<16|s(t,e+1)<<8,a.push(r.charAt(i>>18)+r.charAt(i>>12&63)+r.charAt(i>>6&63)+n)}return a.join("")},function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,r,s,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),s=t.childNodes,a=[],n=0,r=s.length;r>n;n++)i=s[n],a.push(this.add_option(i,e,t.disabled));return a},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var i,n,r,s,a;for(n=new t,a=e.childNodes,r=0,s=a.length;s>r;r++)i=a[r],n.add_node(i);return n.parsed},this.SelectParser=t}.call(this),function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=this,t=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.default_text_default=this.is_multiple?"Select Some Options":"Select an Option",this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){return this.click_test_action=i(function(t){return this.test_active_click(t)},this),this.activate_action=i(function(t){return this.activate_field(t)},this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.choices=0,this.results_none_found=this.options.no_results_text||"No results match"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){return this.active_field?void 0:setTimeout(i(function(){return this.container_mousedown()},this),50)},t.prototype.input_blur=function(t){return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(i(function(){return this.blur_test()},this),100))},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){
return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:if(this.results_showing)return this.results_hide();break;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,i;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",i=Math.floor(Math.random()*t.length),e=t.substring(i,i+1)},t}(),e.AbstractChosen=t}.call(this),function(){var t,e,i,n,r=Object.prototype.hasOwnProperty,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a=function(t,e){return function(){return t.apply(e,arguments)}};n=this,t=jQuery,t.fn.extend({chosen:function(i){return!t.browser.msie||"6.0"!==t.browser.version&&"7.0"!==t.browser.version?t(this).each(function(n){return t(this).hasClass("chzn-done")?void 0:new e(this,i)}):this}}),e=function(){function e(){e.__super__.constructor.apply(this,arguments)}return s(e,AbstractChosen),e.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},e.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},e.prototype.set_up_html=function(){var e,n,r,s;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,e=t("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?e.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):e.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(e),this.container=t("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),n=this.container.height(),r=this.f_width-i(this.dropdown),this.dropdown.css({width:r+"px",top:n+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),s=r-i(this.search_container)-i(this.search_field),this.search_field.css({width:s+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},e.prototype.register_observers=function(){return this.container.mousedown(a(function(t){return this.container_mousedown(t)},this)),this.container.mouseup(a(function(t){return this.container_mouseup(t)},this)),this.container.mouseenter(a(function(t){return this.mouse_enter(t)},this)),this.container.mouseleave(a(function(t){return this.mouse_leave(t)},this)),this.search_results.mouseup(a(function(t){return this.search_results_mouseup(t)},this)),this.search_results.mouseover(a(function(t){return this.search_results_mouseover(t)},this)),this.search_results.mouseout(a(function(t){return this.search_results_mouseout(t)},this)),this.form_field_jq.bind("liszt:updated",a(function(t){return this.results_update_field(t)},this)),this.search_field.blur(a(function(t){return this.input_blur(t)},this)),this.search_field.keyup(a(function(t){return this.keyup_checker(t)},this)),this.search_field.keydown(a(function(t){return this.keydown_checker(t)},this)),this.is_multiple?(this.search_choices.click(a(function(t){return this.choices_click(t)},this)),this.search_field.focus(a(function(t){return this.input_focus(t)},this))):void 0},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},e.prototype.container_mousedown=function(e){var i;return this.is_disabled?void 0:(i=null!=e?t(e.target).hasClass("search-choice-close"):!1,e&&"mousedown"===e.type&&e.stopPropagation(),this.pending_destroy_click||i?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!e||t(e.target)!==this.selected_item&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field()))},e.prototype.container_mouseup=function(t){return"ABBR"===t.target.nodeName?this.results_reset(t):void 0},e.prototype.blur_test=function(t){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},e.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.is_multiple||this.active_field||(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){var t,e,i,r,s;for(this.parsing=!0,this.results_data=n.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",s=this.results_data,i=0,r=s.length;r>i;i++)e=s[i],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},e.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},e.prototype.result_do_highlight=function(t){var e,i,n,r,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),r=n+s,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-n>0?e-n:0);if(s>i)return this.search_results.scrollTop(i)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){var t;return this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),t=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:t+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},e.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},e.prototype.set_tab_index=function(t){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",e):(this.selected_item.attr("tabindex",e),this.search_field.attr("tabindex",-1))):void 0},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e)):void 0},e.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},e.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},e.prototype.choices_click=function(e){return e.preventDefault(),!this.active_field||t(e.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},e.prototype.choice_build=function(e){var i,n;return i=this.container_id+"_c_"+e.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+i+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>'),n=t("#"+i).find("a").first(),n.click(a(function(t){return this.choice_destroy_link_click(t)},this))},e.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(t(e.target)))},e.prototype.choice_destroy=function(t){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(t.attr("rel")),t.parents("li").first().remove()},e.prototype.results_reset=function(e){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.show_search_field_default(),t(e.target).remove(),this.search_results.find(".result-selected").removeClass("result-selected"),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},e.prototype.result_select=function(t){var e,i,n,r;return this.result_highlight?(e=this.result_highlight,i=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e),e.addClass("result-selected"),r=i.substr(i.lastIndexOf("_")+1),n=this.results_data[r],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),t.metaKey&&this.is_multiple||this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()):void 0},e.prototype.result_activate=function(t){return t.addClass("active-result")},e.prototype.result_deactivate=function(t){return t.removeClass("active-result")},e.prototype.result_deselect=function(e){var i,n;return n=this.results_data[e],n.selected=!1,this.form_field.options[n.options_index].selected=!1,i=t("#"+this.container_id+"_o_"+e),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change"),this.search_field_scale()},e.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},e.prototype.winnow_results=function(){var e,i,n,r,s,a,o,c,h,l,u,d,p,f,g,m,v;for(this.no_results_clear(),c=0,h=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),s=new RegExp("^"+h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),d=new RegExp(h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data,p=0,g=v.length;g>p;p++)if(i=v[p],!i.disabled&&!i.empty)if(i.group)t("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(e=!1,o=i.dom_id,a=t("#"+o),s.test(i.html))e=!0,c+=1;else if((i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(r=i.html.replace(/\[|\]/g,"").split(" "),r.length))for(f=0,m=r.length;m>f;f++)n=r[f],s.test(n)&&(e=!0,c+=1);e?(h.length?(l=i.html.search(d),u=i.html.substr(0,l+h.length)+"</em>"+i.html.substr(l+h.length),u=u.substr(0,l)+"<em>"+u.substr(l)):u=i.html,a.html(u),this.result_activate(a),null!=i.group_array_index&&t("#"+this.results_data[i.group_array_index].dom_id).css("display","auto")):(this.result_highlight&&o===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>c&&h.length?this.no_results(h):this.winnow_results_set_highlight()},e.prototype.winnow_results_clear=function(){var e,i,n,r,s;for(this.search_field.val(""),i=this.search_results.find("li"),s=[],n=0,r=i.length;r>n;n++)e=i[n],e=t(e),s.push(e.hasClass("group-result")?e.css("display","auto"):this.is_multiple&&e.hasClass("result-selected")?void 0:this.result_activate(e));return s},e.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},e.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i)},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var e,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},e.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.pending_backstroke.addClass("search-choice-focus"))},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},e.prototype.search_field_scale=function(){var e,i,n,r,s,a,o,c,h;if(this.is_multiple){for(n=0,o=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],c=0,h=a.length;h>c;c++)r=a[c],s+=r+":"+this.search_field.css(r)+";";return i=t("<div />",{style:s}),i.text(this.search_field.val()),t("body").append(i),o=i.width()+25,i.remove(),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"}),e=this.container.height(),this.dropdown.css({top:e+"px"})}},e.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},e}(),i=function(t){var e;return e=t.outerWidth()-t.width()},n.get_side_border_padding=i}.call(this),function(t){"function"==typeof define?define(t):"function"==typeof YUI?YUI.add("es5",t):t()}(function(){function t(){}function e(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function i(t){var e=typeof t;return null===t||"undefined"===e||"boolean"===e||"number"===e||"string"===e}function n(t){var e,n,r;if(i(t))return t;if(n=t.valueOf,"function"==typeof n&&(e=n.call(t),i(e)))return e;if(r=t.toString,"function"==typeof r&&(e=r.call(t),i(e)))return e;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(e){var i=this;if("function"!=typeof i)throw new TypeError("Function.prototype.bind called on incompatible "+i);var n=d.call(arguments,1),r=function(){if(this instanceof r){var t=i.apply(this,n.concat(d.call(arguments)));return Object(t)===t?t:this}return i.apply(e,n.concat(d.call(arguments)))};return i.prototype&&(t.prototype=i.prototype,r.prototype=new t,t.prototype=null),r});var r,s,a,o,c,h=Function.prototype.call,l=Array.prototype,u=Object.prototype,d=l.slice,p=h.bind(u.toString),f=h.bind(u.hasOwnProperty);if((c=f(u,"__defineGetter__"))&&(r=h.bind(u.__defineGetter__),s=h.bind(u.__defineSetter__),a=h.bind(u.__lookupGetter__),o=h.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length){var g=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?g.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(d.call(arguments,2))):[]}}Array.isArray||(Array.isArray=function(t){return"[object Array]"==p(t)});var m=Object("a"),v="a"!=m[0]||!(0 in m);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=E(this),i=v&&"[object String]"==p(this)?this.split(""):e,n=arguments[1],r=-1,s=i.length>>>0;if("[object Function]"!=p(t))throw new TypeError;for(;++r<s;)r in i&&t.call(n,i[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=E(this),i=v&&"[object String]"==p(this)?this.split(""):e,n=i.length>>>0,r=Array(n),s=arguments[1];if("[object Function]"!=p(t))throw new TypeError(t+" is not a function");for(var a=0;n>a;a++)a in i&&(r[a]=t.call(s,i[a],a,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,i=E(this),n=v&&"[object String]"==p(this)?this.split(""):i,r=n.length>>>0,s=[],a=arguments[1];if("[object Function]"!=p(t))throw new TypeError(t+" is not a function");for(var o=0;r>o;o++)o in n&&(e=n[o],t.call(a,e,o,i)&&s.push(e));return s}),Array.prototype.every||(Array.prototype.every=function(t){var e=E(this),i=v&&"[object String]"==p(this)?this.split(""):e,n=i.length>>>0,r=arguments[1];if("[object Function]"!=p(t))throw new TypeError(t+" is not a function");for(var s=0;n>s;s++)if(s in i&&!t.call(r,i[s],s,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=E(this),i=v&&"[object String]"==p(this)?this.split(""):e,n=i.length>>>0,r=arguments[1];if("[object Function]"!=p(t))throw new TypeError(t+" is not a function");for(var s=0;n>s;s++)if(s in i&&t.call(r,i[s],s,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=E(this),i=v&&"[object String]"==p(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=p(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in i){r=i[s++];break}if(++s>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>s;s++)s in i&&(r=t.call(void 0,r,i[s],s,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=E(this),i=v&&"[object String]"==p(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=p(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in i){r=i[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}do s in this&&(r=t.call(void 0,r,i[s],s,e));while(s--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var i=v&&"[object String]"==p(this)?this.split(""):E(this),n=i.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=e(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in i&&i[r]===t)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var i=v&&"[object String]"==p(this)?this.split(""):E(this),n=i.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,e(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in i&&t===i[r])return r;return-1}),!Object.keys){var y=!0,b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=b.length;for(var _ in{toString:null})y=!1;Object.keys=function H(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var H=[];for(var e in t)f(t,e)&&H.push(e);if(y)for(var i=0,n=w;n>i;i++){var r=b[i];f(t,r)&&H.push(r)}return H}}var x=-621987552e5,k="-000001";Date.prototype.toISOString&&-1!==new Date(x).toISOString().indexOf(k)||(Date.prototype.toISOString=function(){var t,e,i,n,r;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(n=this.getUTCFullYear(),r=this.getUTCMonth(),n+=Math.floor(r/12),r=(r%12+12)%12,t=[r+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],n=(0>n?"-":n>9999?"+":"")+("00000"+Math.abs(n)).slice(n>=0&&9999>=n?-4:-6),e=t.length;e--;)i=t[e],10>i&&(t[e]="0"+i);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var T=!1;try{T=Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(x).toJSON().indexOf(k)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(S){}if(T||(Date.prototype.toJSON=function(t){var e,i=Object(this),r=n(i);if("number"==typeof r&&!isFinite(r))return null;if(e=i.toISOString,"function"!=typeof e)throw new TypeError("toISOString property is not callable");return e.call(i)}),!Date.parse,Date=function(t){function e(i,n,r,s,a,o,c){var h=arguments.length;if(this instanceof t){var l=1==h&&String(i)===i?new t(e.parse(i)):h>=7?new t(i,n,r,s,a,o,c):h>=6?new t(i,n,r,s,a,o):h>=5?new t(i,n,r,s,a):h>=4?new t(i,n,r,s):h>=3?new t(i,n,r):h>=2?new t(i,n):h>=1?new t(i):new t;return l.constructor=e,l}return t.apply(this,arguments)}function i(t,e){var i=e>1?1:0;return r[e]+Math.floor((t-1969+i)/4)-Math.floor((t-1901+i)/100)+Math.floor((t-1601+i)/400)+365*(t-1970)}var n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var s in t)e[s]=t[s];return e.now=t.now,e.UTC=t.UTC,e.prototype=t.prototype,e.prototype.constructor=e,e.parse=function(e){var r=n.exec(e);if(r){var s,a=Number(r[1]),o=Number(r[2]||1)-1,c=Number(r[3]||1)-1,h=Number(r[4]||0),l=Number(r[5]||0),u=Number(r[6]||0),d=Number(r[7]||0),p=!r[4]||r[8]?0:Number(new t(1970,0)),f="-"===r[9]?1:-1,g=Number(r[10]||0),m=Number(r[11]||0);return(l>0||u>0||d>0?24:25)>h&&60>l&&60>u&&1e3>d&&o>-1&&12>o&&24>g&&60>m&&c>-1&&c<i(a,o+1)-i(a,o)&&(s=60*(24*(i(a,o)+c)+h+g*f),s=1e3*(60*(s+l+m*f)+u)+d+p,s>=-864e13&&864e13>=s)?s:NaN}return t.parse.apply(this,arguments)},e}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),"0".split(void 0,0).length){var C=String.prototype.split;String.prototype.split=function(t,e){return void 0===t&&0===e?[]:C.apply(this,arguments)}}if("".substr&&"b"!=="0b".substr(-1)){var A=String.prototype.substr;String.prototype.substr=function(t,e){return A.call(this,0>t&&(t=this.length+t)<0?0:t,e)}}var O="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||O.trim()){O="["+O+"]";var P=new RegExp("^"+O+O+"*"),D=new RegExp(O+O+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(P,"").replace(D,"")}}var E=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),function(t,e,i,n){"use strict";var r=i(t),s=i(e),a=i.fancybox=function(){a.open.apply(this,arguments)},o=!1,c=null,h=e.createTouch!==n,l=function(t){return"string"===i.type(t)},u=function(t){return l(t)&&t.indexOf("%")>0},d=function(t,e){return e&&u(t)&&(t=a.getViewport()[e]/100*parseInt(t,10)),Math.round(t)+"px"};i.extend(a,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!h,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(i.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){a.close(!0),t&&!i.isArray(t)&&(t=t instanceof i?i(t).get():[t]),a.isActive=!0,a.opts=i.extend(!0,{},a.defaults,e),i.isPlainObject(e)&&e.keys!==n&&(a.opts.keys=e.keys?i.extend({},a.defaults.keys,e.keys):!1),a.group=t,a._start(a.opts.index||0)},cancel:function(){a.coming&&!1===a.trigger("onCancel")||(a.coming=null,a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onabort=a.imgPreload.onerror=null))},close:function(t){a.cancel(),a.current&&!1!==a.trigger("beforeClose")&&(a.unbindEvents(),!a.isOpen||t&&t[0]===!0?(i(".fancybox-wrap").stop().trigger("onReset").remove(),a._afterZoomOut()):(a.isOpen=a.isOpened=!1,i(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.closeMethod]()))},play:function(t){var e=function(){clearTimeout(a.player.timer)},n=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},r=function(){e(),i("body").unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")},s=function(){a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":r,"beforeLoad.player":e}),n(),a.trigger("onPlayStart"))};a.player.isActive||t&&t[0]===!1?r():s()},next:function(){a.current&&a.jumpto(a.current.index+1)},prev:function(){a.current&&a.jumpto(a.current.index-1)},jumpto:function(t){a.current&&(t=parseInt(t,10),a.group.length>1&&a.current.loop&&(t>=a.group.length?t=0:0>t&&(t=a.group.length-1)),a.group[t]!==n&&(a.cancel(),a._start(t)))},reposition:function(t,e){var i;a.isOpen&&(i=a._getPosition(e),t&&"scroll"===t.type?(delete i.position,a.wrap.stop(!0,!0).animate(i,200)):a.wrap.css(i))},update:function(t){a.isOpen&&(o||(c=setTimeout(function(){var e=a.current,i=!t||t&&"orientationchange"===t.type;if(o){if(o=!1,!e)return;(!t||"scroll"!==t.type||i)&&(e.autoSize&&"iframe"!==e.type&&(a.inner.height("auto"),e.height=a.inner.height()),(e.autoResize||i)&&a._setDimension(),e.canGrow&&"iframe"!==e.type&&a.inner.height("auto")),(e.autoCenter||i)&&a.reposition(t),a.trigger("onUpdate")}},200)),o=!0)},toggle:function(){a.isOpen&&(a.current.fitToView=!a.current.fitToView,a.update())},hideLoading:function(){s.unbind("keypress.fb"),i("#fancybox-loading").remove()},showLoading:function(){a.hideLoading(),s.bind("keypress.fb",function(t){27===t.keyCode&&(t.preventDefault(),a.cancel())}),i('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body")},getViewport:function(){return{x:r.scrollLeft(),y:r.scrollTop(),w:h&&t.innerWidth?t.innerWidth:r.width(),h:h&&t.innerHeight?t.innerHeight:r.height()}},unbindEvents:function(){a.wrap&&a.wrap.unbind(".fb"),s.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var t=a.current,e=t.keys;t&&(r.bind("resize.fb orientationchange.fb"+(t.autoCenter&&!t.fixed?" scroll.fb":""),a.update),e&&s.bind("keydown.fb",function(t){var n,r=t.target||t.srcElement;t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||r&&(r.type||i(r).is("[contenteditable]"))||(n=t.keyCode,i.inArray(n,e.close)>-1?(a.close(),t.preventDefault()):i.inArray(n,e.next)>-1?(a.next(),t.preventDefault()):i.inArray(n,e.prev)>-1&&(a.prev(),t.preventDefault()))}),i.fn.mousewheel&&t.mouseWheel&&a.group.length>1&&a.wrap.bind("mousewheel.fb",function(t,e){var i=t.target||null;0===e||i&&0!==i.clientHeight&&(i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth)||(t.preventDefault(),
a[e>0?"prev":"next"]())}))},trigger:function(t,e){var n,r=e||a[i.inArray(t,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(r){if(i.isFunction(r[t])&&(n=r[t].apply(r,Array.prototype.slice.call(arguments,1))),n===!1)return!1;r.helpers&&i.each(r.helpers,function(e,n){n&&i.isPlainObject(a.helpers[e])&&i.isFunction(a.helpers[e][t])&&a.helpers[e][t](n,r)}),i.event.trigger(t+".fb")}},isImage:function(t){return l(t)&&t.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(t){return l(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,r,s,o,c={},h=a.group[t]||null;if(h&&(h.nodeType||h instanceof i)&&(e=!0,i.metadata&&(c=i(h).metadata())),c=i.extend(!0,{},a.opts,{index:t,element:h},i.isPlainObject(h)?h:c),i.each(["href","title","content","type"],function(t,n){c[n]=a.opts[n]||e&&i(h).attr(n)||c[n]||null}),"number"==typeof c.margin&&(c.margin=[c.margin,c.margin,c.margin,c.margin]),c.modal&&i.extend(!0,c,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),a.coming=c,!1===a.trigger("beforeLoad"))return void(a.coming=null);switch(r=c.type,n=c.href||h,r||(e&&(r=i(h).data("fancybox-type"),r||(s=h.className.match(/fancybox\.(\w+)/),r=s?s[1]:null)),!r&&l(n)&&(a.isImage(n)?r="image":a.isSWF(n)?r="swf":n.match(/^#/)&&(r="inline")),r||(r=e?"inline":"html"),c.type=r),"inline"===r||"html"===r?(c.content||("inline"===r?c.content=i(l(n)?n.replace(/.*(?=#[^\s]+$)/,""):n):c.content=h),c.content&&c.content.length||(r=null)):n||(r=null),"ajax"===r&&l(n)&&(o=n.split(/\s+/,2),n=o.shift(),c.selector=o.shift()),c.href=n,c.group=a.group,c.isDom=e,r){case"image":a._loadImage();break;case"ajax":a._loadAjax();break;case"inline":case"iframe":case"swf":case"html":a._afterLoad();break;default:a._error("type")}},_error:function(t){a.hideLoading(),i.extend(a.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width,a.coming.height=this.height,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")},t.src=a.coming.href,t.complete!==n&&t.complete||a.showLoading()},_loadAjax:function(){a.showLoading(),a.ajaxLoad=i.ajax(i.extend({},a.coming.ajax,{url:a.coming.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(t,e){"success"===e&&(a.coming.content=t,a._afterLoad())}}))},_preloadImages:function(){var t,e,n,r=a.group,s=a.current,o=r.length,c=Math.min(s.preload,o-1);if(s.preload&&!(r.length<2))for(n=1;c>=n;n+=1)t=r[(s.index+n)%o],e=t.href||i(t).attr("href")||t,("image"===t.type||a.isImage(e))&&((new Image).src=e)},_afterLoad:function(){return a.hideLoading(),a.coming&&!1!==a.trigger("afterLoad",a.current)?(a.isOpened?(i(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.prevMethod]()):(i(".fancybox-wrap").stop().trigger("onReset").remove(),a.trigger("afterClose")),a.unbindEvents(),a.isOpen=!1,a.current=a.coming,a.wrap=i(a.current.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+a.current.type+" fancybox-tmp "+a.current.wrapCSS).appendTo("body"),a.skin=i(".fancybox-skin",a.wrap).css("padding",d(a.current.padding)),a.outer=i(".fancybox-outer",a.wrap),a.inner=i(".fancybox-inner",a.wrap),void a._setContent()):void(a.coming=!1)},_setContent:function(){var t,e=a.current,n=e.content,r=e.type,s=e.minWidth,o=e.minHeight,c=e.maxWidth,l=e.maxHeight;switch(r){case"inline":case"ajax":case"html":e.selector?n=i("<div>").html(n).find(e.selector):n instanceof i&&(n.parent().hasClass("fancybox-inner")&&n.parents(".fancybox-wrap").unbind("onReset"),n=n.show().detach(),i(a.wrap).bind("onReset",function(){n.appendTo("body").hide()})),e.autoSize&&(t=i('<div class="fancybox-wrap '+a.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:d(s,"w"),minHeight:d(o,"h"),maxWidth:d(c,"w"),maxHeight:d(l,"h")}).append(n),e.width=t.width(),e.height=t.height(),t.width(a.current.width),t.height()>e.height&&(t.width(e.width+1),e.width=t.width(),e.height=t.height()),n=t.contents().detach(),t.remove());break;case"image":n=e.tpl.image.replace("{href}",e.href),e.aspectRatio=!0;break;case"swf":n=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href);break;case"iframe":n=i(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",e.scrolling).attr("src",e.href),e.scrolling=h?"scroll":"auto"}("image"===r||"swf"===r)&&(e.autoSize=!1,e.scrolling="visible"),"iframe"===r&&e.autoSize?(a.showLoading(),a._setDimension(),a.inner.css("overflow",e.scrolling),n.bind({onCancel:function(){i(this).unbind(),a._afterZoomOut()},load:function(){a.hideLoading();try{this.contentWindow.document.location&&(a.current.height=i(this).contents().find("body").height())}catch(t){a.current.autoSize=!1}a[a.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(a.inner)):(a.inner.append(n),a._beforeShow())},_beforeShow:function(){a.coming=null,a.trigger("beforeShow"),a._setDimension(),a.wrap.hide().removeClass("fancybox-tmp"),a.bindEvents(),a._preloadImages(),a.transitions[a.isOpened?a.current.nextMethod:a.current.openMethod]()},_setDimension:function(){var t,e,n=a.wrap,r=a.inner,s=a.current,o=a.getViewport(),c=s.margin,h=2*s.padding,l=s.width,p=s.height,f=s.maxWidth+h,g=s.maxHeight+h,m=s.minWidth+h,v=s.minHeight+h;if(o.w-=c[1]+c[3],o.h-=c[0]+c[2],u(l)&&(l=(o.w-h)*parseFloat(l)/100),u(p)&&(p=(o.h-h)*parseFloat(p)/100),t=l/p,l+=h,p+=h,s.fitToView&&(f=Math.min(o.w,f),g=Math.min(o.h,g)),s.aspectRatio?(l>f&&(l=f,p=(l-h)/t+h),p>g&&(p=g,l=(p-h)*t+h),m>l&&(l=m,p=(l-h)/t+h),v>p&&(p=v,l=(p-h)*t+h)):(l=Math.max(m,Math.min(l,f)),p=Math.max(v,Math.min(p,g))),l=Math.round(l),p=Math.round(p),i(n.add(r)).width("auto").height("auto"),r.width(l-h).height(p-h),n.width(l),e=n.height(),l>f||e>g)for(;(l>f||e>g)&&l>m&&e>v;)p-=10,s.aspectRatio?(l=Math.round((p-h)*t+h),m>l&&(l=m,p=(l-h)/t+h)):l-=10,r.width(l-h).height(p-h),n.width(l),e=n.height();s.dim={width:d(l),height:d(e)},s.canGrow=s.autoSize&&p>v&&g>p,s.canShrink=!1,s.canExpand=!1,l-h<s.width||p-h<s.height?s.canExpand=!0:(l>o.w||e>o.h)&&l>m&&p>v&&(s.canShrink=!0),a.innerSpace=e-h-r.height()},_getPosition:function(t){var e=a.current,i=a.getViewport(),n=e.margin,r=a.wrap.width()+n[1]+n[3],s=a.wrap.height()+n[0]+n[2],o={position:"absolute",top:n[0]+i.y,left:n[3]+i.x};return e.autoCenter&&e.fixed&&!t&&s<=i.h&&r<=i.w&&(o={position:"fixed",top:n[0],left:n[3]}),o.top=d(Math.max(o.top,o.top+(i.h-s)*e.topRatio)),o.left=d(Math.max(o.left,o.left+.5*(i.w-r))),o},_afterZoomIn:function(){var t=a.current,e=t?t.scrolling:"no";t&&(a.isOpen=a.isOpened=!0,a.wrap.addClass("fancybox-opened"),a.inner.css("overflow","yes"===e?"scroll":"no"===e?"hidden":e),a.trigger("afterShow"),a.update(),(t.closeClick||t.nextClick)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){i(e.target).is("a")||i(e.target).parent().is("a")||a[t.closeClick?"close":"next"]()}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",a.close),t.arrows&&a.group.length>1&&((t.loop||t.index>0)&&i(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&i(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()))},_afterZoomOut:function(){var t=a.current;a.wrap.trigger("onReset").remove(),i.extend(a,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t,e=a.current,n=e.element,r=e.padding,s=i(e.orig),o={},c=50,h=50;return!s.length&&e.isDom&&i(n).is(":visible")&&(s=i(n).find("img:first"),s.length||(s=i(n))),s.length?(o=s.offset(),s.is("img")&&(c=s.outerWidth(),h=s.outerHeight())):(t=a.getViewport(),o.top=t.y+.5*(t.h-h),o.left=t.x+.5*(t.w-c)),o={top:d(o.top-r),left:d(o.left-r),width:d(c+2*r),height:d(h+2*r)}},step:function(t,e){var i,n,r=e.prop;("width"===r||"height"===r)&&(i=Math.ceil(t-2*a.current.padding),"height"===r&&(n=(t-e.start)/(e.end-e.start),e.start>e.end&&(n=1-n),i-=a.innerSpace*n),a.inner[r](i))},zoomIn:function(){var t=a.wrap,e=a.current,n=e.openEffect,r="elastic"===n,s=e.dim,o=i.extend({},s,a._getPosition(r)),c=i.extend({opacity:1},o);delete c.position,r?(o=this.getOrigPosition(),e.openOpacity&&(o.opacity=0),a.outer.add(a.inner).width("auto").height("auto")):"fade"===n&&(o.opacity=0),t.css(o).show().animate(c,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:r?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.wrap,e=a.current,i=e.openEffect,n="elastic"===i,r={opacity:0};n&&("fixed"===t.css("position")&&t.css(a._getPosition(!0)),r=this.getOrigPosition(),e.closeOpacity&&(r.opacity=0)),t.animate(r,{duration:"none"===i?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t=a.wrap,e=a.current,i=e.nextEffect,n="elastic"===i,r=a._getPosition(n),s={opacity:1};r.opacity=0,n&&(r.top=d(parseInt(r.top,10)-200),s.top="+=200px"),t.css(r).show().animate(s,{duration:"none"===i?0:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.wrap,e=a.current,n=e.prevEffect,r={opacity:0},s=function(){i(this).trigger("onReset").remove()};t.removeClass("fancybox-opened"),"elastic"===n&&(r.top="+=200px"),t.animate(r,{duration:"none"===n?0:e.prevSpeed,easing:e.prevEasing,complete:s})}},a.helpers.overlay={overlay:null,update:function(){var t,n,a;this.overlay.width("100%").height("100%"),i.browser.msie||h?(n=Math.max(e.documentElement.scrollWidth,e.body.scrollWidth),a=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),t=a>n?r.width():n):t=s.width(),this.overlay.width(t).height(s.height())},beforeShow:function(t){this.overlay||(t=i.extend(!0,{},a.defaults.helpers.overlay,t),this.overlay=i('<div id="fancybox-overlay"></div>').css(t.css).appendTo("body"),t.closeClick&&this.overlay.bind("click.fb",a.close),a.current.fixed&&!h?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(t.speedIn,t.opacity))},afterClose:function(t){this.overlay&&this.overlay.fadeOut(t.speedOut||0,function(){i(this).remove()}),this.overlay=null}},a.helpers.title={beforeShow:function(t){var e,n=a.current.title;n&&(e=i('<div class="fancybox-title fancybox-title-'+t.type+'-wrap">'+n+"</div>").appendTo("body"),"float"===t.type&&(e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(parseInt(e.css("margin-bottom"),10))),e.appendTo("over"===t.type?a.inner:"outside"===t.type?a.wrap:a.skin))}},i.fn.fancybox=function(t){var e,n=i(this),r=this.selector||"",o=function(s){var o,c,h=this,l=e;s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||i(h).is(".fancybox-wrap")||(s.preventDefault(),o=t.groupAttr||"data-fancybox-group",c=i(h).attr(o),c||(o="rel",c=h[o]),c&&""!==c&&"nofollow"!==c&&(h=r.length?i(r):n,h=h.filter("["+o+'="'+c+'"]'),l=h.index(this)),t.index=l,a.open(h,t))};return t=t||{},e=t.index||0,r?s.undelegate(r,"click.fb-start").delegate(r,"click.fb-start",o):n.unbind("click.fb-start").bind("click.fb-start",o),this},i(e).ready(function(){a.defaults.fixed=i.support.fixedPosition||!(i.browser.msie&&i.browser.version<=6)&&!h})}(window,document,jQuery),!function(t,e,i){"undefined"!=typeof module?module.exports=i(t,e):"function"==typeof define&&"object"==typeof define.amd?define(i):e[t]=i(t,e)}("humane",this,function(t,e){var i=window,n=document,r={on:function(t,e,n){"addEventListener"in i?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},off:function(t,e,n){"removeEventListener"in i?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},bind:function(t,e){return function(){t.apply(e,arguments)}},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},config:function(t,e){return null!=t?t:e},transSupport:!1,useFilter:/msie [678]/i.test(navigator.userAgent),_checkTransition:function(){var t=n.createElement("div"),e={webkit:"webkit",Moz:"",O:"o",ms:"MS"};for(var i in e)i+"Transition"in t.style&&(this.vendorPrefix=e[i],this.transSupport=!0)}};r._checkTransition();var s=function(t){t||(t={}),this.queue=[],this.baseCls=t.baseCls||"humane",this.addnCls=t.addnCls||"",this.timeout="timeout"in t?t.timeout:2500,this.waitForMove=t.waitForMove||!1,this.clickToClose=t.clickToClose||!1,this.timeoutAfterMove=t.timeoutAfterMove||!1,this.container=t.container;try{this._setupEl()}catch(e){r.on(i,"load",r.bind(this._setupEl,this))}};return s.prototype={constructor:s,_setupEl:function(){var t=n.createElement("div");if(t.style.display="none",!this.container){if(!n.body)throw"document.body is null";this.container=n.body}this.container.appendChild(t),this.el=t,this.removeEvent=r.bind(function(){this.timeoutAfterMove?setTimeout(r.bind(this.remove,this),this.timeout):this.remove()},this),this.transEvent=r.bind(this._afterAnimation,this),this._run()},_afterTimeout:function(){r.config(this.currentMsg.waitForMove,this.waitForMove)?this.removeEventsSet||(r.on(n.body,"mousemove",this.removeEvent),r.on(n.body,"click",this.removeEvent),r.on(n.body,"keypress",this.removeEvent),r.on(n.body,"touchstart",this.removeEvent),this.removeEventsSet=!0):this.remove()},_run:function(){if(!this._animating&&this.queue.length&&this.el){this._animating=!0,this.currentTimer&&(clearTimeout(this.currentTimer),this.currentTimer=null);var t=this.queue.shift(),e=r.config(t.clickToClose,this.clickToClose);e&&(r.on(this.el,"click",this.removeEvent),r.on(this.el,"touchstart",this.removeEvent));var i=r.config(t.timeout,this.timeout);i>0&&(this.currentTimer=setTimeout(r.bind(this._afterTimeout,this),i)),r.isArray(t.html)&&(t.html="<ul><li>"+t.html.join("<li>")+"</ul>"),this.el.innerHTML=t.html,this.currentMsg=t,this.el.className=this.baseCls,r.transSupport?(this.el.style.display="block",setTimeout(r.bind(this._showMsg,this),50)):this._showMsg()}},_setOpacity:function(t){if(r.useFilter)try{this.el.filters.item("DXImageTransform.Microsoft.Alpha").Opacity=100*t}catch(e){}else this.el.style.opacity=String(t)},_showMsg:function(){var t=r.config(this.currentMsg.addnCls,this.addnCls);if(r.transSupport)this.el.className=this.baseCls+" "+t+" "+this.baseCls+"-animate";else{var e=0;this.el.className=this.baseCls+" "+t+" "+this.baseCls+"-js-animate",this._setOpacity(0),this.el.style.display="block";var i=this,n=setInterval(function(){1>e?(e+=.1,e>1&&(e=1),i._setOpacity(e)):clearInterval(n)},30)}},_hideMsg:function(){var t=r.config(this.currentMsg.addnCls,this.addnCls);if(r.transSupport)this.el.className=this.baseCls+" "+t,r.on(this.el,r.vendorPrefix?r.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent);else var e=1,i=this,n=setInterval(function(){e>0?(e-=.1,0>e&&(e=0),i._setOpacity(e)):(i.el.className=i.baseCls+" "+t,clearInterval(n),i._afterAnimation())},30)},_afterAnimation:function(){r.transSupport&&r.off(this.el,r.vendorPrefix?r.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent),this.currentMsg.cb&&this.currentMsg.cb(),this.el.style.display="none",this._animating=!1,this._run()},remove:function(t){var e="function"==typeof t?t:null;r.off(n.body,"mousemove",this.removeEvent),r.off(n.body,"click",this.removeEvent),r.off(n.body,"keypress",this.removeEvent),r.off(n.body,"touchstart",this.removeEvent),r.off(this.el,"click",this.removeEvent),r.off(this.el,"touchstart",this.removeEvent),this.removeEventsSet=!1,e&&this.currentMsg&&(this.currentMsg.cb=e),this._animating?this._hideMsg():e&&e()},log:function(t,e,i,n){var r={};if(n)for(var s in n)r[s]=n[s];if("function"==typeof e)i=e;else if(e)for(var s in e)r[s]=e[s];return r.html=t,i&&(r.cb=i),this.queue.push(r),this._run(),this},spawn:function(t){var e=this;return function(i,n,r){return e.log.call(e,i,n,r,t),e}},create:function(t){return new s(t)}},new s});var guiders=function(t){var e={};return e.version="1.2.3",e._defaultSettings={attachTo:null,buttons:[{name:"Close"}],buttonCustomHTML:"",classString:null,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",highlight:null,isHashable:!0,offset:{top:null,left:null},onShow:null,onHide:null,overlay:!1,position:0,title:null,width:400,xButton:!0},e._htmlSkeleton=["<div class='guider'>","  <div class='guider-content'>","    <h1 class='guider-title'></h1>","    <div class='guider-close'></div>","    <div class='guider-description'></div>","    <div class='guider-buttons'>","    </div>","  </div>","  <div class='guider-arrow'>","  </div>","</div>"].join(""),e._arrowSize=12,e._closeButtonTitle="Close",e._currentGuiderID=null,e._guiders={},e._lastCreatedGuiderID=null,e._nextButtonTitle="Next",e._addButtons=function(i){var n=i.elem.find(".guider-buttons");if(null===i.buttons||0===i.buttons.length)return void n.remove();for(var r=i.buttons.length-1;r>=0;r--){var s=i.buttons[r],a=t("<a></a>",{"class":"guider-button",html:s.name});"undefined"!=typeof s.classString&&null!==s.classString&&a.removeClass("guider-button").addClass(s.classString),n.append(a),s.onclick?a.bind("click",s.onclick):s.onclick||s.name.toLowerCase()!==e._closeButtonTitle.toLowerCase()?s.onclick||s.name.toLowerCase()!==e._nextButtonTitle.toLowerCase()||a.bind("click",function(){e.next()}):a.bind("click",function(){e.hideAll()})}if(""!==i.buttonCustomHTML){var o=t(i.buttonCustomHTML);i.elem.find(".guider-buttons").append(o)}0===i.buttons.length&&n.remove()},e._addXButton=function(i){var n=i.elem.find(".guider-close"),r=t("<div></div>",{"class":"x_button",role:"button"}).text("x");n.append(r),r.click(function(){e.hideAll(),e.next()})},e._attach=function(i){if(null!==i){var n=i.elem.innerHeight(),r=i.elem.innerWidth();if(0===i.position||null===i.attachTo)return i.elem.css("position","fixed"),void i.elem.css({top:"50%",left:"50%","margin-top":-(n/2)+"px","margin-left":-(r/2)+"px"});var s=t(i.attachTo);if(0!==s.length){var a=s.offset(),o=s.innerHeight(),c=s.innerWidth(),h=a.top,l=a.left,u=.9*e._arrowSize,d={1:[-u-n,c-r],2:[0,u+c],3:[o/2-n/2,u+c],4:[o-n,u+c],5:[u+o,c-r],6:[u+o,c/2-r/2],7:[u+o,0],8:[o-n,-r-u],9:[o/2-n/2,-r-u],10:[0,-r-u],11:[-u-n,0],12:[-u-n,c/2-r/2]};offset=d[i.position],h+=offset[0],l+=offset[1],null!==i.offset.top&&(h+=i.offset.top),null!==i.offset.left&&(l+=i.offset.left),i.elem.css({position:"absolute",top:h,left:l})}}},e._guiderById=function(t){if("undefined"==typeof e._guiders[t])throw"Cannot find guider with id "+t;return e._guiders[t]},e._showOverlay=function(){t(".guider-overlay-wrap:visible").hide().empty(),t('<div class="guider-overlay"></div>').appendTo(".guider-overlay-wrap"),t(".guider-overlay-wrap").fadeIn("fast",function(){this.style.removeAttribute&&this.style.removeAttribute("filter")})},e._highlightElement=function(e){var i=15,n=t(e),r=n.offset().top-t("body").scrollTop()-i,s=n.offset().left+n.outerWidth()+i,a=n.offset().top-t("body").scrollTop()+n.outerHeight()+i,o=n.offset().left-i,c=n.outerHeight()+2*i,h=n.outerWidth()+2*i;t(".guider-overlay-wrap").empty();t('<div class="guider-highlighters"></div>').css({top:0,width:o,left:0,height:r}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighters guider-highlight-top"></div>').css({top:0,left:o,width:h,height:r}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighters"></div>').css({top:0,right:0,left:o+h,height:r}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighters guider-highlight-right"></div>').css({top:r,right:0,left:s,height:c}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighters"></div>').css({top:a,right:0,bottom:0,left:o+h}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighters guider-highlight-bottom"></div>').css({top:a,width:h,bottom:0,left:o}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighters"></div>').css({top:a,width:o,bottom:0,left:0}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighters guider-highlight-left"></div>').css({top:r,left:0,height:c,width:o}).appendTo(".guider-overlay-wrap"),t('<div class="guider-highlighter"></div>').css({top:r,left:o,height:n.outerHeight()+2*i,width:n.outerWidth()+2*i}).appendTo(".guider-overlay-wrap");t(".guider-overlay-wrap").fadeIn("fast"),n.addClass("guider-highlight"),n.parents("#project-head").addClass("guider-highlight-parent")},e._dehighlightElement=function(e){t(e).removeClass("guider-highlight")},e._hideOverlay=function(){t(".guider-overlay-wrap").fadeOut("fast")},e._initializeOverlay=function(){0===t(".guider-overlay-wrap").length&&t('<div class="guider-overlay-wrap"></div>').appendTo("body").hide()},e._styleArrow=function(i){var n=i.position||0;if(n){var r=t(i.elem.find(".guider-arrow")),s={1:"guider-arrow-down",2:"guider-arrow-left",3:"guider-arrow-left",4:"guider-arrow-left",5:"guider-arrow-up",6:"guider-arrow-up",7:"guider-arrow-up",8:"guider-arrow-right",9:"guider-arrow-right",10:"guider-arrow-right",11:"guider-arrow-down",12:"guider-arrow-down"};r.addClass(s[n]);var a=i.elem.innerHeight(),o=i.elem.innerWidth(),c=e._arrowSize/2,h={1:["right",c],2:["top",c],3:["top",a/2-c],4:["bottom",c],5:["right",c],6:["left",o/2-c],7:["left",c],8:["bottom",c],9:["top",a/2-c],10:["top",c],11:["left",c],12:["left",o/2-c]},n=h[i.position];r.css(n[0],n[1]+"px")}},e._showIfHashed=function(t){var i="guider=",n=window.location.hash.indexOf(i);if(-1!==n){var r=window.location.hash.substr(n+i.length);t.id.toLowerCase()===r.toLowerCase()&&e.show(t.id)}},e.next=function(){var t=e._guiders[e._currentGuiderID];if("undefined"!=typeof t){var i=t.next||null;if(null!==i&&""!==i){var n=e._guiderById(i),r=n.overlay?!0:!1;e.hideAll(r,!0),t&&t.highlight&&e._dehighlightElement(t.highlight),e.show(i)}}},e.createGuider=function(i){(null===i||void 0===i)&&(i={}),myGuider=t.extend({},e._defaultSettings,i),myGuider.id=myGuider.id||String(Math.floor(1e3*Math.random()));var n=t(e._htmlSkeleton);myGuider.elem=n,"undefined"!=typeof myGuider.classString&&null!==myGuider.classString&&myGuider.elem.addClass(myGuider.classString),myGuider.elem.css("width",myGuider.width+"px");var r=n.find(".guider-title");return null===myGuider.title?r.remove():r.html(myGuider.title),myGuider.selector&&n.find(".guider-description").html(t(""+myGuider.selector)),n.find(".guider-description").html(myGuider.description),e._addButtons(myGuider),myGuider.xButton&&e._addXButton(myGuider),n.hide(),n.appendTo("body"),n.attr("id",myGuider.id),"undefined"!=typeof myGuider.attachTo&&null!==myGuider&&(e._attach(myGuider),e._styleArrow(myGuider)),e._initializeOverlay(),e._guiders[myGuider.id]=myGuider,e._lastCreatedGuiderID=myGuider.id,myGuider.isHashable&&e._showIfHashed(myGuider),e},e.hideAll=function(i,n){n=n||!1,t(".guider:visible").each(function(i,r){var s=e._guiderById(t(r).attr("id"));s.onHide&&s.onHide(s,n)}),t(".guider").fadeOut("fast");var r=e._guiders[e._currentGuiderID];return void 0===r?e:(r.highlight&&e._dehighlightElement(r.highlight),"undefined"!=typeof i&&i===!0||e._hideOverlay(),e)},e.show=function(i){!i&&e._lastCreatedGuiderID&&(i=e._lastCreatedGuiderID);var n=e._guiderById(i);n.onShow&&n.onShow(n),e._attach(n),n.elem.fadeIn("fast");var r=t(window).height(),s=t(window).scrollTop(),a=n.elem.offset(),o=n.elem.height();return(a.top-s<0||a.top+o+40>s+r)&&window.scrollTo(0,Math.max(a.top+o/2-r/2,0)),n.highlight?e._highlightElement(n.highlight):n.overlay&&e._showOverlay(),e._currentGuiderID=i,e},e}.call(this,jQuery);!function(t){var e="hidden",i="border-box",n='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden">',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s="oninput",a="onpropertychange",o=t(n)[0];o.setAttribute(s,"return"),t.isFunction(o[s])||a in o?t.fn.autosize=function(o){return this.each(function(){function c(){var t,i;l||(l=!0,h.value=d.value,h.style.overflowY=d.style.overflowY,h.style.width=p.css("width"),h.scrollTop=0,h.scrollTop=9e4,t=h.scrollTop,i=e,t>g?(t=g,i="scroll"):f>t&&(t=f),d.style.overflowY=i,d.style.height=t+v+"px",setTimeout(function(){l=!1},1))}var h,l,u,d=this,p=t(d),f=p.height(),g=parseInt(p.css("maxHeight"),10),m=r.length,v=0;if((p.css("box-sizing")===i||p.css("-moz-box-sizing")===i||p.css("-webkit-box-sizing")===i)&&(v=p.outerHeight()-p.height()),!p.data("mirror")&&!p.data("ismirror")){for(h=t(n).data("ismirror",!0).addClass(o||"autosizejs")[0],u="none"===p.css("resize")?"none":"horizontal",p.data("mirror",t(h)).css({overflow:e,overflowY:e,wordWrap:"break-word",resize:u}),g=g&&g>0?g:9e4;m--;)h.style[r[m]]=p.css(r[m]);t("body").append(h),a in d?s in d?d[s]=d.onkeyup=c:d[a]=c:d[s]=c,t(window).resize(c),p.bind("autosize",c),c()}})}:t.fn.autosize=function(){return this}}(jQuery),function(t,e,i){"$:nomunge";function n(t){return t=t||location.href,"#"+t.replace(/^[^#]*#?(.*)$/,"$1")}var r,s="hashchange",a=document,o=t.event.special,c=a.documentMode,h="on"+s in e&&(c===i||c>7);t.fn[s]=function(t){return t?this.bind(s,t):this.trigger(s)},t.fn[s].delay=50,o[s]=t.extend(o[s],{setup:function(){return h?!1:void t(r.start)},teardown:function(){return h?!1:void t(r.stop)}}),r=function(){function r(){var i=n(),a=p(l);i!==l?(d(l=i,a),t(e).trigger(s)):a!==l&&(location.href=location.href.replace(/#.*/,"")+a),o=setTimeout(r,t.fn[s].delay)}var o,c={},l=n(),u=function(t){return t},d=u,p=u;return c.start=function(){o||r()},c.stop=function(){o&&clearTimeout(o),o=i},t.browser.msie&&!h&&function(){var e,i;c.start=function(){e||(i=t.fn[s].src,i=i&&i+n(),e=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||d(n()),r()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,a.onpropertychange=function(){try{"title"===event.propertyName&&(e.document.title=a.title)}catch(t){}})},c.stop=u,p=function(){return n(e.location.href)},d=function(i,n){var r=e.document,o=t.fn[s].domain;i!==n&&(r.title=a.title,r.open(),o&&r.write('<script>document.domain="'+o+'"</script>'),r.close(),e.location.hash=i)}}(),c}()}(jQuery,this),function(t,e){"use strict";var i="0.7.10",n="",r="?",s="function",a="undefined",o="object",c="string",h="major",l="model",u="name",d="type",p="vendor",f="version",g="architecture",m="console",v="mobile",y="tablet",b="smarttv",w="wearable",_="embedded",x={extend:function(t,e){for(var i in e)-1!=="browser cpu device engine os".indexOf(i)&&e[i].length%2===0&&(t[i]=e[i].concat(t[i]));return t},has:function(t,e){return"string"==typeof t?-1!==e.toLowerCase().indexOf(t.toLowerCase()):!1},lowerize:function(t){return t.toLowerCase()},major:function(t){return typeof t===c?t.split(".")[0]:e}},k={rgx:function(){for(var t,i,n,r,c,h,l,u=0,d=arguments;u<d.length&&!h;){var p=d[u],f=d[u+1];if(typeof t===a){t={};for(r in f)f.hasOwnProperty(r)&&(c=f[r],typeof c===o?t[c[0]]=e:t[c]=e)}for(i=n=0;i<p.length&&!h;)if(h=p[i++].exec(this.getUA()))for(r=0;r<f.length;r++)l=h[++n],c=f[r],typeof c===o&&c.length>0?2==c.length?typeof c[1]==s?t[c[0]]=c[1].call(this,l):t[c[0]]=c[1]:3==c.length?typeof c[1]!==s||c[1].exec&&c[1].test?t[c[0]]=l?l.replace(c[1],c[2]):e:t[c[0]]=l?c[1].call(this,l,c[2]):e:4==c.length&&(t[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):e):t[c]=l?l:e;u+=2}return t},str:function(t,i){for(var n in i)if(typeof i[n]===o&&i[n].length>0){for(var s=0;s<i[n].length;s++)if(x.has(i[n][s],t))return n===r?e:n}else if(x.has(i[n],t))return n===r?e:n;return t}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,f],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[u,f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],f],[/(edge)\/((\d+)?[\w\.]+)/i],[u,f],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[u,f],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],f],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],f],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[f,[u,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[f,[u,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[f,[u,"Facebook"]],[/fxios\/([\w\.-]+)/i],[f,[u,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[f,k.str,T.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,x.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",x.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,x.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,p,[d,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[p,"Apple"],[d,y]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[p,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[p,l,[d,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[p,"Amazon"],[d,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,k.str,T.device.amazon.model],[p,"Amazon"],[d,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,p,[d,v]],[/\((ip[honed|\s\w*]+);/i],[l,[p,"Apple"],[d,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[p,l,[d,v]],[/\(bb10;\s(\w+)/i],[l,[p,"BlackBerry"],[d,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[l,[p,"Asus"],[d,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[p,"Sony"],[l,"Xperia Tablet"],[d,y]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[p,"Sony"],[l,"Xperia Phone"],[d,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[p,l,[d,m]],[/android.+;\s(shield)\sbuild/i],[l,[p,"Nvidia"],[d,m]],[/(playstation\s[34portablevi]+)/i],[l,[p,"Sony"],[d,m]],[/(sprint\s(\w+))/i],[[p,k.str,T.device.sprint.vendor],[l,k.str,T.device.sprint.model],[d,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[p,l,[d,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[p,[l,/_/g," "],[d,v]],[/(nexus\s9)/i],[l,[p,"HTC"],[d,y]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[p,"Microsoft"],[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,"Microsoft"],[d,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[l,[p,"Motorola"],[d,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[p,"Motorola"],[d,y]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[p,"Samsung"],l,[d,y]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[p,"Samsung"],l,[d,v]],[/(samsung);smarttv/i],[p,l,[d,b]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[d,b]],[/sie-(\w+)*/i],[l,[p,"Siemens"],[d,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[p,"Nokia"],l,[d,v]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[p,"Acer"],[d,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[p,"LG"],l,[d,y]],[/(lg) netcast\.tv/i],[p,l,[d,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[p,"LG"],[d,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[p,"Lenovo"],[d,y]],[/linux;.+((jolla));/i],[p,l,[d,v]],[/((pebble))app\/[\d\.]+\s/i],[p,l,[d,w]],[/android.+;\s(glass)\s\d/i],[l,[p,"Google"],[d,w]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[l,/_/g," "],[p,"Xiaomi"],[d,v]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[d,x.lowerize],p,l]],
engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]+).*(gecko)/i],[f,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[f,k.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[f,k.str,T.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[u,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],f],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],f],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],f],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,f],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[u,"iOS"],[f,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[u,f]]},C=function(e,i){if(!(this instanceof C))return new C(e,i).getResult();var r=e||(t&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:n),s=i?x.extend(S,i):S;return this.getBrowser=function(){var t=k.rgx.apply(this,s.browser);return t.major=x.major(t.version),t},this.getCPU=function(){return k.rgx.apply(this,s.cpu)},this.getDevice=function(){return k.rgx.apply(this,s.device)},this.getEngine=function(){return k.rgx.apply(this,s.engine)},this.getOS=function(){return k.rgx.apply(this,s.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=t,this},this.setUA(r),this};C.VERSION=i,C.BROWSER={NAME:u,MAJOR:h,VERSION:f},C.CPU={ARCHITECTURE:g},C.DEVICE={MODEL:l,VENDOR:p,TYPE:d,CONSOLE:m,MOBILE:v,SMARTTV:b,TABLET:y,WEARABLE:w,EMBEDDED:_},C.ENGINE={NAME:u,VERSION:f},C.OS={NAME:u,VERSION:f},typeof exports!==a?(typeof module!==a&&module.exports&&(exports=module.exports=C),exports.UAParser=C):typeof define===s&&define.amd?define(function(){return C}):t.UAParser=C;var A=t.jQuery||t.Zepto;if(typeof A!==a){var O=new C;A.ua=O.getResult(),A.ua.get=function(){return O.getUA()},A.ua.set=function(t){O.setUA(t);var e=O.getResult();for(var i in e)A.ua[i]=e[i]}}}("object"==typeof window?window:this),function(){var t=jQuery;window.VS||(window.VS={}),VS.app||(VS.app={}),VS.ui||(VS.ui={}),VS.model||(VS.model={}),VS.utils||(VS.utils={}),VS.VERSION="0.4.0",VS.VisualSearch=function(e){var i={container:"",query:"",autosearch:!0,unquotable:[],remainder:"text",showFacets:!0,callbacks:{search:t.noop,focus:t.noop,blur:t.noop,facetMatches:t.noop,valueMatches:t.noop}};if(this.options=_.extend({},i,e),this.options.callbacks=_.extend({},i.callbacks,e.callbacks),VS.app.hotkeys.initialize(),this.searchQuery=new VS.model.SearchQuery,this.searchBox=new VS.ui.SearchBox({app:this,showFacets:this.options.showFacets}),e.container){var n=this.searchBox.render().el;t(this.options.container).html(n)}return this.searchBox.value(this.options.query||""),t(window).bind("unload",function(t){}),this},VS.init=function(t){return new VS.VisualSearch(t)}}(),function(){var t=jQuery;VS.ui.SearchBox=Backbone.View.extend({id:"search",events:{"click .VS-cancel-search-box":"clearSearch","mousedown .VS-search-box":"maybeFocusSearch","dblclick .VS-search-box":"highlightSearch","click .VS-search-box":"maybeTripleClick"},initialize:function(){this.app=this.options.app,this.flags={allSelected:!1},this.facetViews=[],this.inputViews=[],_.bindAll(this,"renderFacets","_maybeDisableFacets","disableFacets","deselectAllFacets","addedFacet","removedFacet","changedFacet"),this.app.searchQuery.bind("reset",this.renderFacets).bind("add",this.addedFacet).bind("remove",this.removedFacet).bind("change",this.changedFacet),t(document).bind("keydown",this._maybeDisableFacets)},render:function(){return t(this.el).append(JST.search_box({})),t(document.body).setMode("no","search"),this},value:function(t){return null==t?this.serialize():this.setQuery(t)},serialize:function(){var t=[],e=this.inputViews.length;return this.app.searchQuery.each(_.bind(function(e,i){t.push(this.inputViews[i].value()),t.push(e.serialize())},this)),e&&t.push(this.inputViews[e-1].value()),_.compact(t).join(" ")},selected:function(){return _.select(this.facetViews,function(t){return"is"==t.modes.editing||"is"==t.modes.selected})},selectedModels:function(){return _.pluck(this.selected(),"model")},setQuery:function(t){this.currentQuery=t,VS.app.SearchParser.parse(this.app,t)},viewPosition:function(t){var e="facet"==t.type?this.facetViews:this.inputViews,i=_.indexOf(e,t);return-1==i&&(i=0),i},searchEvent:function(t){var e=this.value();this.focusSearch(t),this.value(e),this.app.options.callbacks.search(e,this.app.searchQuery)},addFacet:function(t,e,i){if(t=VS.utils.inflector.trim(t),e=VS.utils.inflector.trim(e||""),t){var n=new VS.model.SearchFacet({category:t,value:e||"",app:this.app});this.app.searchQuery.add(n,{at:i})}},addedFacet:function(t){this.renderFacets();var e=_.detect(this.facetViews,function(e){return e.model==t?!0:void 0});_.defer(function(){e.enableEdit()})},changedFacet:function(){this.renderFacets()},removedFacet:function(t,e,i){},renderFacets:function(){this.facetViews=[],this.inputViews=[],this.$(".VS-search-inner").empty(),this.app.searchQuery.each(_.bind(this.renderFacet,this)),this.renderSearchInput(),this.renderPlaceholder()},renderFacet:function(t,e){var i=new VS.ui.SearchFacet({app:this.app,model:t,order:e});return this.renderSearchInput(),this.facetViews.push(i),this.$(".VS-search-inner").children().eq(2*e).after(i.render().el),i.calculateSize(),_.defer(_.bind(i.calculateSize,i)),i},renderSearchInput:function(){var t=new VS.ui.SearchInput({position:this.inputViews.length,app:this.app,showFacets:this.options.showFacets});this.$(".VS-search-inner").append(t.render().el),this.inputViews.push(t)},renderPlaceholder:function(){var t=this.$(".VS-placeholder");this.app.searchQuery.length?t.addClass("VS-hidden"):t.removeClass("VS-hidden").text(this.app.options.placeholder)},clearSearch:function(t){var e=_.bind(function(){this.disableFacets(),this.value(""),this.flags.allSelected=!1,this.searchEvent(t),this.focusSearch(t)},this);this.app.options.callbacks.clearSearch?this.app.options.callbacks.clearSearch(e):e()},selectAllFacets:function(){this.flags.allSelected=!0,t(document).one("click.selectAllFacets",this.deselectAllFacets),_.each(this.facetViews,function(t,e){t.selectFacet()}),_.each(this.inputViews,function(t,e){t.selectText()})},allSelected:function(t){return t&&(this.flags.allSelected=!1),this.flags.allSelected},deselectAllFacets:function(e){if(this.disableFacets(),this.$(e.target).is(".category,input")){var i=t(e.target).closest(".search_facet,.search_input"),n=_.detect(this.facetViews.concat(this.inputViews),function(t){return t.el==i[0]});"facet"==n.type?n.selectFacet():"input"==n.type&&_.defer(function(){n.enableEdit(!0)})}},disableFacets:function(e){_.each(this.inputViews,function(t){!t||t==e||"is"!=t.modes.editing&&"is"!=t.modes.selected||t.disableEdit()}),_.each(this.facetViews,function(t){!t||t==e||"is"!=t.modes.editing&&"is"!=t.modes.selected||(t.disableEdit(),t.deselectFacet())}),this.flags.allSelected=!1,this.removeFocus(),t(document).unbind("click.selectAllFacets")},resizeFacets:function(t){_.each(this.facetViews,function(e,i){t&&e!=t||e.resize()})},_maybeDisableFacets:function(t){return this.flags.allSelected&&"backspace"==VS.app.hotkeys.key(t)?(t.preventDefault(),this.clearSearch(t),!1):void(this.flags.allSelected&&VS.app.hotkeys.printable(t)&&this.clearSearch(t))},focusNextFacet:function(t,e,i){i=i||{};var n=this.facetViews.length,r=i.viewPosition||this.viewPosition(t);if(i.skipToFacet){if(i.skipToFacet&&"text"==t.type&&n==r&&e>=0)return!1}else"text"==t.type&&e>0&&(e-=1),"facet"==t.type&&0>e&&(e+=1);var s,a=Math.min(n,r+e);return"text"==t.type?(a>=0&&n>a?s=this.facetViews[a]:a==n&&(s=this.inputViews[this.inputViews.length-1]),s&&i.selectFacet&&"facet"==s.type?s.selectFacet():s&&(s.enableEdit(),s.setCursorAtEnd(e||i.startAtEnd))):"facet"==t.type&&(i.skipToFacet?a>=n||0>a?(s=_.last(this.inputViews),s.enableEdit()):(s=this.facetViews[a],s.enableEdit(),s.setCursorAtEnd(e||i.startAtEnd)):(s=this.inputViews[a],s.enableEdit())),i.selectText&&s.selectText(),this.resizeFacets(),!0},maybeFocusSearch:function(e){(t(e.target).is(".VS-search-box")||t(e.target).is(".VS-search-inner")||"keydown"==e.type)&&this.focusSearch(e)},focusSearch:function(t,e){var i=this.inputViews[this.inputViews.length-1];i.enableEdit(e),e||i.setCursorAtEnd(-1),"keydown"==t.type&&(i.keydown(t),i.box.trigger("keydown")),_.defer(_.bind(function(){this.$("input:focus").length||i.enableEdit(e)},this))},highlightSearch:function(e){if(t(e.target).is(".VS-search-box")||t(e.target).is(".VS-search-inner")||"keydown"==e.type){var i=this.inputViews[this.inputViews.length-1];i.startTripleClickTimer(),this.focusSearch(e,!0)}},maybeTripleClick:function(t){var e=this.inputViews[this.inputViews.length-1];return e.maybeTripleClick(t)},addFocus:function(){this.app.options.callbacks.focus(),this.$(".VS-search-box").addClass("VS-focus")},removeFocus:function(){this.app.options.callbacks.blur();var t=_.any(this.facetViews.concat(this.inputViews),function(t){return t.isFocused()});t||this.$(".VS-search-box").removeClass("VS-focus")},showFacetCategoryMenu:function(t){if(t.preventDefault(),t.stopPropagation(),this.facetCategoryMenu&&"is"==this.facetCategoryMenu.modes.open)return this.facetCategoryMenu.close();var e=[{title:"Account",onClick:_.bind(this.addFacet,this,"account","")},{title:"Project",onClick:_.bind(this.addFacet,this,"project","")},{title:"Filter",onClick:_.bind(this.addFacet,this,"filter","")},{title:"Access",onClick:_.bind(this.addFacet,this,"access","")}],i=this.facetCategoryMenu||(this.facetCategoryMenu=new dc.ui.Menu({items:e,standalone:!0}));return this.$(".VS-icon-search").after(i.render().open().content),!1}})}(),function(){var t=jQuery;VS.ui.SearchFacet=Backbone.View.extend({type:"facet",className:"search_facet",events:{"click .category":"selectFacet","keydown input":"keydown","mousedown input":"enableEdit","mouseover .VS-icon-cancel":"showDelete","mouseout .VS-icon-cancel":"hideDelete","click .VS-icon-cancel":"remove"},initialize:function(t){this.flags={canClose:!1},_.bindAll(this,"set","keydown","deselectFacet","deferDisableEdit")},render:function(){return t(this.el).html(JST.search_facet({model:this.model})),this.setMode("not","editing"),this.setMode("not","selected"),this.box=this.$("input"),this.box.val(this.model.label()),this.box.bind("blur",this.deferDisableEdit),this.box.bind("input propertychange",this.keydown),this.setupAutocomplete(),this},calculateSize:function(){this.box.autoGrowInput(),this.box.unbind("updated.autogrow"),this.box.bind("updated.autogrow",_.bind(this.moveAutocomplete,this))},resize:function(t){this.box.trigger("resize.autogrow",t)},setupAutocomplete:function(){this.box.autocomplete({source:_.bind(this.autocompleteValues,this),minLength:0,delay:0,autoFocus:!0,position:{offset:"0 5"},create:_.bind(function(e,i){t(this.el).find(".ui-autocomplete-input").css("z-index","auto")},this),select:_.bind(function(t,e){t.preventDefault();var i=this.model.get("value");return this.set(e.item.value),(i!=e.item.value||this.box.val()!=e.item.value)&&(this.options.app.options.autosearch?this.search(t):(this.options.app.searchBox.renderFacets(),this.options.app.searchBox.focusNextFacet(this,1,{viewPosition:this.options.order}))),!1},this),open:_.bind(function(e,i){var n=this.box;this.box.autocomplete("widget").find(".ui-menu-item").each(function(){var e=t(this),i=e.data("item.autocomplete")||e.data("ui-autocomplete-item");i.value==n.val()&&n.data("autocomplete").menu.activate&&n.data("autocomplete").menu.activate(new t.Event("mouseover"),e)})},this)}),this.box.autocomplete("widget").addClass("VS-interface")},moveAutocomplete:function(){var t=this.box.data("autocomplete");t&&t.menu.element.position({my:"left top",at:"left bottom",of:this.box.data("autocomplete").element,collision:"flip",offset:"0 5"})},searchAutocomplete:function(t){var e=this.box.data("autocomplete");if(e){var i=e.menu.element;e.search(),i.outerWidth(Math.max(i.width("").outerWidth(),e.element.outerWidth()))}},closeAutocomplete:function(){var t=this.box.data("autocomplete");t&&t.close()},autocompleteValues:function(e,i){var n=this.model.get("category"),r=this.model.get("value"),s=e.term;this.options.app.options.callbacks.valueMatches(n,s,function(e,n){if(n=n||{},e=e||[],s&&r!=s)if(n.preserveMatches)i(e);else{var a=VS.utils.inflector.escapeRegExp(s||""),o=new RegExp("\\b"+a,"i");e=t.grep(e,function(t){return o.test(t)||o.test(t.value)||o.test(t.label)})}i(n.preserveOrder?e:_.sortBy(e,function(t){return t==r||t.value==r?"":t}))})},set:function(t){t&&this.model.set({value:t})},search:function(t,e){e||(e=1),this.closeAutocomplete(),this.options.app.searchBox.searchEvent(t),_.defer(_.bind(function(){this.options.app.searchBox.focusNextFacet(this,e,{viewPosition:this.options.order})},this))},enableEdit:function(){"is"!=this.modes.editing&&(this.setMode("is","editing"),this.deselectFacet(),""==this.box.val()&&this.box.val(this.model.get("value"))),this.flags.canClose=!1,this.options.app.searchBox.disableFacets(this),this.options.app.searchBox.addFocus(),_.defer(_.bind(function(){this.options.app.searchBox.addFocus()},this)),this.resize(),this.searchAutocomplete(),this.box.focus()},deferDisableEdit:function(){this.flags.canClose=!0,_.delay(_.bind(function(){this.flags.canClose&&!this.box.is(":focus")&&"is"==this.modes.editing&&"is"!=this.modes.selected&&this.disableEdit()},this),250)},disableEdit:function(){var t=VS.utils.inflector.trim(this.box.val());t!=this.model.get("value")&&this.set(t),this.flags.canClose=!1,this.box.selectRange(0,0),this.box.blur(),this.setMode("not","editing"),this.closeAutocomplete(),this.options.app.searchBox.removeFocus()},selectFacet:function(e){e&&e.preventDefault();var i=this.options.app.searchBox.allSelected();if("is"!=this.modes.selected)return this.box.is(":focus")&&(this.box.setCursorPosition(0),this.box.blur()),this.flags.canClose=!1,this.closeAutocomplete(),this.setMode("is","selected"),this.setMode("not","editing"),(!i||e)&&(t(document).unbind("keydown.facet",this.keydown),t(document).unbind("click.facet",this.deselectFacet),_.defer(_.bind(function(){t(document).unbind("keydown.facet").bind("keydown.facet",this.keydown),t(document).unbind("click.facet").one("click.facet",this.deselectFacet)},this)),this.options.app.searchBox.disableFacets(this),this.options.app.searchBox.addFocus()),!1},deselectFacet:function(e){return e&&e.preventDefault(),"is"==this.modes.selected&&(this.setMode("not","selected"),this.closeAutocomplete(),this.options.app.searchBox.removeFocus()),t(document).unbind("keydown.facet",this.keydown),t(document).unbind("click.facet",this.deselectFacet),!1},isFocused:function(){return this.box.is(":focus")},showDelete:function(){t(this.el).addClass("search_facet_maybe_delete")},hideDelete:function(){t(this.el).removeClass("search_facet_maybe_delete")},setCursorAtEnd:function(t){-1==t?this.box.setCursorPosition(this.box.val().length):this.box.setCursorPosition(0)},remove:function(t){var e=this.model.get("value");this.deselectFacet(),this.disableEdit(),this.options.app.searchQuery.remove(this.model),e&&this.options.app.options.autosearch?this.search(t,-1):(this.options.app.searchBox.renderFacets(),this.options.app.searchBox.focusNextFacet(this,-1,{viewPosition:this.options.order}))},selectText:function(){this.box.selectRange(0,this.box.val().length)},keydown:function(t){var e=VS.app.hotkeys.key(t);if("enter"==e&&this.box.val())this.disableEdit(),this.search(t);else if("left"==e)"is"==this.modes.selected?(this.deselectFacet(),this.options.app.searchBox.focusNextFacet(this,-1,{startAtEnd:-1})):0!=this.box.getCursorPosition()||this.box.getSelection().length||this.selectFacet();else if("right"==e)"is"==this.modes.selected?(t.preventDefault(),this.deselectFacet(),this.setCursorAtEnd(0),this.enableEdit()):this.box.getCursorPosition()==this.box.val().length&&(t.preventDefault(),this.disableEdit(),this.options.app.searchBox.focusNextFacet(this,1));else if(VS.app.hotkeys.shift&&"tab"==e)t.preventDefault(),this.options.app.searchBox.focusNextFacet(this,-1,{startAtEnd:-1,skipToFacet:!0,selectText:!0});else if("tab"==e)t.preventDefault(),this.options.app.searchBox.focusNextFacet(this,1,{skipToFacet:!0,selectText:!0});else{if(VS.app.hotkeys.command&&(97==t.which||65==t.which))return t.preventDefault(),this.options.app.searchBox.selectAllFacets(),!1;VS.app.hotkeys.printable(t)&&"is"==this.modes.selected?(this.options.app.searchBox.focusNextFacet(this,-1,{startAtEnd:-1}),this.remove(t)):"backspace"==e&&("is"==this.modes.selected?(t.preventDefault(),this.remove(t)):0!=this.box.getCursorPosition()||this.box.getSelection().length||(t.preventDefault(),this.selectFacet()))}null==t.which?_.defer(_.bind(this.resize,this,t)):this.resize(t)}})}(),function(){var t=jQuery;VS.ui.SearchInput=Backbone.View.extend({type:"text",className:"search_input ui-menu",events:{"keypress input":"keypress","keydown input":"keydown","click input":"maybeTripleClick","dblclick input":"startTripleClickTimer"},initialize:function(){this.app=this.options.app,this.flags={canClose:!1},_.bindAll(this,"removeFocus","addFocus","moveAutocomplete","deferDisableEdit")},render:function(){return t(this.el).html(JST.search_input({})),this.setMode("not","editing"),this.setMode("not","selected"),this.box=this.$("input"),this.box.autoGrowInput(),this.box.bind("updated.autogrow",this.moveAutocomplete),this.box.bind("blur",this.deferDisableEdit),this.box.bind("focus",this.addFocus),this.setupAutocomplete(),this},setupAutocomplete:function(){this.box.autocomplete({minLength:this.options.showFacets?0:1,delay:50,autoFocus:!0,position:{offset:"0 -1"},source:_.bind(this.autocompleteValues,this),create:_.bind(function(e,i){t(this.el).find(".ui-autocomplete-input").css("z-index","auto")},this),select:_.bind(function(t,e){t.preventDefault();var i=this.addTextFacetRemainder(e.item.value),n=this.options.position+(i?1:0);return this.app.searchBox.addFacet(e.item instanceof String?e.item:e.item.value,"",n),!1},this)}),this.box.data("autocomplete")._renderMenu=function(t,e){var i="";_.each(e,_.bind(function(e,n){e.category&&e.category!=i&&(t.append('<li class="ui-autocomplete-category">'+e.category+"</li>"),i=e.category),this._renderItemData?this._renderItemData(t,e):this._renderItem(t,e)},this))},this.box.autocomplete("widget").addClass("VS-interface")},autocompleteValues:function(e,i){var n=e.term,r=n.match(/\w+\*?$/),s=VS.utils.inflector.escapeRegExp(r&&r[0]||"");this.app.options.callbacks.facetMatches(function(e,n){n=n||{},e=e||[];var r=new RegExp("^"+s,"i"),a=t.grep(e,function(t){return t&&r.test(t.label||t)});i(n.preserveOrder?a:_.sortBy(a,function(t){return t.label?t.category+"-"+t.label:t}))})},closeAutocomplete:function(){var t=this.box.data("autocomplete");t&&t.close()},moveAutocomplete:function(){var t=this.box.data("autocomplete");t&&t.menu.element.position({my:"left top",at:"left bottom",of:this.box.data("autocomplete").element,collision:"none",offset:"0 -1"})},searchAutocomplete:function(t){var e=this.box.data("autocomplete");if(e){var i=e.menu.element;e.search(),i.outerWidth(Math.max(i.width("").outerWidth(),e.element.outerWidth()))}},addTextFacetRemainder:function(t){var e=this.box.val(),i=e.match(/\b(\w+)$/);if(!i)return"";var n=new RegExp(i[0],"i");return 0==t.search(n)&&(e=e.replace(/\b(\w+)$/,"")),e=e.replace("^s+|s+$",""),e&&this.app.searchBox.addFacet(this.app.options.remainder,e,this.options.position),e},enableEdit:function(t){this.addFocus(),t&&this.selectText(),this.box.focus()},addFocus:function(){this.flags.canClose=!1,this.app.searchBox.allSelected()||this.app.searchBox.disableFacets(this),this.app.searchBox.addFocus(),this.setMode("is","editing"),this.setMode("not","selected"),this.app.searchBox.allSelected()||this.searchAutocomplete()},disableEdit:function(){this.box.blur(),this.removeFocus()},removeFocus:function(){this.flags.canClose=!1,this.app.searchBox.removeFocus(),this.setMode("not","editing"),this.setMode("not","selected"),this.closeAutocomplete()},deferDisableEdit:function(){this.flags.canClose=!0,_.delay(_.bind(function(){this.flags.canClose&&!this.box.is(":focus")&&"is"==this.modes.editing&&this.disableEdit()},this),250)},startTripleClickTimer:function(){this.tripleClickTimer=setTimeout(_.bind(function(){this.tripleClickTimer=null},this),500)},maybeTripleClick:function(t){return this.tripleClickTimer?(t.preventDefault(),this.app.searchBox.selectAllFacets(),!1):void 0},isFocused:function(){return this.box.is(":focus")},value:function(){return this.box.val()},setCursorAtEnd:function(t){-1==t?this.box.setCursorPosition(this.box.val().length):this.box.setCursorPosition(0)},selectText:function(){this.box.selectRange(0,this.box.val().length),this.app.searchBox.allSelected()?this.setMode("is","selected"):this.box.focus()},search:function(t,e){e||(e=0),this.closeAutocomplete(),this.app.searchBox.searchEvent(t),_.defer(_.bind(function(){this.app.searchBox.focusNextFacet(this,e)},this))},keypress:function(t){var e=VS.app.hotkeys.key(t);if("enter"==e)return this.search(t,100);if(VS.app.hotkeys.colon(t)){this.box.trigger("resize.autogrow",t);var i=this.box.val(),n=[];this.app.options.callbacks.facetMatches&&this.app.options.callbacks.facetMatches(function(t){n=t});var r=_.map(n,function(t){return t.label?t.label:t});if(_.contains(r,i)){t.preventDefault();var s=this.addTextFacetRemainder(i),a=this.options.position+(s?1:0);return this.app.searchBox.addFacet(i,"",a),!1}}else if("backspace"==e&&0==this.box.getCursorPosition()&&!this.box.getSelection().length)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.app.searchBox.resizeFacets(),!1},keydown:function(t){var e=VS.app.hotkeys.key(t);if("left"==e)0==this.box.getCursorPosition()&&(t.preventDefault(),this.app.searchBox.focusNextFacet(this,-1,{startAtEnd:-1}));else if("right"==e)this.box.getCursorPosition()==this.box.val().length&&(t.preventDefault(),this.app.searchBox.focusNextFacet(this,1,{selectFacet:!0}));else if(VS.app.hotkeys.shift&&"tab"==e)t.preventDefault(),this.app.searchBox.focusNextFacet(this,-1,{selectText:!0});else if("tab"==e){var i=this.box.val();if(i.length){t.preventDefault();var n=this.addTextFacetRemainder(i),r=this.options.position+(n?1:0);i!=n&&this.app.searchBox.addFacet(i,"",r)}else{var s=this.app.searchBox.focusNextFacet(this,0,{skipToFacet:!0,selectText:!0});s&&t.preventDefault()}}else{if(VS.app.hotkeys.command&&"a"==String.fromCharCode(t.which).toLowerCase())return t.preventDefault(),this.app.searchBox.selectAllFacets(),!1;if("backspace"!=e||this.app.searchBox.allSelected()){if("end"==e){var a=this.app.searchBox.inputViews[this.app.searchBox.inputViews.length-1];a.setCursorAtEnd(-1)}else if("home"==e){var a=this.app.searchBox.inputViews[0];a.setCursorAtEnd(-1)}}else if(0==this.box.getCursorPosition()&&!this.box.getSelection().length)return t.preventDefault(),this.app.searchBox.focusNextFacet(this,-1,{backspace:!0}),!1}this.box.trigger("resize.autogrow",t)}})}(),function(){var t=jQuery;Backbone.View.prototype.setMode=function(e,i){this.modes||(this.modes={}),this.modes[i]!==e&&(t(this.el).setMode(e,i),this.modes[i]=e)}}(),function(){var t=jQuery;VS.app.hotkeys={KEYS:{16:"shift",17:"command",91:"command",93:"command",224:"command",13:"enter",37:"left",38:"upArrow",39:"right",40:"downArrow",46:"delete",8:"backspace",35:"end",36:"home",9:"tab",188:"comma"},initialize:function(){_.bindAll(this,"down","up","blur"),t(document).bind("keydown",this.down),t(document).bind("keyup",this.up),t(window).bind("blur",this.blur)},down:function(t){var e=this.KEYS[t.which];e&&(this[e]=!0)},up:function(t){var e=this.KEYS[t.which];e&&(this[e]=!1)},blur:function(t){for(var e in this.KEYS)this[this.KEYS[e]]=!1},key:function(t){return this.KEYS[t.which]},colon:function(t){var e=t.which;return e&&":"==String.fromCharCode(e)},printable:function(t){var e=t.which;if("keydown"==t.type){if(32==e||e>=48&&90>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e)return!0}else if(e>=32&&126>=e||e>=160&&500>=e||":"==String.fromCharCode(e))return!0;return!1}}}(),function(){jQuery;VS.utils.inflector={trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},escapeRegExp:function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")}}}(),function(){var t=jQuery;t.fn.extend({setMode:function(t,e){e=e||"mode";var i=new RegExp("\\w+_"+e+"(\\s|$)","g"),n=null===t?"":t+"_"+e;return this.each(function(){this.className=(this.className.replace(i,"")+" "+n).replace(/\s\s/g," ")}),n},autoGrowInput:function(){return this.each(function(){var e=t(this),i=t("<div />").css({opacity:0,top:-9999,left:-9999,position:"absolute",whiteSpace:"nowrap"}).addClass("VS-input-width-tester").addClass("VS-interface"),n="keydown.autogrow keypress.autogrow resize.autogrow change.autogrow";e.next(".VS-input-width-tester").remove(),e.after(i),e.unbind(n).bind(n,function(t,n){n&&(t=n);var r=e.val();if("backspace"==VS.app.hotkeys.key(t)){var s=e.getCursorPosition();s>0&&(r=r.slice(0,s-1)+r.slice(s,r.length))}else VS.app.hotkeys.printable(t)&&!VS.app.hotkeys.command&&(r+=String.fromCharCode(t.which));r=r.replace(/&/g,"&amp;").replace(/\s/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.html(r),e.width(i.width()+3+parseInt(e.css("min-width"))),e.trigger("updated.autogrow")}),e.trigger("resize.autogrow")})},getCursorPosition:function(){var e=0,i=this.get(0);if(document.selection){i.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-i.value.length),e=n.text.length-r}else i&&t(i).is(":visible")&&null!=i.selectionStart&&(e=i.selectionStart);return e},setCursorPosition:function(e){return this.each(function(){return t(this).selectRange(e,e)})},selectRange:function(t,e){return this.filter(":visible").each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(t,e);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),e-t>=0&&i.select()}})},getSelection:function(){var t=this[0];if(null!=t.selectionStart){var e=t.selectionStart,i=t.selectionEnd;return{start:e,end:i,length:i-e,text:t.value.substr(e,i-e)}}if(document.selection){var n=document.selection.createRange();if(n){var r=t.createTextRange(),s=r.duplicate();r.moveToBookmark(n.getBookmark()),s.setEndPoint("EndToStart",r);var e=s.text.length,i=e+n.text.length;return{start:e,end:i,length:i-e,text:n.text}}}return{start:0,end:0,length:0}}})}(),function(){var t=(jQuery,"('[^']+'|\"[^\"]+\")"),e="('[^']+'|\"[^\"]+\"|[^'\"\\s]\\S*)",i=e+":\\s*";VS.app.SearchParser={ALL_FIELDS:new RegExp(i+e,"g"),CATEGORY:new RegExp(i),parse:function(t,e){var i=this._extractAllFacets(t,e);return t.searchQuery.reset(i),i},_extractAllFacets:function(t,e){for(var i=[],n=e;e;){var r,s;n=e;var a=this._extractNextField(e);if(a?-1!=a.indexOf(":")?(r=a.match(this.CATEGORY)[1].replace(/(^['"]|['"]$)/g,""),s=a.replace(this.CATEGORY,"").replace(/(^['"]|['"]$)/g,""),e=VS.utils.inflector.trim(e.replace(a,""))):-1==a.indexOf(":")&&(r=t.options.remainder,s=a,e=VS.utils.inflector.trim(e.replace(s,""))):(r=t.options.remainder,s=this._extractSearchText(e),e=VS.utils.inflector.trim(e.replace(s,""))),r&&s){var o=new VS.model.SearchFacet({category:r,value:VS.utils.inflector.trim(s),app:t});i.push(o)}if(n==e)break}return i},_extractNextField:function(i){var n=new RegExp("^\\s*(\\S+)\\s+(?="+t+e+")"),r=i.match(n);return r&&r.length>=1?r[1]:this._extractFirstField(i)},_extractFirstField:function(t){var e=t.match(this.ALL_FIELDS);return e&&e.length&&e[0]},_extractSearchText:function(t){t=t||"";var e=VS.utils.inflector.trim(t.replace(this.ALL_FIELDS,""));return e}}}(),function(){jQuery;VS.model.SearchFacet=Backbone.Model.extend({serialize:function(){var t=this.quoteCategory(this.get("category")),e=VS.utils.inflector.trim(this.get("value")),i=this.get("app").options.remainder;return e?(_.contains(this.get("app").options.unquotable||[],t)||t==i||(e=this.quoteValue(e)),t!=i?t+=": ":t="",t+e):""},quoteCategory:function(t){var e=/"/.test(t),i=/'/.test(t),n=/\s/.test(t);return e&&!i?"'"+t+"'":n||i&&!e?'"'+t+'"':t},quoteValue:function(t){var e=/"/.test(t),i=/'/.test(t);return e&&!i?"'"+t+"'":'"'+t+'"'},label:function(){return this.get("label")||this.get("value")}})}(),function(){jQuery;VS.model.SearchQuery=Backbone.Collection.extend({model:VS.model.SearchFacet,serialize:function(){return this.map(function(t){return t.serialize()}).join(" ")},facets:function(){return this.map(function(t){var e={};return e[t.get("category")]=t.get("value"),e})},find:function(t){var e=this.detect(function(e){return e.get("category").toLowerCase()==t.toLowerCase()});return e&&e.get("value")},count:function(t){return this.select(function(e){return e.get("category").toLowerCase()==t.toLowerCase()}).length},values:function(t){var e=this.select(function(e){return e.get("category").toLowerCase()==t.toLowerCase()});return _.map(e,function(t){return t.get("value")})},has:function(t,e){return this.any(function(i){var n=i.get("category").toLowerCase()==t.toLowerCase();return e?n&&i.get("value")==e:n})},withoutCategory:function(){var t=_.map(_.toArray(arguments),function(t){return t.toLowerCase()});return this.map(function(e){return _.include(t,e.get("category").toLowerCase())?void 0:e.serialize()}).join(" ")}})}(),function(){window.JST=window.JST||{},window.JST.search_box=_.template('<div class="VS-search">\n  <div class="VS-search-box-wrapper VS-search-box">\n    <div class="VS-icon VS-icon-search"></div>\n    <div class="VS-placeholder"></div>\n    <div class="VS-search-inner"></div>\n    <div class="VS-icon VS-icon-cancel VS-cancel-search-box" title="clear search"></div>\n  </div>\n</div>'),window.JST.search_facet=_.template('<% if (model.has(\'category\')) { %>\n  <div class="category"><%= model.get(\'category\') %>:</div>\n<% } %>\n\n<div class="search_facet_input_container">\n  <input type="text" class="search_facet_input ui-menu VS-interface" value="" />\n</div>\n\n<div class="search_facet_remove VS-icon VS-icon-cancel"></div>'),window.JST.search_input=_.template('<input type="text" class="ui-menu" />')}();var visualViewportPolyfill=function(t){function e(){if(!a._bugHerd.viewPolyfill.iframeDummy){var t=o.createElement("iframe");t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.left="0px",t.style.top="0px",t.style.border="0",t.style.visibility="hidden",t.style.zIndex=-2147483647,t.style.pointerEvents="none",t.srcdoc="<!DOCTYPE html><html><body style='margin:0px; padding:0px'></body></html>",o.body.appendChild(t),a._bugHerd.viewPolyfill.iframeDummy=t}var t=a._bugHerd.viewPolyfill.iframeDummy,e=o.documentElement.getBoundingClientRect(),i=t.contentDocument.body;i.style.width=e.width+"px",i.style.height=e.height+"px";var n=o.documentElement.style.overflow;o.documentElement.style.overflow="hidden";var r=a._bugHerd.viewPolyfill.iframeDummy.contentWindow;a._bugHerd.viewPolyfill.unscaledInnerWidth=r.innerWidth,a._bugHerd.viewPolyfill.unscaledInnerHeight=r.innerHeight,o.documentElement.style.overflow=n}function i(){for(var t=a._bugHerd.viewPolyfill.scrollEventListeners,e=0;e<t.length;e++)t[e]()}function n(){for(var t=a._bugHerd.viewPolyfill.resizeEventListeners,e=0;e<t.length;e++)t[e]()}function r(){var t=a._bugHerd.visualViewport,e=a._bugHerd.viewPolyfill.offsetLeftSinceLastChange!=t.offsetLeft||a._bugHerd.viewPolyfill.offsetTopSinceLastChange!=t.offsetTop,s=a._bugHerd.viewPolyfill.widthSinceLastChange!=t.width||a._bugHerd.viewPolyfill.heightSinceLastChange!=t.height||a._bugHerd.viewPolyfill.scaleSinceLastChange!=t.scale;a._bugHerd.viewPolyfill.offsetLeftSinceLastChange=t.offsetLeft,a._bugHerd.viewPolyfill.offsetTopSinceLastChange=t.offsetTop,
a._bugHerd.viewPolyfill.widthSinceLastChange=t.width,a._bugHerd.viewPolyfill.heightSinceLastChange=t.height,a._bugHerd.viewPolyfill.scaleSinceLastChange=t.scale,e&&i(),s&&n(),setTimeout(r,500)}function s(){a.addEventListener("scroll",r,{passive:!0}),a.addEventListener("resize",r,{passive:!0}),a.addEventListener("resize",e,{passive:!0})}var a=t.parentPage.$window[0],o=t.parentPage.$document[0],c=navigator.userAgent.indexOf("Chrome")>-1,h=navigator.userAgent.indexOf("Firefox")>-1,l=navigator.userAgent.indexOf("Safari")>-1,u=navigator.userAgent.indexOf("Edge")>-1,d=!!window.MSInputMethodContext&&!!document.documentMode,p=!!t.parentPage.$window[0].navigator.userAgent.match(/iPad/i)||!!t.parentPage.$window[0].navigator.userAgent.match(/iPhone/i);if(c&&l&&(l=!1),a.visualViewport)a._bugHerd.visualViewport=a.visualViewport;else{var f=o.createElement("div");f.style.width="100%",f.style.height="100%",l||h||d?f.style.position="fixed":f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.visibility="hidden",f.style.zIndex=-2147483647,f.style.pointerEvents="none",a._bugHerd.viewPolyfill={offsetLeftSinceLastChange:null,offsetTopSinceLastChange:null,widthSinceLastChange:null,heightSinceLastChange:null,scaleSinceLastChange:null,scrollEventListeners:[],resizeEventListeners:[],layoutDummy:f,iframeDummy:null,unscaledInnerWidth:0,unscaledInnerHeight:0},s();var g=function(){e(),o.body.appendChild(f);var i={get offsetLeft(){return l||h||d?Math.abs(f.getBoundingClientRect().left):(a.scrollX||a.pageXOffset)+f.getBoundingClientRect().left},get offsetTop(){return l||h||d?Math.abs(f.getBoundingClientRect().top):(a.scrollY||a.pageYOffset)+f.getBoundingClientRect().top},get width(){var t=f.getBoundingClientRect().width;if(p&&l)return a.innerWidth;if(u&&o.documentElement.clientWidth==a._bugHerd.viewPolyfill.unscaledInnerWidth&&this.scale>1){var e=o.documentElement.clientWidth,i=f.style.height;f.style.height="200%";var n=e-o.documentElement.clientWidth;f.style.width=i,t-=n}return t/this.scale},get height(){var t=f.getBoundingClientRect().height;if(p&&l)return a.innerHeight;if(u&&o.documentElement.clientHeight==a._bugHerd.viewPolyfill.unscaledInnerHeight&&this.scale>1){var e=o.documentElement.clientHeight,i=f.style.width;f.style.width="200%";var n=e-o.documentElement.clientHeight;f.style.width=i,t-=n}return t/this.scale},get scale(){if(p&&l||u)return a._bugHerd.viewPolyfill.unscaledInnerWidth/a.innerWidth;if(l){var t="CSS1Compat"===o.compatMode?o.documentElement:o.body;return a._bugHerd.viewPolyfill.unscaledInnerWidth/t.clientWidth}return a._bugHerd.viewPolyfill.unscaledInnerWidth/a.innerWidth},get pageLeft(){return a.scrollX||a.pageXOffset},get pageTop(){return a.scrollY||a.pageYOffset},addEventListener:function(t,e){"scroll"===t?a._bugHerd.viewPolyfill.scrollEventListeners.push(e):"resize"===t&&a._bugHerd.viewPolyfill.resizeEventListeners.push(e)}};t.parentPage.$window[0]._bugHerd.visualViewport=i};"complete"===o.readyState?g():a.addEventListener("load",function(){g()})}};!function(t){function e(e){var i=e||window.event,n=[].slice.call(arguments,1),r=0,s=0,a=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),a=r,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,s=-1*r),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(s=-1*i.wheelDeltaX/120),n.unshift(e,r,s,a),(t.event.dispatch||t.event.handle).apply(this,n)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var n=i.length;n;)t.event.fixHooks[i[--n]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(t,e,i,n){t.fn.quicksearch=function(i,n){var r,s,a,o,c="",h=this,l=t.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",matchedResultsCount:0,bind:"keyup",onBefore:function(){},onAfter:function(){},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(t){return t.toLowerCase().split(" ")},testQuery:function(t,e,i){for(var n=0;n<t.length;n+=1)if(-1===e.indexOf(t[n]))return!1;return!0}},n);return this.go=function(){for(var t=0,e=0,i=!0,n=l.prepareQuery(c),r=0===c.replace(" ","").length,t=0,o=a.length;o>t;t++)r||l.testQuery(n,s[t],a[t])?(l.show.apply(a[t]),i=!1,e++):l.hide.apply(a[t]);return i?this.results(!1):(this.results(!0),this.stripe()),this.matchedResultsCount=e,this.loader(!1),l.onAfter(),this},this.search=function(t){c=t,h.trigger()},this.currentMatchedResults=function(){return this.matchedResultsCount},this.stripe=function(){if("object"==typeof l.stripeRows&&null!==l.stripeRows){var e=l.stripeRows.join(" "),i=l.stripeRows.length;o.not(":hidden").each(function(n){t(this).removeClass(e).addClass(l.stripeRows[n%i])})}return this},this.strip_html=function(e){var i=e.replace(new RegExp("<[^<]+>","g"),"");return i=t.trim(i.toLowerCase())},this.results=function(e){return"string"==typeof l.noResults&&""!==l.noResults&&(e?t(l.noResults).hide():t(l.noResults).show()),this},this.loader=function(e){return"string"==typeof l.loader&&""!==l.loader&&(e?t(l.loader).show():t(l.loader).hide()),this},this.cache=function(){o=t(i),"string"==typeof l.noResults&&""!==l.noResults&&(o=o.not(l.noResults));var e="string"==typeof l.selector?o.find(l.selector):t(i).not(l.noResults);return s=e.map(function(){return h.strip_html(this.innerHTML)}),a=o.map(function(){return this}),c=c||this.val()||"",this.go()},this.trigger=function(){return this.loader(!0),l.onBefore(),e.clearTimeout(r),r=e.setTimeout(function(){h.go()},l.delay),this},this.cache(),this.results(!0),this.stripe(),this.loader(!1),this.each(function(){t(this).on(l.bind,function(){c=t(this).val(),h.trigger()})})}}(jQuery,this,document),function(t,e){var i,n,r;i=n=t.jQuery,r=n.ScrollTo=n.ScrollTo||{config:{duration:400,easing:"swing",callback:e,durationMode:"each",offsetTop:0,offsetLeft:0},configure:function(t){return n.extend(r.config,t||{}),this},scroll:function(t,e){var i,s,a,o,c,h,l,u,d,p,f,g,m,v,y,b,w,_;return i=t.pop(),s=i.$container,a=s.get(0),o=i.$target,c=n("<span/>").css({position:"absolute",top:"0px",left:"0px"}),h=s.css("position"),s.css("position","relative"),c.appendTo(s),f=c.offset().top,g=o.offset().top,m=g-f-parseInt(e.offsetTop,10),v=c.offset().left,y=o.offset().left,b=y-v-parseInt(e.offsetLeft,10),l=a.scrollTop,u=a.scrollLeft,c.remove(),s.css("position",h),_=function(i){return 0===t.length?"function"==typeof e.callback&&e.callback.apply(this,[i]):r.scroll(t,e),!0},e.onlyIfOutside&&(d=l+s.height(),p=u+s.width(),m>l&&d>m&&(m=l),b>u&&p>b&&(b=u)),w={},m!==l&&(w.scrollTop=m+"px"),b!==u&&(w.scrollLeft=b+"px"),w.scrollTop||w.scrollLeft?s.animate(w,e.duration,e.easing,_):_(),!0},fn:function(t){var e,i,s,a;e=[];var o=n(this);if(0===o.length)return this;for(i=n.extend({},r.config,t),s=o.parent(),a=s.get(0);1===s.length&&a!==document.body&&a!==document;){var c,h;c="visible"!==s.css("overflow-y")&&a.scrollHeight!==a.clientHeight,h="visible"!==s.css("overflow-x")&&a.scrollWidth!==a.clientWidth,(c||h)&&(e.push({$container:s,$target:o}),o=s),s=s.parent(),a=s.get(0)}return e.push({$container:n(n.browser.msie||n.browser.mozilla?"html":"body"),$target:o}),"all"===i.durationMode&&(i.duration/=e.length),r.scroll(e,i),this}},n.fn.ScrollTo=n.ScrollTo.fn}(window),function(t){function e(){var e=i(this);return isNaN(e.datetime)||t(this).text(n(e.datetime)),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:s.datetime(e)});var i=t.trim(e.text());i.length>0&&e.attr("title",i)}return e.data("timeago")}function n(t){return s.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return n(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):t.timeago.datetime(e))};var s=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"seconds",minute:"1 min",minutes:"%d mins",hour:"1 hr",hours:"%d hrs",day:"1 day",days:"%d days",month:"1 month",months:"%d months",year:"1 year",years:"%d years",numbers:[]}},inWords:function(e){function i(i,r){var s=t.isFunction(i)?i(r,e):i,a=n.numbers&&n.numbers[r]||r;return s.replace(/%d/i,a)}var n=this.settings.strings,r=n.prefixAgo,s=n.suffixAgo;this.settings.allowFuture&&(0>e&&(r=n.prefixFromNow,s=n.suffixFromNow),e=Math.abs(e));var a=e/1e3,o=a/60,c=o/60,h=c/24,l=h/365,u=45>a&&i(n.seconds,Math.round(a))||90>a&&i(n.minute,1)||45>o&&i(n.minutes,Math.round(o))||90>o&&i(n.hour,1)||24>c&&i(n.hours,Math.round(c))||48>c&&i(n.day,1)||30>h&&i(n.days,Math.floor(h))||60>h&&i(n.month,1)||365>h&&i(n.months,Math.floor(h/30))||2>l&&i(n.year,1)||i(n.years,Math.floor(l));return t.trim([r,u,s].join(" "))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d\d\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(i)},datetime:function(e){var i="time"===t(e).get(0).tagName.toLowerCase(),n=i?t(e).attr("datetime"):t(e).attr("title");return s.parse(n)}}),t.fn.timeago=function(){var t=this;t.each(e);var i=s.settings;return i.refreshMillis>0&&setInterval(function(){t.each(e)},i.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}(jQuery),function(t,e){"use strict";var i=(t.jQuery,t.$),n=2147483647;i.fn.topZIndex=function(){var e=i(this);if(0===e.length)return e;e.each(function(){i(this).css("z-index",n-2)});var r=i(".bhFader",t.parent.document);r.length&&r.css("z-index",n-1);var s=i("#_BH_frame",t.parent.document);return s.length&&s.css("z-index",n),e}}(window);var JSON;JSON||(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,r,s,a,o=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(s=c.length,i=0;s>i;i+=1)a[i]=str(i,c)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+o+"]":"["+a.join(",")+"]",gap=o,r}if(rep&&"object"==typeof rep)for(s=rep.length,i=0;s>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],r=str(n,c),r&&a.push(quote(n)+(gap?": ":":")+r));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(r=str(n,c),r&&a.push(quote(n)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+o+"}":"{"+a.join(",")+"}",gap=o,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,r=t[e];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){function t(i,n){var r=this;this.options=n||{},this.key=i,this.channels=new t.Channels,this.global_emitter=new t.EventsDispatcher,this.sessionID=Math.floor(1e9*Math.random()),e(this.key);var s=function(e){return t.StrategyBuilder.build(t.getDefaultStrategy(),t.Util.extend({},r.options,e))},a=function(){return new t.Timeline(r.key,r.sessionID,{features:t.Util.getClientFeatures(),params:r.options.timelineParams||{},limit:25,level:t.Timeline.INFO,version:t.VERSION})},o=function(e,i){return r.options.disableStats?null:new t.TimelineSender(e,{encrypted:r.isEncrypted()||!!i.encrypted,host:t.stats_host,path:"/timeline"})};this.connection=new t.ConnectionManager(this.key,t.Util.extend({getStrategy:s,getTimeline:a,getTimelineSender:o,activityTimeout:t.activity_timeout,pongTimeout:t.pong_timeout,unavailableTimeout:t.unavailable_timeout},this.options,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){r.subscribeAll()}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var i=r.channel(t.channel);i&&i.emit(t.event,t.data)}e||r.global_emitter.emit(t.event,t.data)}),this.connection.bind("disconnected",function(){r.channels.disconnect()}),this.connection.bind("error",function(e){t.warn("Error",e)}),t.instances.push(this),t.isReady&&r.connect()}function e(e){(null===e||void 0===e)&&t.warn("Warning","You must pass your app key when you instantiate Pusher.")}var i=t.prototype;t.instances=[],t.isReady=!1,t.debug=function(){t.log&&t.log(t.Util.stringify.apply(this,arguments))},t.warn=function(){if(window.console&&window.console.warn)window.console.warn(t.Util.stringify.apply(this,arguments));else{if(!t.log)return;t.log(t.Util.stringify.apply(this,arguments))}},t.ready=function(){t.isReady=!0;for(var e=0,i=t.instances.length;i>e;e++)t.instances[e].connect()},i.channel=function(t){return this.channels.find(t)},i.connect=function(){this.connection.connect()},i.disconnect=function(){this.connection.disconnect()},i.bind=function(t,e){return this.global_emitter.bind(t,e),this},i.bind_all=function(t){return this.global_emitter.bind_all(t),this},i.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},i.subscribe=function(t){var e=this,i=this.channels.add(t,this);return"connected"===this.connection.state&&i.authorize(this.connection.socket_id,this.options,function(n,r){n?i.emit("pusher:subscription_error",r):e.send_event("pusher:subscribe",{channel:t,auth:r.auth,channel_data:r.channel_data})}),i},i.unsubscribe=function(t){this.channels.remove(t),"connected"===this.connection.state&&this.send_event("pusher:unsubscribe",{channel:t})},i.send_event=function(t,e,i){return this.connection.send_event(t,e,i)},i.isEncrypted=function(){return"https:"===t.Util.getDocumentLocation().protocol?!0:!!this.options.encrypted},this.Pusher=t}.call(this),function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},extend:function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)i[n]&&i[n].constructor&&i[n].constructor===Object?t[n]=Pusher.Util.extend(t[n]||{},i[n]):t[n]=i[n]}return t},stringify:function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):void 0===window.JSON?t.push(arguments[e].toString()):t.push(JSON.stringify(arguments[e]));return t.join(" : ")},arrayIndexOf:function(t,e){var i=Array.prototype.indexOf;if(null===t)return-1;if(i&&t.indexOf===i)return t.indexOf(e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},keys:function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e},apply:function(t,e){for(var i=0;i<t.length;i++)e(t[i],i,t)},objectApply:function(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)},map:function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n,t,i));return i},mapObject:function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=e(t[n]));return i},filter:function(t,e){e=e||function(t){return!!t};for(var i=[],n=0;n<t.length;n++)e(t[n],n,t,i)&&i.push(t[n]);return i},filterObject:function(t,e){e=e||function(t){return!!t};var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t,i)&&(i[n]=t[n]);return i},flatten:function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push([i,t[i]]);return e},any:function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return!0;return!1},all:function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i,t))return!1;return!0},method:function(t){var e=Array.prototype.slice.call(arguments,1);return function(i){return i[t].apply(i,e.concat(arguments))}},getDocument:function(){return document},getDocumentLocation:function(){return Pusher.Util.getDocument().location},getLocalStorage:function(){return window.localStorage},getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport,flash:Pusher.FlashTransport},function(t){return t.isSupported()}))}}}.call(this),function(){Pusher.VERSION="2.0.4",Pusher.PROTOCOL=6,Pusher.host="ws.pusherapp.com",Pusher.ws_port=80,Pusher.wss_port=443,Pusher.sockjs_host="sockjs.pusher.com",Pusher.sockjs_http_port=80,Pusher.sockjs_https_port=443,Pusher.sockjs_path="/pusher",Pusher.stats_host="stats.pusher.com",Pusher.channel_auth_endpoint="/pusher/auth",Pusher.cdn_http="http://js.pusher.com/",Pusher.cdn_https="https://d3dy5gmtp8yhk7.cloudfront.net/",Pusher.dependency_suffix="",Pusher.channel_auth_transport="ajax",Pusher.activity_timeout=12e4,Pusher.pong_timeout=3e4,Pusher.unavailable_timeout=1e4,Pusher.getDefaultStrategy=function(){return[[":def","ws_options",{hostUnencrypted:Pusher.host+":"+Pusher.ws_port,hostEncrypted:Pusher.host+":"+Pusher.wss_port}],[":def","sockjs_options",{hostUnencrypted:Pusher.sockjs_host+":"+Pusher.sockjs_http_port,hostEncrypted:Pusher.sockjs_host+":"+Pusher.sockjs_https_port}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","flash","flash",2,":ws_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","flash_loop",[":sequential",":timeouts",":flash"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],[":best_connected_ever",":ws_loop",[":delayed",2e3,[":sockjs_loop"]]],[":if",[":is_supported",":flash"],[":best_connected_ever",":flash_loop",[":delayed",2e3,[":sockjs_loop"]]],[":sockjs_loop"]]]]]]]}}.call(this),function(){function t(t){var e=function(e){Error.call(this,e),this.name=t};return Pusher.Util.extend(e.prototype,Error.prototype),e}Pusher.Errors={UnsupportedTransport:t("UnsupportedTransport"),UnsupportedStrategy:t("UnsupportedStrategy"),TransportPriorityTooLow:t("TransportPriorityTooLow"),TransportClosed:t("TransportClosed")}}.call(this),function(){function t(t){this.callbacks=new e,this.global_callbacks=[],this.failThrough=t}function e(){this._callbacks={}}var i=t.prototype;i.bind=function(t,e){return this.callbacks.add(t,e),this},i.bind_all=function(t){return this.global_callbacks.push(t),this},i.unbind=function(t,e){return this.callbacks.remove(t,e),this},i.emit=function(t,e){var i;for(i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](t,e);var n=this.callbacks.get(t);if(n&&n.length>0)for(i=0;i<n.length;i++)n[i](e);else this.failThrough&&this.failThrough(t,e);return this},e.prototype.get=function(t){return this._callbacks[this._prefix(t)]},e.prototype.add=function(t,e){var i=this._prefix(t);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push(e)},e.prototype.remove=function(t,e){if(this.get(t)){var i=Pusher.Util.arrayIndexOf(this.get(t),e);if(-1!==i){var n=this._callbacks[this._prefix(t)].slice(0);n.splice(i,1),this._callbacks[this._prefix(t)]=n}}},e.prototype._prefix=function(t){return"_"+t},Pusher.EventsDispatcher=t}.call(this),function(){function t(t){this.options=t,this.loading={},this.loaded={}}function e(t,e){Pusher.Util.getDocument().addEventListener?t.addEventListener("load",e,!1):t.attachEvent("onreadystatechange",function(){("loaded"===t.readyState||"complete"===t.readyState)&&e()})}function i(t,i){var n=Pusher.Util.getDocument(),r=n.getElementsByTagName("head")[0],s=n.createElement("script");s.setAttribute("src",t),s.setAttribute("type","text/javascript"),s.setAttribute("async",!0),e(s,function(){setTimeout(i,0)}),r.appendChild(s)}var n=t.prototype;n.load=function(t,e){var n=this;return this.loaded[t]?void e():(this.loading[t]||(this.loading[t]=[]),this.loading[t].push(e),void(this.loading[t].length>1||i(this.getPath(t),function(){for(var e=0;e<n.loading[t].length;e++)n.loading[t][e]();delete n.loading[t],n.loaded[t]=!0})))},n.getRoot=function(t){var e,i=Pusher.Util.getDocumentLocation().protocol;return e=t&&t.encrypted||"https:"===i?this.options.cdn_https:this.options.cdn_http,e.replace(/\/*$/,"")+"/"+this.options.version},n.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},Pusher.DependencyLoader=t}.call(this),function(){function t(){Pusher.ready()}function e(t){document.body?t():setTimeout(function(){e(t)},0)}function i(){e(t)}Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix}),!window.WebSocket&&window.MozWebSocket&&(window.WebSocket=window.MozWebSocket),window.JSON?i():Pusher.Dependencies.load("json2",i)}(),function(){function t(t,e){var i=this;this.timeout=setTimeout(function(){null!==i.timeout&&(e(),i.timeout=null)},t)}var e=t.prototype;e.isRunning=function(){return null!==this.timeout},e.ensureAborted=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},Pusher.Timer=t}.call(this),function(){for(var t={encode:function(t){return h(o(t))}},e=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={},r=0,s=i.length;s>r;r++)n[i.charAt(r)]=r;var a=function(t){var i=t.charCodeAt(0);return 128>i?t:2048>i?e(192|i>>>6)+e(128|63&i):e(224|i>>>12&15)+e(128|i>>>6&63)+e(128|63&i)},o=function(t){return t.replace(/[^\x00-\x7F]/g,a)},c=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),r=[i.charAt(n>>>18),i.charAt(n>>>12&63),e>=2?"=":i.charAt(n>>>6&63),e>=1?"=":i.charAt(63&n)];return r.join("")},h=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,c)};Pusher.Base64=t}.call(this),function(){function t(t){this.options=t}function e(t){return Pusher.Util.mapObject(t,function(t){return"object"==typeof t&&(t=JSON.stringify(t)),encodeURIComponent(Pusher.Base64.encode(t.toString()))})}t.send=function(t,e){var i=new Pusher.JSONPRequest({url:t.url,receiver:t.receiverName,tagPrefix:t.tagPrefix}),n=t.receiver.register(function(t,n){i.cleanup(),e(t,n)});return i.send(n,t.data,function(e){var i=t.receiver.unregister(n);i&&i(e)})};var i=t.prototype;i.send=function(t,i,n){if(this.script)return!1;var r=this.options.tagPrefix||"_pusher_jsonp_",s=Pusher.Util.extend({},i,{receiver:this.options.receiver}),a=Pusher.Util.map(Pusher.Util.flatten(e(Pusher.Util.filterObject(s,function(t){return void 0!==t}))),Pusher.Util.method("join","=")).join("&");if(this.script=document.createElement("script"),this.script.id=r+t,this.script.src=this.options.url+"/"+t+"?"+a,this.script.type="text/javascript",this.script.charset="UTF-8",this.script.onerror=this.script.onload=n,void 0===this.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)){var o=this.options.receiver||"Pusher.JSONP.receive";this.errorScript=document.createElement("script"),this.errorScript.text=o+"("+t+", true);",this.script.async=this.errorScript.async=!1}var c=this;this.script.onreadystatechange=function(){c.script&&/loaded|complete/.test(c.script.readyState)&&n(!0)};var h=document.getElementsByTagName("head")[0];return h.insertBefore(this.script,h.firstChild),this.errorScript&&h.insertBefore(this.errorScript,this.script.nextSibling),!0},i.cleanup=function(){this.script&&this.script.parentNode&&(this.script.parentNode.removeChild(this.script),this.script=null),this.errorScript&&this.errorScript.parentNode&&(this.errorScript.parentNode.removeChild(this.errorScript),this.errorScript=null)},Pusher.JSONPRequest=t}.call(this),function(){function t(){this.lastId=0,this.callbacks={}}var e=t.prototype;e.register=function(t){this.lastId++;var e=this.lastId;return this.callbacks[e]=t,e},e.unregister=function(t){if(this.callbacks[t]){var e=this.callbacks[t];return delete this.callbacks[t],e}return null},e.receive=function(t,e,i){var n=this.unregister(t);n&&n(e,i)},Pusher.JSONPReceiver=t,Pusher.JSONP=new t}.call(this),function(){function t(t,e,i){this.key=t,this.session=e,this.events=[],this.options=i||{},this.sent=0,this.uniqueID=0}var e=t.prototype;t.ERROR=3,t.INFO=6,t.DEBUG=7,e.log=function(t,e){(void 0===this.options.level||t<=this.options.level)&&(this.events.push(Pusher.Util.extend({},e,{timestamp:Pusher.Util.now(),level:t})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.error=function(e){this.log(t.ERROR,e)},e.info=function(e){this.log(t.INFO,e)},e.debug=function(e){this.log(t.DEBUG,e)},e.isEmpty=function(){return 0===this.events.length},e.send=function(t,e){var i=this,n={};return 0===this.sent&&(n=Pusher.Util.extend({key:this.key,features:this.options.features,version:this.options.version},this.options.params||{})),n.session=this.session,n.timeline=this.events,n=Pusher.Util.filterObject(n,function(t){return void 0!==t}),this.events=[],t(n,function(t,n){t||i.sent++,e(t,n)}),!0},e.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Pusher.Timeline=t}.call(this),function(){function t(t,e){this.timeline=t,this.options=e||{}}var e=t.prototype;e.send=function(t){if(!this.timeline.isEmpty()){var e=this.options,i="http"+(this.isEncrypted()?"s":"")+"://",n=function(t,n){return Pusher.JSONPRequest.send({data:t,url:i+e.host+e.path,receiver:Pusher.JSONP},n)};this.timeline.send(n,t)}},e.isEncrypted=function(){return!!this.options.encrypted},Pusher.TimelineSender=t}.call(this),function(){function t(t){this.strategies=t}function e(t,e,i){var r=Pusher.Util.map(t,function(t,n,r,s){return t.connect(e,i(n,s))});return{abort:function(){Pusher.Util.apply(r,n)},forceMinPriority:function(t){Pusher.Util.apply(r,function(e){e.forceMinPriority(t)})}}}function i(t){return Pusher.Util.all(t,function(t){return Boolean(t.error)})}function n(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var r=t.prototype;r.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},r.connect=function(t,n){return e(this.strategies,t,function(t,e){return function(r,s){return e[t].error=r,r?void(i(e)&&n(!0)):(Pusher.Util.apply(e,function(t){t.forceMinPriority(s.transport.priority)}),void n(null,s))}})},Pusher.BestConnectedEverStrategy=t}.call(this),function(){function t(t,e,i){this.strategy=t,this.transports=e,this.ttl=i.ttl||18e5,this.timeline=i.timeline}function e(){var t=Pusher.Util.getLocalStorage();if(t){var e=t.pusherTransport;if(e)return JSON.parse(t.pusherTransport)}return null}function i(t,e){var i=Pusher.Util.getLocalStorage();if(i)try{i.pusherTransport=JSON.stringify({timestamp:Pusher.Util.now(),transport:t,latency:e})}catch(n){}}function n(){var t=Pusher.Util.getLocalStorage();t&&t.pusherTransport&&delete t.pusherTransport}var r=t.prototype;r.isSupported=function(){return this.strategy.isSupported()},r.connect=function(t,r){var s=e(),a=[this.strategy];if(s&&s.timestamp+this.ttl>=Pusher.Util.now()){var o=this.transports[s.transport];o&&(this.timeline.info({cached:!0,transport:s.transport}),a.push(new Pusher.SequentialStrategy([o],{timeout:2*s.latency,failFast:!0})))}var c=Pusher.Util.now(),h=a.pop().connect(t,function l(e,s){if(e)n(),a.length>0?(c=Pusher.Util.now(),h=a.pop().connect(t,l)):r(e);else{var o=Pusher.Util.now()-c;i(s.transport.name,o),r(null,s)}});return{abort:function(){h.abort()},forceMinPriority:function(e){t=e,h&&h.forceMinPriority(e)}}},Pusher.CachedStrategy=t}.call(this),function(){function t(t,e){this.strategy=t,this.options={delay:e.delay}}var e=t.prototype;e.isSupported=function(){return this.strategy.isSupported()},e.connect=function(t,e){var i,n=this.strategy,r=new Pusher.Timer(this.options.delay,function(){i=n.connect(t,e)});return{abort:function(){r.ensureAborted(),i&&i.abort()},forceMinPriority:function(e){t=e,i&&i.forceMinPriority(e)}}},Pusher.DelayedStrategy=t}.call(this),function(){function t(t){this.strategy=t}var e=t.prototype;e.isSupported=function(){return this.strategy.isSupported()},e.connect=function(t,e){var i=this.strategy.connect(t,function(t,n){n&&i.abort(),e(t,n)});return i},Pusher.FirstConnectedStrategy=t}.call(this),function(){function t(t,e,i){this.test=t,this.trueBranch=e,this.falseBranch=i}var e=t.prototype;e.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()},e.connect=function(t,e){var i=this.test()?this.trueBranch:this.falseBranch;return i.connect(t,e)},Pusher.IfStrategy=t}.call(this),function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}var e=t.prototype;e.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},e.connect=function(t,e){var i=this,n=this.strategies,r=0,s=this.timeout,a=null,o=function(c,h){h?e(null,h):(r+=1,i.loop&&(r%=n.length),r<n.length?(s&&(s=2*s,i.timeoutLimit&&(s=Math.min(s,i.timeoutLimit))),a=i.tryStrategy(n[r],t,{timeout:s,failFast:i.failFast},o)):e(!0))};return a=this.tryStrategy(n[r],t,{timeout:s,failFast:this.failFast},o),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},e.tryStrategy=function(t,e,i,n){var r=null,s=null;return s=t.connect(e,function(t,e){t&&r&&r.isRunning()&&!i.failFast||(r&&r.ensureAborted(),n(t,e))}),i.timeout>0&&(r=new Pusher.Timer(i.timeout,function(){s.abort(),n(!0)})),{abort:function(){r&&r.ensureAborted(),s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}},Pusher.SequentialStrategy=t}.call(this),function(){function t(t,e,i,n){this.name=t,this.priority=e,this.transport=i,this.options=n||{}}function e(t,e){return new Pusher.Timer(0,function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var i=t.prototype;i.isSupported=function(){return this.transport.isSupported({disableFlash:!!this.options.disableFlash})},i.connect=function(t,i){if(!this.transport.isSupported())return e(new Pusher.Errors.UnsupportedStrategy,i);if(this.priority<t)return e(new Pusher.Errors.TransportPriorityTooLow,i);var n=this,r=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),a=function(){s.unbind("initialized",a),s.connect()},o=function(){new Pusher.Handshake(s,function(t){r=!0,l(),i(null,t)})},c=function(t){l(),i(t)},h=function(){l(),i(new Pusher.Errors.TransportClosed(s))},l=function(){s.unbind("initialized",a),s.unbind("open",o),s.unbind("error",c),s.unbind("closed",h)};return s.bind("initialized",a),s.bind("open",o),s.bind("error",c),s.bind("closed",h),s.initialize(),{abort:function(){r||(l(),s.close())},forceMinPriority:function(t){r||n.priority<t&&s.close()}}},Pusher.TransportStrategy=t}.call(this),function(){function t(t,e,i,n){Pusher.EventsDispatcher.call(this),this.name=t,this.priority=e,this.key=i,this.state="new",this.timeline=n.timeline,this.id=this.timeline.generateUniqueID(),this.options={encrypted:Boolean(n.encrypted),hostUnencrypted:n.hostUnencrypted,hostEncrypted:n.hostEncrypted
}}function e(t){return"string"==typeof t?t:"object"==typeof t?Pusher.Util.mapObject(t,function(t){var e=typeof t;return"object"===e||"function"==e?e:t}):typeof t}var i=t.prototype;Pusher.Util.extend(i,Pusher.EventsDispatcher.prototype),t.isSupported=function(){return!1},i.supportsPing=function(){return!1},i.initialize=function(){this.timeline.info(this.buildTimelineMessage({transport:this.name+(this.options.encrypted?"s":"")})),this.timeline.debug(this.buildTimelineMessage({method:"initialize"})),this.changeState("initialized")},i.connect=function(){var t=this.getURL(this.key,this.options);if(this.timeline.debug(this.buildTimelineMessage({method:"connect",url:t})),this.socket||"initialized"!==this.state)return!1;try{this.socket=this.createSocket(t)}catch(e){var i=this;return new Pusher.Timer(0,function(){i.onError(e),i.changeState("closed")}),!1}return this.bindListeners(),Pusher.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},i.close=function(){return this.timeline.debug(this.buildTimelineMessage({method:"close"})),this.socket?(this.socket.close(),!0):!1},i.send=function(t){if(this.timeline.debug(this.buildTimelineMessage({method:"send",data:t})),"open"===this.state){var e=this;return setTimeout(function(){e.socket.send(t)},0),!0}return!1},i.requestPing=function(){this.emit("ping_request")},i.onOpen=function(){this.changeState("open"),this.socket.onopen=void 0},i.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:e(t)}))},i.onClose=function(t){this.changeState("closed",t),this.socket=void 0},i.onMessage=function(t){this.timeline.debug(this.buildTimelineMessage({message:t.data})),this.emit("message",t)},i.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)}},i.createSocket=function(t){return null},i.getScheme=function(){return this.options.encrypted?"wss":"ws"},i.getBaseURL=function(){var t;return t=this.options.encrypted?this.options.hostEncrypted:this.options.hostUnencrypted,this.getScheme()+"://"+t},i.getPath=function(){return"/app/"+this.key},i.getQueryString=function(){return"?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION},i.getURL=function(){return this.getBaseURL()+this.getPath()+this.getQueryString()},i.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},i.buildTimelineMessage=function(t){return Pusher.Util.extend({cid:this.id},t)},Pusher.AbstractTransport=t}.call(this),function(){function t(t,e,i,n){Pusher.AbstractTransport.call(this,t,e,i,n)}var e=t.prototype;Pusher.Util.extend(e,Pusher.AbstractTransport.prototype),t.createConnection=function(e,i,n,r){return new t(e,i,n,r)},t.isSupported=function(t){if(t&&t.disableFlash)return!1;try{return Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){return Boolean(navigator&&navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"])}},e.initialize=function(){var t=this;this.timeline.info(this.buildTimelineMessage({transport:this.name+(this.options.encrypted?"s":"")})),this.timeline.debug(this.buildTimelineMessage({method:"initialize"})),this.changeState("initializing"),void 0===window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&(window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0),window.WEB_SOCKET_SWF_LOCATION=Pusher.Dependencies.getRoot()+"/WebSocketMain.swf",Pusher.Dependencies.load("flashfallback",function(){t.changeState("initialized")})},e.createSocket=function(t){return new FlashWebSocket(t)},e.getQueryString=function(){return Pusher.AbstractTransport.prototype.getQueryString.call(this)+"&flash=true"},Pusher.FlashTransport=t}.call(this),function(){function t(t,e,i,n){Pusher.AbstractTransport.call(this,t,e,i,n),this.options.ignoreNullOrigin=n.ignoreNullOrigin}var e=t.prototype;Pusher.Util.extend(e,Pusher.AbstractTransport.prototype),t.createConnection=function(e,i,n,r){return new t(e,i,n,r)},t.isSupported=function(){return!0},e.initialize=function(){var t=this;this.timeline.info(this.buildTimelineMessage({transport:this.name+(this.options.encrypted?"s":"")})),this.timeline.debug(this.buildTimelineMessage({method:"initialize"})),this.changeState("initializing"),Pusher.Dependencies.load("sockjs",function(){t.changeState("initialized")})},e.supportsPing=function(){return!0},e.createSocket=function(t){return new SockJS(t,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:this.options.encrypted}),ignore_null_origin:this.options.ignoreNullOrigin})},e.getScheme=function(){return this.options.encrypted?"https":"http"},e.getPath=function(){return"/pusher"},e.getQueryString=function(){return""},e.onOpen=function(){this.socket.send(JSON.stringify({path:Pusher.AbstractTransport.prototype.getPath.call(this)+Pusher.AbstractTransport.prototype.getQueryString.call(this)})),this.changeState("open"),this.socket.onopen=void 0},Pusher.SockJSTransport=t}.call(this),function(){function t(t,e,i,n){Pusher.AbstractTransport.call(this,t,e,i,n)}var e=t.prototype;Pusher.Util.extend(e,Pusher.AbstractTransport.prototype),t.createConnection=function(e,i,n,r){return new t(e,i,n,r)},t.isSupported=function(){return void 0!==window.WebSocket||void 0!==window.MozWebSocket},e.createSocket=function(t){var e=window.WebSocket||window.MozWebSocket;return new e(t)},e.getQueryString=function(){return Pusher.AbstractTransport.prototype.getQueryString.call(this)+"&flash=false"},Pusher.WSTransport=t}.call(this),function(){function t(t,e,i){this.manager=t,this.transport=e,this.minPingDelay=i.minPingDelay||1e4,this.maxPingDelay=i.maxPingDelay||Pusher.activity_timeout,this.pingDelay=null}var e=t.prototype;e.createConnection=function(t,e,i,n){var r=this.transport.createConnection(t,e,i,n),s=this,a=null,o=null,c=function(){r.unbind("open",c),a=Pusher.Util.now(),s.pingDelay&&(o=setInterval(function(){o&&r.requestPing()},s.pingDelay)),r.bind("closed",h)},h=function(t){if(r.unbind("closed",h),o&&(clearInterval(o),o=null),!t.wasClean&&a){var e=Pusher.Util.now()-a;e<2*s.maxPingDelay&&(s.manager.reportDeath(),s.pingDelay=Math.max(e/2,s.minPingDelay))}};return r.bind("open",c),r},e.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},Pusher.AssistantToTheTransportManager=t}.call(this),function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}var e=t.prototype;e.getAssistant=function(t){return new Pusher.AssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.isAlive=function(){return this.livesLeft>0},e.reportDeath=function(){this.livesLeft-=1},Pusher.TransportManager=t}.call(this),function(){function t(t){return function(e){return[t.apply(this,arguments),e]}}function e(t){return"string"==typeof t&&":"===t.charAt(0)}function i(t,e){return e[t.slice(1)]}function n(t,e){if(0===t.length)return[[],e];var i=a(t[0],e),r=n(t.slice(1),i[1]);return[[i[0]].concat(r[0]),r[1]]}function r(t,n){if(!e(t))return[t,n];var r=i(t,n);if(void 0===r)throw"Undefined symbol "+t;return[r,n]}function s(t,r){if(e(t[0])){var s=i(t[0],r);if(t.length>1){if("function"!=typeof s)throw"Calling non-function "+t[0];var o=[Pusher.Util.extend({},r)].concat(Pusher.Util.map(t.slice(1),function(t){return a(t,Pusher.Util.extend({},r))[0]}));return s.apply(this,o)}return[s,r]}return n(t,r)}function a(t,e){return"string"==typeof t?r(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?s(t,e):[t,e]}var o={build:function(t,e){var i=Pusher.Util.extend({},h,e);return a(t,i)[1].strategy}},c={ws:Pusher.WSTransport,flash:Pusher.FlashTransport,sockjs:Pusher.SockJSTransport},h={def:function(t,e,i){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=i,[void 0,t]},def_transport:function(t,e,i,n,r,s){var a=c[i];if(!a)throw new Pusher.Errors.UnsupportedTransport(i);var o=Pusher.Util.extend({},{key:t.key,encrypted:t.encrypted,timeline:t.timeline,disableFlash:t.disableFlash,ignoreNullOrigin:t.ignoreNullOrigin},r);s&&(a=s.getAssistant(a));var h=new Pusher.TransportStrategy(e,n,a,o),l=t.def(t,e,h)[1];return l.transports=t.transports||{},l.transports[e]=h,[void 0,l]},transport_manager:t(function(t,e){return new Pusher.TransportManager(e)}),sequential:t(function(t,e){var i=Array.prototype.slice.call(arguments,2);return new Pusher.SequentialStrategy(i,e)}),cached:t(function(t,e,i){return new Pusher.CachedStrategy(i,t.transports,{ttl:e,timeline:t.timeline})}),first_connected:t(function(t,e){return new Pusher.FirstConnectedStrategy(e)}),best_connected_ever:t(function(){var t=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(t)}),delayed:t(function(t,e,i){return new Pusher.DelayedStrategy(i,{delay:e})}),"if":t(function(t,e,i,n){return new Pusher.IfStrategy(e,i,n)}),is_supported:t(function(t,e){return function(){return e.isSupported()}})};Pusher.StrategyBuilder=o}.call(this),function(){Protocol={},Protocol.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(i){if(!(i instanceof SyntaxError))throw i}return e}catch(i){throw{type:"MessageParseError",error:i,data:t.data}}},Protocol.encodeMessage=function(t){return JSON.stringify(t)},Protocol.processHandshake=function(t){if(t=this.decodeMessage(t),"pusher:connection_established"===t.event)return{action:"connected",id:t.data.socket_id};if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},Protocol.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},Protocol.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null},Pusher.Protocol=Protocol}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this),this.id=t,this.transport=e,this.bindListeners()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.supportsPing=function(){return this.transport.supportsPing()},e.send=function(t){return this.transport.send(t)},e.send_event=function(t,e,i){var n={event:t,data:e};return i&&(n.channel=i),this.send(Pusher.Protocol.encodeMessage(n))},e.close=function(){this.transport.close()},e.bindListeners=function(){var t=this,e=function(e){var i;try{i=Pusher.Protocol.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==i){switch(Pusher.debug("Event recd",i),i.event){case"pusher:error":t.emit("error",{type:"PusherError",data:i.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",i)}},i=function(){t.emit("ping_request")},n=function(e){t.emit("error",{type:"WebSocketError",error:e})},r=function(e){s(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")},s=function(){t.transport.unbind("closed",r),t.transport.unbind("error",n),t.transport.unbind("ping_request",i),t.transport.unbind("message",e)};t.transport.bind("message",e),t.transport.bind("ping_request",i),t.transport.bind("error",n),t.transport.bind("closed",r)},e.handleCloseEvent=function(t){var e=Pusher.Protocol.getCloseAction(t),i=Pusher.Protocol.getCloseError(t);i&&this.emit("error",i),e&&this.emit(e)},Pusher.Connection=t}.call(this),function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}var e=t.prototype;e.bindListeners=function(){var t=this,e=function(){t.transport.unbind("message",i),t.transport.unbind("closed",n)},i=function(i){e();try{var n=Pusher.Protocol.processHandshake(i);"connected"===n.action?t.finish("connected",{connection:new Pusher.Connection(n.id,t.transport)}):(t.finish(n.action,{error:n.error}),t.transport.close())}catch(r){t.finish("error",{error:r}),t.transport.close()}},n=function(i){e();var n=Pusher.Protocol.getCloseAction(i)||"backoff",r=Pusher.Protocol.getCloseError(i);t.finish(n,{error:r})};t.transport.bind("message",i),t.transport.bind("closed",n)},e.finish=function(t,e){this.callback(Pusher.Util.extend({transport:this.transport,action:t},e))},Pusher.Handshake=t}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this),this.key=t,this.options=e||{},this.state="initialized",this.connection=null,this.encrypted=!!e.encrypted,this.timeline=this.options.getTimeline(),this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var i=this;Pusher.Network.bind("online",function(){"unavailable"===i.state&&i.connect()}),Pusher.Network.bind("offline",function(){i.shouldRetry()&&(i.disconnect(),i.updateState("unavailable"))});var n=function(){i.timelineSender&&i.timelineSender.send(function(){})};this.bind("connected",n),setInterval(n,6e4),this.updateStrategy()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.connect=function(){var t=this;if(!t.connection&&"connecting"!==t.state){if(!t.strategy.isSupported())return void t.updateState("failed");if(Pusher.Network.isOnline()===!1)return void t.updateState("unavailable");t.updateState("connecting"),t.timelineSender=t.options.getTimelineSender(t.timeline,{encrypted:t.encrypted},t);var e=function(i,n){i?t.runner=t.strategy.connect(0,e):(t.runner.abort(),t.handshakeCallbacks[n.action](n))};t.runner=t.strategy.connect(0,e),t.setUnavailableTimer()}},e.send=function(t){return this.connection?this.connection.send(t):!1},e.send_event=function(t,e,i){return this.connection?this.connection.send_event(t,e,i):!1},e.disconnect=function(){this.runner&&this.runner.abort(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.stopActivityCheck(),this.updateState("disconnected"),this.connection&&(this.connection.close(),this.abandonConnection())},e.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.retryIn=function(t){var e=this;this.retryTimer=new Pusher.Timer(t||0,function(){e.disconnect(),e.connect()})},e.clearRetryTimer=function(){this.retryTimer&&this.retryTimer.ensureAborted()},e.setUnavailableTimer=function(){var t=this;t.unavailableTimer=new Pusher.Timer(t.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.resetActivityCheck=function(){if(this.stopActivityCheck(),!this.connection.supportsPing()){var t=this;t.activityTimer=new Pusher.Timer(t.options.activityTimeout,function(){t.send_event("pusher:ping",{}),t.activityTimer=new Pusher.Timer(t.options.pongTimeout,function(){t.connection.close()})})}},e.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},ping_request:function(){t.send_event("pusher:ping",{})},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.buildHandshakeCallbacks=function(t){var e=this;return Pusher.Util.extend({},t,{connected:function(t){e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected")}})},e.buildErrorCallbacks=function(){var t=this;return{ssl_only:function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)},refused:function(){t.disconnect()},backoff:function(){t.retryIn(1e3)},retry:function(){t.retryIn(0)}}},e.setConnection=function(t){this.connection=t;for(var e in this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.abandonConnection=function(){if(this.connection){for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);this.connection=null}},e.updateState=function(t,e){var i=this.state;this.state=t,i!==t&&(Pusher.debug("State changed",i+" -> "+t),this.emit("state_change",{previous:i,current:t}),this.emit(t,e))},e.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},Pusher.ConnectionManager=t}.call(this),function(){function t(){Pusher.EventsDispatcher.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}Pusher.Util.extend(t.prototype,Pusher.EventsDispatcher.prototype);var e=t.prototype;e.isOnline=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine},Pusher.NetInfo=t,Pusher.Network=new t}.call(this),function(){Pusher.Channels=function(){this.channels={}},Pusher.Channels.prototype={add:function(t,e){var i=this.find(t);if(i)return i;var n=Pusher.Channel.factory(t,e);return this.channels[t]=n,n},find:function(t){return this.channels[t]},remove:function(t){delete this.channels[t]},disconnect:function(){for(var t in this.channels)this.channels[t].disconnect()}},Pusher.Channel=function(t,e){var i=this;Pusher.EventsDispatcher.call(this,function(e,i){Pusher.debug("No callbacks on "+t+" for "+e)}),this.pusher=e,this.name=t,this.subscribed=!1,this.bind("pusher_internal:subscription_succeeded",function(t){i.onSubscriptionSucceeded(t)})},Pusher.Channel.prototype={init:function(){},disconnect:function(){this.subscribed=!1,this.emit("pusher_internal:disconnected")},onSubscriptionSucceeded:function(t){this.subscribed=!0,this.emit("pusher:subscription_succeeded")},authorize:function(t,e,i){return i(!1,{})},trigger:function(t,e){return this.pusher.send_event(t,e,this.name)}},Pusher.Util.extend(Pusher.Channel.prototype,Pusher.EventsDispatcher.prototype),Pusher.Channel.PrivateChannel={authorize:function(t,e,i){var n=this,r=new Pusher.Channel.Authorizer(this,Pusher.channel_auth_transport,e);return r.authorize(t,function(t,e){t||n.emit("pusher_internal:authorized",e),i(t,e)})}},Pusher.Channel.PresenceChannel={init:function(){this.members=new t(this)},onSubscriptionSucceeded:function(t){this.subscribed=!0}};var t=function(t){var e=this,i=null,n=function(){e._members_map={},e.count=0,e.me=null,i=null};n();var r=function(n){e._members_map=n.presence.hash,e.count=n.presence.count,e.me=e.get(i.user_id),t.emit("pusher:subscription_succeeded",e)};t.bind("pusher_internal:authorized",function(e){i=JSON.parse(e.channel_data),t.bind("pusher_internal:subscription_succeeded",r)}),t.bind("pusher_internal:member_added",function(i){null===e.get(i.user_id)&&e.count++,e._members_map[i.user_id]=i.user_info,t.emit("pusher:member_added",e.get(i.user_id))}),t.bind("pusher_internal:member_removed",function(i){var n=e.get(i.user_id);n&&(delete e._members_map[i.user_id],e.count--,t.emit("pusher:member_removed",n))}),t.bind("pusher_internal:disconnected",function(){n(),t.unbind("pusher_internal:subscription_succeeded",r)})};t.prototype={each:function(t){for(var e in this._members_map)t(this.get(e))},get:function(t){return this._members_map.hasOwnProperty(t)?{id:t,info:this._members_map[t]}:null}},Pusher.Channel.factory=function(t,e){var i=new Pusher.Channel(t,e);return 0===t.indexOf("private-")?Pusher.Util.extend(i,Pusher.Channel.PrivateChannel):0===t.indexOf("presence-")&&(Pusher.Util.extend(i,Pusher.Channel.PrivateChannel),Pusher.Util.extend(i,Pusher.Channel.PresenceChannel)),i.init(),i}}.call(this),function(){Pusher.Channel.Authorizer=function(t,e,i){this.channel=t,this.type=e,this.authOptions=(i||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(t){var e="&socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var i in this.authOptions.params)e+="&"+encodeURIComponent(i)+"="+encodeURIComponent(this.authOptions.params[i]);return e},authorize:function(t,e){return Pusher.authorizers[this.type].call(this,t,e)}},Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(t,e){var i;i=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i.open("POST",Pusher.channel_auth_endpoint,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var n in this.authOptions.headers)i.setRequestHeader(n,this.authOptions.headers[n]);return i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var t,n=!1;try{t=JSON.parse(i.responseText),n=!0}catch(r){e(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+i.responseText)}n&&e(!1,t)}else Pusher.warn("Couldn't get auth info from your webapp",i.status),e(!0,i.status)},i.send(this.composeQuery(t)),i},jsonp:function(t,e){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=document.createElement("script");Pusher.auth_callbacks[this.channel.name]=function(t){e(!1,t)};var n="Pusher.auth_callbacks['"+this.channel.name+"']";i.src=Pusher.channel_auth_endpoint+"?callback="+encodeURIComponent(n)+this.composeQuery(t);var r=document.getElementsByTagName("head")[0]||document.documentElement;r.insertBefore(i,r.firstChild)}}}.call(this),function(){Backbone.CollectionSubset=function(){function t(t){null==t&&(t={}),t=_.defaults(t,{refresh:!0,triggers:null,filter:function(){return!0},name:null,child:null,parent:null}),this.triggers=t.triggers?t.triggers.split(" "):[],t.child||(t.child=new t.parent.constructor),this.setParent(t.parent),this.setChild(t.child),this.setFilter(t.filter),t.model&&(this.child.model=t.model),t.refresh&&this.refresh(),this.name=t.name}return t.extend=Backbone.Model.extend,_.extend(t.prototype,Backbone.Events),t.prototype.setParent=function(t){var e,i=this;return null!=(e=this.parent)&&e.off(null,null,this),this.parent=t,this.parent.on("add",this._onParentAdd,this),this.parent.on("remove",this._onParentRemove,this),this.parent.on("reset",this._onParentReset,this),this.parent.on("change",this._onParentChange,this),this.parent.on("dispose",this.dispose,this),this.parent.on("loading",function(){return i.child.trigger("loading")},this),this.parent.on("ready",function(){return i.child.trigger("ready")},this)},t.prototype.setChild=function(t){var e;return null!=(e=this.child)&&e.off(null,null,this),this.child=t,this.child.on("add",this._onChildAdd,this),this.child.on("reset",this._onChildReset,this),this.child.on("dispose",this.dispose,this),this.child.superset=this.parent,this.child.filterer=this,this.child.url=this.parent.url,this.child.model=this.parent.model},t.prototype.setFilter=function(t){var e;return e=function(e){var i,n;return i=t.call(this,e),n=this.parent.filterer?this.parent.filterer.filter(e):!0,i&&n},this.filter=_.bind(e,this)},t.prototype.refresh=function(t){var e;return null==t&&(t={}),e=this.parent.filter(this.filter),this.child.reset(e,{subset:this}),this.child.trigger("refresh")},t.prototype._replaceChildModel=function(t){var e,i;return e=this._getByCid(this.child,t.cid),e!==t?_.isUndefined(e)?this.child.add(t,{subset:this}):(i=this.child.indexOf(e),this.child.remove(e),this.child.add(t,{at:i,subset:this})):void 0},t.prototype._onParentAdd=function(t,e,i){return i&&i.subset===this?void 0:this.filter(t)?this._replaceChildModel(t):void 0},t.prototype._onParentRemove=function(t,e,i){return this.child.remove(t,i)},t.prototype._onParentReset=function(t,e){return this.refresh()},t.prototype._onParentChange=function(t,e){return this.triggerMatched(t)?this.filter(t)?this.child.add(t):this.child.remove(t):void 0},t.prototype._onChildAdd=function(t,e,i){var n;if((!i||i.subset!==this)&&(this.parent.add(t),n=this._getByCid(this.parent,t.cid)))return this.filter(n)?this._replaceChildModel(n):this.child.remove(t)},t.prototype._onChildReset=function(t,e){return e&&e.subset===this?void 0:(this.parent.add(this.child.models),this.refresh())},t.prototype._getByCid=function(t,e){var i;return i=t.getByCid||t.get,i.apply(t,[e])},t.prototype.triggerMatched=function(t){var e;return 0===this.triggers.length?!0:t.hasChanged()?(e=_.keys(t.changedAttributes()),_.intersection(this.triggers,e).length>0):!1},t.prototype.dispose=function(){var t,e,i,n,r;if(!this.disposed){for(this.trigger("dispose",this),this.parent.off(null,null,this),this.child.off(null,null,this),"function"==typeof(e=this.child).dispose&&e.dispose(),this.off(),r=["parent","child","options"],i=0,n=r.length;n>i;i++)t=r[i],delete this[t];return this.disposed=!0}},t}(),Backbone.Collection.prototype.subcollection=function(t){var e;return null==t&&(t={}),_.defaults(t,{child:new this.constructor,parent:this}),e=new Backbone.CollectionSubset(t),e.child},"undefined"!=typeof module&&null!==module&&(module.exports=Backbone.CollectionSubset)}.call(this),function(t,e,i){function n(t,i){var n,r=e.createElement(t||"div");for(n in i)r[n]=i[n];return r}function r(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function s(t,e,i,n){var r=["opacity",e,~~(100*t),i,n].join("-"),s=.01+i/n*100,a=Math.max(1-(1-t)/e*(100-s),t),o=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=o&&"-"+o+"-"||"";return d[r]||(p.insertRule("@"+c+"keyframes "+r+"{0%{opacity:"+a+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",0),d[r]=1),r}function a(t,e){var n,r,s=t.style;if(s[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<u.length;r++)if(n=u[r]+e,s[n]!==i)return n}function o(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]===i&&(t[r]=n[r])}return t}function h(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var l,u=["webkit","Moz","ms","O"],d={},p=function(){var t=n("style");return r(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},g=function m(t){return this.spin?void(this.opts=c(t||{},m.defaults,f)):new m(t)};g.defaults={},c(g.prototype,{spin:function(t){this.stop();var e,i,r=this,s=r.opts,a=r.el=o(n(0,{className:s.className}),{position:"relative",zIndex:s.zIndex}),c=s.radius+s.length+s.width;if(t&&(t.insertBefore(a,t.firstChild||null),i=h(t),e=h(a),o(a,{left:("auto"==s.left?i.x-e.x+(t.offsetWidth>>1):s.left+c)+"px",top:("auto"==s.top?i.y-e.y+(t.offsetHeight>>1):s.top+c)+"px"})),a.setAttribute("aria-role","progressbar"),r.lines(a,r.opts),!l){var u=0,d=s.fps,p=d/s.speed,f=(1-s.opacity)/(p*s.trail/100),g=p/s.lines;!function m(){u++;for(var t=s.lines;t;t--){var e=Math.max(1-(u+t*g)%p*f,s.opacity);r.opacity(a,s.lines-t,e,s)}r.timeout=r.el&&setTimeout(m,~~(1e3/d))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(t,e){function i(t,i){return o(n(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*c+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.width>>1)+"px"})}for(var a,c=0;c<e.lines;c++)a=o(n(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:l&&s(e.opacity,e.trail,c,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&r(a,o(i("#000","0 0 4px #000"),{top:"2px"})),r(t,r(a,i(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),!function(){function t(t,e){return n("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=o(n("group"),{behavior:"url(#default#VML)"});!a(e,"transform")&&e.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),g.prototype.lines=function(e,i){function n(){return o(t("group",{coordsize:h+" "+h,coordorigin:-c+" "+-c}),{width:h,height:h})}function s(e,s,a){r(u,r(o(n(),{rotation:360/i.lines*e+"deg",left:~~s}),r(o(t("roundrect",{arcsize:1}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}var a,c=i.length+i.width,h=2*c,l=2*-(i.width+i.length)+"px",u=o(n(),{position:"absolute",top:l,left:l});if(i.shadow)for(a=1;a<=i.lines;a++)s(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)s(a);return r(e,u)},g.prototype.opacity=function(t,e,i,n){var r=t.firstChild;n=n.shadow&&n.lines||0,r&&e+n<r.childNodes.length&&(r=r.childNodes[e+n],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=i))}):l=a(e,"animation")}(),t.Spinner=g}(window,document);var XDate=function(t,e,i,n){function r(){var e,i=this instanceof r?this:new r,n=arguments,o=n.length;if("boolean"==typeof n[o-1]&&(e=n[--o],n=T(n,0,o)),o)if(1==o){if(o=n[0],o instanceof t||"number"==typeof o)i[0]=new t(+o);else if(o instanceof r){var n=i,c=new t(+o[0]);s(o)&&(c.toString=H),n[0]=c}else if("string"==typeof o){i[0]=new t(0);t:{for(var h,n=o,o=e||!1,c=r.parsers,l=0;l<c.length;l++)if(h=c[l](n,o,i)){i=h;break t}i[0]=new t(n)}}}else i[0]=new t(E.apply(t,n)),e||(i[0]=w(i[0]));else i[0]=new t;return"boolean"==typeof e&&a(i,e),i}function s(t){return t[0].toString===H}function a(e,i,n){return i?s(e)||(n&&(e[0]=new t(E(e[0].getFullYear(),e[0].getMonth(),e[0].getDate(),e[0].getHours(),e[0].getMinutes(),e[0].getSeconds(),e[0].getMilliseconds()))),e[0].toString=H):s(e)&&(e[0]=n?w(e[0]):new t(+e[0])),e}function o(t,e,i,n,r){var s=k(y,t[0],r),t=k(b,t[0],r),r=1==e?i%12:s(1),a=!1;2==n.length&&"boolean"==typeof n[1]&&(a=n[1],n=[i]),t(e,n),a&&s(1)!=r&&(t(1,[s(1)-1]),t(2,[_(s(0),s(1))]))}function c(t,i,n,r){var n=Number(n),s=e.floor(n);t["set"+A[i]](t["get"+A[i]]()+s,r||!1),s!=n&&6>i&&c(t,i+1,(n-s)*P[i],r)}function h(t,i,n){var t=t.clone().setUTCMode(!0,!0),i=r(i).setUTCMode(!0,!0),s=0;if(0==n||1==n){for(var a=6;a>=n;a--)s/=P[a],s+=y(i,!1,a)-y(t,!1,a);1==n&&(s+=12*(i.getFullYear()-t.getFullYear()))}else 2==n?(n=t.toDate().setUTCHours(0,0,0,0),s=i.toDate().setUTCHours(0,0,0,0),s=e.round((s-n)/864e5)+(i-s-(t-n))/864e5):s=(i-t)/[36e5,6e4,1e3,1][n-3];return s}function l(i){var n=i(0),r=i(1),i=i(2),r=new t(E(n,r,i)),s=u(n),i=s;return s>r?i=u(n-1):(n=u(n+1),r>=n&&(i=n)),e.floor(e.round((r-i)/864e5)/7)+1}function u(e){return e=new t(E(e,0,4)),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+6)%7),e}function d(t,e,i,r){var s=k(y,t,r),a=k(b,t,r),i=u(i===n?s(0):i);r||(i=w(i)),t.setTime(+i),a(2,[s(2)+7*(e-1)])}function p(t,e,i,n,s){var a=r.locales,o=a[r.defaultLocale]||{},c=k(y,t,s),i=("string"==typeof i?a[i]:i)||{};return f(t,e,function(t){if(n)for(var e=(7==t?2:t)-1;e>=0;e--)n.push(c(e));return c(t)},function(t){return i[t]||o[t]},s)}function f(t,e,i,r,s){for(var a,o,c="";a=e.match(D);){if(c+=e.substr(0,a.index),a[1]){o=c;for(var c=t,h=a[1],l=i,u=r,d=s,p=h.length,m=void 0,v="";p>0;)m=g(c,h.substr(0,p),l,u,d),m!==n?(v+=m,h=h.substr(p),p=h.length):p--;c=o+(v+h)}else a[3]?(o=f(t,a[4],i,r,s),parseInt(o.replace(/\D/g,""),10)&&(c+=o)):c+=a[7]||"'";e=e.substr(a.index+a[0].length)}return c+e}function g(t,i,n,s,a){var o=r.formatters[i];if("string"==typeof o)return f(t,o,n,s,a);if("function"==typeof o)return o(t,a||!1,s);switch(i){case"fff":return C(n(6),3);case"s":return n(5);case"ss":return C(n(5));case"m":return n(4);case"mm":return C(n(4));case"h":return n(3)%12||12;case"hh":return C(n(3)%12||12);case"H":return n(3);case"HH":return C(n(3));case"d":return n(2);case"dd":return C(n(2));case"ddd":return s("dayNamesShort")[n(7)]||"";case"dddd":return s("dayNames")[n(7)]||"";case"M":return n(1)+1;case"MM":return C(n(1)+1);case"MMM":return s("monthNamesShort")[n(1)]||"";case"MMMM":return s("monthNames")[n(1)]||"";case"yy":return(n(0)+"").substring(2);case"yyyy":return n(0);case"t":return m(n,s).substr(0,1).toLowerCase();case"tt":return m(n,s).toLowerCase();case"T":return m(n,s).substr(0,1);case"TT":return m(n,s);case"z":case"zz":case"zzz":return a?i="Z":(s=t.getTimezoneOffset(),t=0>s?"+":"-",n=e.floor(e.abs(s)/60),s=e.abs(s)%60,a=n,"zz"==i?a=C(n):"zzz"==i&&(a=C(n)+":"+C(s)),i=t+a),i;case"w":return l(n);case"ww":return C(l(n));case"S":return i=n(2),i>10&&20>i?"th":["st","nd","rd"][i%10-1]||"th"}}function m(t,e){return e(t(3)<12?"amDesignator":"pmDesignator")}function v(t){return!isNaN(+t[0])}function y(t,e,i){return t["get"+(e?"UTC":"")+A[i]]()}function b(t,e,i,n){t["set"+(e?"UTC":"")+A[i]].apply(t,n)}function w(e){return new t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function _(e,i){return 32-new t(E(e,i,32)).getUTCDate();
}function x(t){return function(){return t.apply(n,[this].concat(T(arguments)))}}function k(t){var e=T(arguments,1);return function(){return t.apply(n,e.concat(T(arguments)))}}function T(t,e,r){return i.prototype.slice.call(t,e||0,r===n?t.length:r)}function S(t,e){for(var i=0;i<t.length;i++)e(t[i],i)}function C(t,e){for(e=e||2,t+="";t.length<e;)t="0"+t;return t}var A="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(","),O=["Years","Months","Days"],P=[12,31,24,60,60,1e3,1],D=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,E=t.UTC,H=t.prototype.toUTCString,j=r.prototype;return j.length=1,j.splice=i.prototype.splice,j.getUTCMode=x(s),j.setUTCMode=x(a),j.getTimezoneOffset=function(){return s(this)?0:this[0].getTimezoneOffset()},S(A,function(t,e){j["get"+t]=function(){return y(this[0],s(this),e)},8!=e&&(j["getUTC"+t]=function(){return y(this[0],!0,e)}),7!=e&&(j["set"+t]=function(t){return o(this,e,t,arguments,s(this)),this},8!=e&&(j["setUTC"+t]=function(t){return o(this,e,t,arguments,!0),this},j["add"+(O[e]||t)]=function(t,i){return c(this,e,t,i),this},j["diff"+(O[e]||t)]=function(t){return h(this,t,e)}))}),j.getWeek=function(){return l(k(y,this,!1))},j.getUTCWeek=function(){return l(k(y,this,!0))},j.setWeek=function(t,e){return d(this,t,e,!1),this},j.setUTCWeek=function(t,e){return d(this,t,e,!0),this},j.addWeeks=function(t){return this.addDays(7*Number(t))},j.diffWeeks=function(t){return h(this,t,2)/7},r.parsers=[function(e,i,n){if(e=e.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var r=new t(E(e[1],e[3]?e[3]-1:0,e[5]||1,e[7]||0,e[8]||0,e[10]||0,e[12]?1e3*Number("0."+e[12]):0));return e[13]?e[14]&&r.setUTCMinutes(r.getUTCMinutes()+("-"==e[15]?1:-1)*(60*Number(e[16])+(e[18]?Number(e[18]):0))):i||(r=w(r)),n.setTime(+r)}}],r.parse=function(t){return+r(""+t)},j.toString=function(t,e,i){return t!==n&&v(this)?p(this,t,e,i,s(this)):this[0].toString()},j.toUTCString=j.toGMTString=function(t,e,i){return t!==n&&v(this)?p(this,t,e,i,!0):this[0].toUTCString()},j.toISOString=function(){return this.toUTCString("yyyy-MM-dd'T'HH:mm:ss(.fff)zzz")},r.defaultLocale="",r.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),amDesignator:"AM",pmDesignator:"PM"}},r.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:"yyyy-MM-dd'T'HH:mm:ss(.fff)zzz"},S("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(","),function(t){j[t]=function(){return this[0][t]()}}),j.setTime=function(t){return this[0].setTime(t),this},j.valid=x(v),j.clone=function(){return new r(this)},j.clearTime=function(){return this.setHours(0,0,0,0)},j.toDate=function(){return new t(+this[0])},r.now=function(){return+new t},r.today=function(){return(new r).clearTime()},r.UTC=E,r.getDaysInMonth=_,"undefined"!=typeof module&&module.exports&&(module.exports=r),r}(Date,Math,Array);!function(t){function e(t){return String(null===t||void 0===t?"":t)}function i(t){return e(t).replace(c,function(t){return o[t]})}var n={method:"GET",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,contentType:"json",prePopulate:null,processPrePopulate:!1,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,placeholder:null,theme:null,zindex:999,resultsLimit:null,enableHTML:!1,resultsFormatter:function(t){var e=t[this.propertyToSearch];return"<li>"+(this.enableHTML?e:i(e))+"</li>"},tokenFormatter:function(t){var e=t[this.propertyToSearch];return"<li><p>"+(this.enableHTML?e:i(e))+"</p></li>"},tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",allowFreeTagging:!1,allowTabOut:!1,onResult:null,onCachedResult:null,onAdd:null,onFreeTaggingAdd:null,onDelete:null,onReady:null,idPrefix:"token-input-",disabled:!1,alphaSort:!1,createNew:!1},r={tokenList:"token-input-list",token:"token-input-token",tokenReadOnly:"token-input-token-readonly",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token",focused:"token-input-focused",disabled:"token-input-disabled"},s={BEFORE:0,AFTER:1,END:2},a={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},c=/[&<>"'\/]/g,h={init:function(e,i){var r=t.extend({},n,i||{});return this.each(function(){t(this).data("settings",r),t(this).data("tokenInputObject",new t.TokenList(this,e,r))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(t){return this.data("tokenInputObject").add(t),this},remove:function(t){return this.data("tokenInputObject").remove(t),this},get:function(){return this.data("tokenInputObject").getTokens()},toggleDisabled:function(t){return this.data("tokenInputObject").toggleDisabled(t),this},setOptions:function(e){return t(this).data("settings",t.extend({},t(this).data("settings"),e||{})),this},destroy:function(){if(this.data("tokenInputObject")){this.data("tokenInputObject").clear();var t=this,e=this.parent();return e.empty(),t.show(),e.append(t),t}}};t.fn.tokenInput=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):h.init.apply(this,arguments)},t.TokenList=function(e,n,o){function c(n){return t(e).data("settings").enableHTML?n:i(n)}function h(i){"boolean"==typeof i?t(e).data("settings").disabled=i:t(e).data("settings").disabled=!t(e).data("settings").disabled,B.attr("disabled",t(e).data("settings").disabled),G.toggleClass(t(e).data("settings").classes.disabled,t(e).data("settings").disabled),U&&m(t(U),s.END),R.attr("disabled",t(e).data("settings").disabled)}function l(){return null!==t(e).data("settings").tokenLimit&&L>=t(e).data("settings").tokenLimit?(B.hide(),void w()):void 0}function u(){if(M!==(M=B.val())){var t=G.width()-B.offset().left-G.offset().left;Y.html(i(M)),B.width(Math.min(G.width(),Math.max(t,Y.width()+30)))}}function d(){var i=t.trim(B.val()),n=i.split(t(e).data("settings").tokenDelimiter);t.each(n,function(i,n){if(n){t.isFunction(t(e).data("settings").onFreeTaggingAdd)&&(n=t(e).data("settings").onFreeTaggingAdd.call(R,n));var r={};r[t(e).data("settings").tokenValue]=r[t(e).data("settings").propertyToSearch]=n,f(r)}})}function p(i){var n=t(t(e).data("settings").tokenFormatter(i)),r=i.readonly===!0?!0:!1;r&&n.addClass(t(e).data("settings").classes.tokenReadOnly),n.addClass(t(e).data("settings").classes.token).insertBefore(W),r||t("<span>"+t(e).data("settings").deleteText+"</span>").addClass(t(e).data("settings").classes.tokenDelete).appendTo(n).click(function(){return t(e).data("settings").disabled?void 0:(y(t(this).parent()),R.change(),!1)});var s=i;return t.data(n.get(0),"tokeninput",i),N=N.slice(0,z).concat([s]).concat(N.slice(z)),z++,b(N,R),L+=1,null!==t(e).data("settings").tokenLimit&&L>=t(e).data("settings").tokenLimit&&(B.hide(),w()),n}function f(i){var n=t(e).data("settings").onAdd;if(L>0&&t(e).data("settings").preventDuplicates){var r=null;if(G.children().each(function(){var e=t(this),n=t.data(e.get(0),"tokeninput");return n&&n[o.tokenValue]===i[o.tokenValue]?(r=e,!1):void 0}),r)return g(r),W.insertAfter(r),void j(B)}B.width(0),(null==t(e).data("settings").tokenLimit||L<t(e).data("settings").tokenLimit)&&(p(i),B.attr("placeholder",null),l()),B.val(""),w(),t.isFunction(n)&&n.call(R,i)}function g(i){t(e).data("settings").disabled||(i.addClass(t(e).data("settings").classes.selectedToken),U=i.get(0),B.val(""),w())}function m(i,n){i.removeClass(t(e).data("settings").classes.selectedToken),U=null,n===s.BEFORE?(W.insertBefore(i),z--):n===s.AFTER?(W.insertAfter(i),z++):(W.appendTo(G),z=L),j(B)}function v(e){var i=U;U&&m(t(U),s.END),i===e.get(0)?m(e,s.END):g(e)}function y(i){var n=t.data(i.get(0),"tokeninput"),r=t(e).data("settings").onDelete,s=i.prevAll().length;s>z&&s--,i.remove(),U=null,j(B),N=N.slice(0,s).concat(N.slice(s+1)),0==N.length&&B.attr("placeholder",o.placeholder),z>s&&z--,b(N,R),L-=1,null!==t(e).data("settings").tokenLimit&&(B.show().val(""),j(B)),t.isFunction(r)&&r.call(R,n)}function b(i,n){var r=t.map(i,function(i){return"function"==typeof t(e).data("settings").tokenValue?t(e).data("settings").tokenValue.call(this,i):i[t(e).data("settings").tokenValue]});n.val(r.join(t(e).data("settings").tokenDelimiter))}function w(){q.hide().empty(),V=null}function _(){q.css({position:"absolute",top:G.offset().top+G[0].getBoundingClientRect().height,left:G.offset().left,width:G.width(),"z-index":t(e).data("settings").zindex}).show()}function x(){t(e).data("settings").searchingText&&(q.html("<p>"+c(t(e).data("settings").searchingText)+"</p>"),_())}function k(){t(e).data("settings").hintText&&(q.html("<p>"+c(t(e).data("settings").hintText)+"</p>"),_())}function T(t){return t.replace(J,"\\$&")}function S(t,e){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+T(e)+")(?![^<>]*>)(?![^&;]+;)","gi"),function(t,e){return"<b>"+c(e)+"</b>"})}function C(t,e,i){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+T(e)+")(?![^<>]*>)(?![^&;]+;)","g"),S(e,i))}function A(i,n){if(n&&n.length){q.empty();var r=t("<ul>").appendTo(q).mouseover(function(e){O(t(e.target).closest("li"))}).mousedown(function(e){return f(t(e.target).closest("li").data("tokeninput")),R.change(),!1}).hide();t(e).data("settings").resultsLimit&&n.length>t(e).data("settings").resultsLimit&&(n=n.slice(0,t(e).data("settings").resultsLimit)),t.each(n,function(n,s){var a=t(e).data("settings").resultsFormatter(s);a=C(a,s[t(e).data("settings").propertyToSearch],i),a=t(a).appendTo(r),n%2?a.addClass(t(e).data("settings").classes.dropdownItem):a.addClass(t(e).data("settings").classes.dropdownItem2),0===n&&O(a),t.data(a.get(0),"tokeninput",s)}),_(),t(e).data("settings").animateDropdown?r.slideDown("fast"):r.show()}else t(e).data("settings").noResultsText&&(q.html("<p>"+c(t(e).data("settings").noResultsText)+"</p>"),_())}function O(i){i&&(V&&P(t(V)),i.addClass(t(e).data("settings").classes.selectedDropdownItem),V=i.get(0))}function P(i){i.removeClass(t(e).data("settings").classes.selectedDropdownItem),V=null}function D(){var i=B.val();i&&i.length&&(U&&m(t(U),s.AFTER),i.length>=t(e).data("settings").minChars?(x(),clearTimeout($),$=setTimeout(function(){E(i)},t(e).data("settings").searchDelay)):w())}function E(i){var n=i+H(),r=I.get(n);if(r)t.isFunction(t(e).data("settings").onCachedResult)&&(r=t(e).data("settings").onCachedResult.call(R,r)),A(i,r);else if(t(e).data("settings").url){var s=H(),a={};if(a.data={},s.indexOf("?")>-1){var o=s.split("?");a.url=o[0];var c=o[1].split("&");t.each(c,function(t,e){var i=e.split("=");a.data[i[0]]=i[1]})}else a.url=s;a.data[t(e).data("settings").queryParam]=i,a.type=t(e).data("settings").method,a.dataType=t(e).data("settings").contentType,t(e).data("settings").crossDomain&&(a.dataType="jsonp"),a.success=function(r){I.add(n,t(e).data("settings").jsonContainer?r[t(e).data("settings").jsonContainer]:r),t.isFunction(t(e).data("settings").onResult)&&(r=t(e).data("settings").onResult.call(R,r)),B.val()===i&&A(i,t(e).data("settings").jsonContainer?r[t(e).data("settings").jsonContainer]:r)},t.ajax(a)}else if(t(e).data("settings").local_data){var h=t(e).data("settings").propertyToSearch,l=t.grep(t(e).data("settings").local_data,function(t){return t[h].toLowerCase().indexOf(i.toLowerCase())>-1});t(e).data("settings").alphaSort&&l.sort(function(t,e){return t[h].toLowerCase()>e[h].toLowerCase()}),t(e).data("settings").createNew&&(0===l.length||l[0][h].toLowerCase()!=i.toLowerCase())&&l.splice(0,0,{id:i,name:i}),I.add(n,l),t.isFunction(t(e).data("settings").onResult)&&(l=t(e).data("settings").onResult.call(R,l)),A(i,l)}}function H(){var i=t(e).data("settings").url;return"function"==typeof t(e).data("settings").url&&(i=t(e).data("settings").url.call(t(e).data("settings"))),i}function j(t){setTimeout(function(){t.focus()},50)}if("string"===t.type(n)||"function"===t.type(n)){t(e).data("settings").url=n;var F=H();void 0===t(e).data("settings").crossDomain&&"string"==typeof F&&(-1===F.indexOf("://")?t(e).data("settings").crossDomain=!1:t(e).data("settings").crossDomain=location.href.split(/\/+/g)[1]!==F.split(/\/+/g)[1])}else"object"==typeof n&&(t(e).data("settings").local_data=n);t(e).data("settings").classes?t(e).data("settings").classes=t.extend({},r,t(e).data("settings").classes):t(e).data("settings").theme?(t(e).data("settings").classes={},t.each(r,function(i,n){t(e).data("settings").classes[i]=n+"-"+t(e).data("settings").theme})):t(e).data("settings").classes=r;var $,M,N=[],L=0,I=new t.TokenList.Cache,B=t('<input type="text"  autocomplete="off" autocapitalize="off">').css({outline:"none"}).attr("id",t(e).data("settings").idPrefix+e.id).focus(function(){return t(e).data("settings").disabled?!1:((null===t(e).data("settings").tokenLimit||t(e).data("settings").tokenLimit!==L)&&k(),void G.addClass(t(e).data("settings").classes.focused))}).blur(function(){w(),t(e).data("settings").allowFreeTagging&&(d(),R.change()),t(this).val(""),G.removeClass(t(e).data("settings").classes.focused)}).bind("keyup keydown blur update",u).keydown(function(i){var n,r;switch(i.keyCode){case a.LEFT:case a.RIGHT:case a.UP:case a.DOWN:if(t(this).val()){var o=null;o=i.keyCode===a.DOWN||i.keyCode===a.RIGHT?t(V).next():t(V).prev(),o.length&&O(o)}else n=W.prev(),r=W.next(),n.length&&n.get(0)===U||r.length&&r.get(0)===U?i.keyCode===a.LEFT||i.keyCode===a.UP?m(t(U),s.BEFORE):m(t(U),s.AFTER):i.keyCode!==a.LEFT&&i.keyCode!==a.UP||!n.length?i.keyCode!==a.RIGHT&&i.keyCode!==a.DOWN||!r.length||g(t(r.get(0))):g(t(n.get(0)));return!1;case a.BACKSPACE:if(n=W.prev(),!t(this).val().length)return U?(y(t(U)),R.change()):n.length&&g(t(n.get(0))),!1;1===t(this).val().length?w():setTimeout(function(){D()},5);break;case a.TAB:case a.ENTER:case a.NUMPAD_ENTER:case a.COMMA:if(V&&t(V).data("tokeninput"))f(t(V).data("tokeninput")),R.change();else{if(t(e).data("settings").allowFreeTagging){if(t(e).data("settings").allowTabOut&&""===t(this).val())return!0;d(),R.change()}else if(t(this).val(""),t(e).data("settings").allowTabOut)return!0;i.stopPropagation(),i.preventDefault()}return!1;case a.ESCAPE:return w(),!0;default:String.fromCharCode(i.which)&&setTimeout(function(){D()},5)}});o.placeholder&&B.attr("placeholder",o.placeholder);var R=t(e).hide().val("").focus(function(){j(B)}).blur(function(){return B.blur(),R}),U=null,z=0,V=null,G=t("<ul />").addClass(t(e).data("settings").classes.tokenList).click(function(e){var i=t(e.target).closest("li");i&&i.get(0)&&t.data(i.get(0),"tokeninput")?v(i):(U&&m(t(U),s.END),j(B))}).mouseover(function(i){var n=t(i.target).closest("li");n&&U!==this&&n.addClass(t(e).data("settings").classes.highlightedToken)}).mouseout(function(i){var n=t(i.target).closest("li");n&&U!==this&&n.removeClass(t(e).data("settings").classes.highlightedToken)}).insertBefore(R),W=t("<li />").addClass(t(e).data("settings").classes.inputToken).appendTo(G).append(B),q=t("<div>").addClass(t(e).data("settings").classes.dropdown).appendTo("body").hide(),Y=t("<tester/>").insertAfter(B).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:B.css("fontSize"),fontFamily:B.css("fontFamily"),fontWeight:B.css("fontWeight"),letterSpacing:B.css("letterSpacing"),whiteSpace:"nowrap"});R.val("");var X=t(e).data("settings").prePopulate||R.data("pre");t(e).data("settings").processPrePopulate&&t.isFunction(t(e).data("settings").onResult)&&(X=t(e).data("settings").onResult.call(R,X)),X&&X.length&&t.each(X,function(t,e){p(e),l(),B.attr("placeholder",null)}),t(e).data("settings").disabled&&h(!0),t.isFunction(t(e).data("settings").onReady)&&t(e).data("settings").onReady.call(),this.clear=function(){G.children("li").each(function(){0===t(this).children("input").length&&y(t(this))})},this.add=function(t){f(t)},this.remove=function(e){G.children("li").each(function(){if(0===t(this).children("input").length){var i=t(this).data("tokeninput"),n=!0;for(var r in e)if(e[r]!==i[r]){n=!1;break}n&&y(t(this))}})},this.getTokens=function(){return N},this.toggleDisabled=function(t){h(t)},u();var J=new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g")},t.TokenList.Cache=function(e){var i=t.extend({max_size:500},e),n={},r=0,s=function(){n={},r=0};this.add=function(t,e){r>i.max_size&&s(),n[t]||(r+=1),n[t]=e},this.get=function(t){return n[t]}}}(jQuery),function(t){t.InFieldLabels=function(e,i,n){var r=this;r.$label=t(e),r.label=e,r.$field=t(i),r.field=i,r.$label.data("InFieldLabels",r),r.showing=!0,r.init=function(){var e;r.options=t.extend({},t.InFieldLabels.defaultOptions,n),setTimeout(function(){""!==r.$field.val()?(r.$label.hide(),r.showing=!1):(r.$label.show(),r.showing=!0)},200),r.$field.focus(function(){r.fadeOnFocus()}).blur(function(){r.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(t){r.hideOnChange(t)}).bind("paste",function(){r.setOpacity(0)}).change(function(){r.checkForEmpty()}).bind("onPropertyChange",function(){r.checkForEmpty()}).bind("keyup.infieldlabel",function(){r.checkForEmpty()}),r.options.pollDuration>0&&(e=setInterval(function(){""!==r.$field.val()&&(r.$label.hide(),r.showing=!1,clearInterval(e))},r.options.pollDuration))},r.fadeOnFocus=function(){r.showing&&r.setOpacity(r.options.fadeOpacity)},r.setOpacity=function(t){r.$label.stop().animate({opacity:t},r.options.fadeDuration),r.showing=t>0},r.checkForEmpty=function(t){""===r.$field.val()?(r.prepForShow(),r.setOpacity(t?1:r.options.fadeOpacity)):r.setOpacity(0)},r.prepForShow=function(){r.showing||(r.$label.css({opacity:0}).show(),r.$field.bind("keydown.infieldlabel",function(t){r.hideOnChange(t)}))},r.hideOnChange=function(t){16!==t.keyCode&&9!==t.keyCode&&(r.showing&&(r.$label.hide(),r.showing=!1),r.$field.unbind("keydown.infieldlabel"))},r.init()},t.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"]},t.fn.inFieldLabels=function(e){var i=e&&e.enabledInputTypes||t.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var n,r,s=t(this).attr("for");s&&(n=document.getElementById(s),n&&(r=t.inArray(n.type,i),(-1!==r||"TEXTAREA"===n.nodeName)&&new t.InFieldLabels(this,n,e)))})}}(jQuery),function(t,e){function i(e,i){var r=e.nodeName.toLowerCase();if("area"===r){var s,a=e.parentNode,o=a.name;return e.href&&o&&"map"===a.nodeName.toLowerCase()?(s=t("img[usemap=#"+o+"]")[0],!!s&&n(s)):!1}return(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"==r?e.href||i:i)&&n(e)}function n(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.8.21",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,s=t(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,n&&(i-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),r&&(i-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?o["inner"+n].call(this):this.each(function(){t(this).css(a,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r=t.ui[e].prototype;for(var s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(t,e,i){var n=t.plugins[e];if(n&&t.element[0].parentNode)for(var r=0;r<n.length;r++)t.options[n[r][0]]&&n[r][1].apply(t.element,i)}},contains:function(t,e){return document.compareDocumentPosition?16&t.compareDocumentPosition(e):t!==e&&t.contains(e)},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,n,r,s,a){return t.ui.isOverAxis(e,n,s)&&t.ui.isOverAxis(i,r,a)}}))}(jQuery),function(t,e){if(t.cleanData){var i=t.cleanData;t.cleanData=function(e){for(var n,r=0;null!=(n=e[r]);r++)try{t(n).triggerHandler("remove")}catch(s){}i(e)}}else{var n=t.fn.remove;t.fn.remove=function(e,i){return this.each(function(){return i||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),n.call(t(this),e,i)})}}t.widget=function(e,i,n){var r,s=e.split(".")[0];e=e.split(".")[1],r=s+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r]=function(i){return!!t.data(i,e)},t[s]=t[s]||{},t[s][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var a=new i;a.options=t.extend(!0,{},a.options),t[s][e].prototype=t.extend(!0,a,{namespace:s,widgetName:e,widgetEventPrefix:t[s][e].prototype.widgetEventPrefix||e,widgetBaseClass:r},n),t.widget.bridge(e,t[s][e])},t.widget.bridge=function(i,n){t.fn[i]=function(r){var s="string"==typeof r,a=Array.prototype.slice.call(arguments,1),o=this;return r=!s&&a.length?t.extend.apply(null,[!0,r].concat(a)):r,s&&"_"===r.charAt(0)?o:(s?this.each(function(){var n=t.data(this,i),s=n&&t.isFunction(n[r])?n[r].apply(n,a):n;return s!==n&&s!==e?(o=s,!1):void 0}):this.each(function(){var e=t.data(this,i);e?e.option(r||{})._init():t.data(this,i,new n(r,this))}),o)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var r=i;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof i){if(n===e)return this.options[i];r={},r[i]=n}return this._setOptions(r),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,n){var r,s,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent,s)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(t){i=!1}),t.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=1==e.which,s="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return r&&!s&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0)):!0}},_mouseMove:function(e){return!t.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:function(t){},_mouseDrag:function(t){},_mouseStop:function(t){},_mouseCapture:function(t){return!0}})}(jQuery),function(t,e){t.ui=t.ui||{};var i=/left|center|right/,n=/top|center|bottom/,r="center",s={},a=t.fn.position,o=t.fn.offset;t.fn.position=function(e){if(!e||!e.of)return a.apply(this,arguments);e=t.extend({},e);var o,c,h,l=t(e.of),u=l[0],d=(e.collision||"flip").split(" "),p=e.offset?e.offset.split(" "):[0,0];return 9===u.nodeType?(o=l.width(),c=l.height(),h={top:0,left:0}):u.setTimeout?(o=l.width(),c=l.height(),h={top:l.scrollTop(),left:l.scrollLeft()}):u.preventDefault?(e.at="left top",o=c=0,h={top:e.of.pageY,left:e.of.pageX}):(o=l.outerWidth(),c=l.outerHeight(),h=l.offset()),t.each(["my","at"],function(){var t=(e[this]||"").split(" ");1===t.length&&(t=i.test(t[0])?t.concat([r]):n.test(t[0])?[r].concat(t):[r,r]),t[0]=i.test(t[0])?t[0]:r,t[1]=n.test(t[1])?t[1]:r,e[this]=t}),1===d.length&&(d[1]=d[0]),p[0]=parseInt(p[0],10)||0,1===p.length&&(p[1]=p[0]),p[1]=parseInt(p[1],10)||0,"right"===e.at[0]?h.left+=o:e.at[0]===r&&(h.left+=o/2),"bottom"===e.at[1]?h.top+=c:e.at[1]===r&&(h.top+=c/2),h.left+=p[0],h.top+=p[1],this.each(function(){var i,n=t(this),a=n.outerWidth(),l=n.outerHeight(),u=parseInt(t.curCSS(this,"marginLeft",!0))||0,f=parseInt(t.curCSS(this,"marginTop",!0))||0,g=a+u+(parseInt(t.curCSS(this,"marginRight",!0))||0),m=l+f+(parseInt(t.curCSS(this,"marginBottom",!0))||0),v=t.extend({},h);"right"===e.my[0]?v.left-=a:e.my[0]===r&&(v.left-=a/2),"bottom"===e.my[1]?v.top-=l:e.my[1]===r&&(v.top-=l/2),s.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),i={left:v.left-u,top:v.top-f},t.each(["left","top"],function(n,r){t.ui.position[d[n]]&&t.ui.position[d[n]][r](v,{targetWidth:o,targetHeight:c,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:g,collisionHeight:m,offset:p,my:e.my,at:e.at})}),t.fn.bgiframe&&n.bgiframe(),n.offset(t.extend(v,{using:e.using}))})},t.ui.position={fit:{left:function(e,i){var n=t(window),r=i.collisionPosition.left+i.collisionWidth-n.width()-n.scrollLeft();e.left=r>0?e.left-r:Math.max(e.left-i.collisionPosition.left,e.left)},top:function(e,i){var n=t(window),r=i.collisionPosition.top+i.collisionHeight-n.height()-n.scrollTop();e.top=r>0?e.top-r:Math.max(e.top-i.collisionPosition.top,e.top)}},flip:{left:function(e,i){if(i.at[0]!==r){var n=t(window),s=i.collisionPosition.left+i.collisionWidth-n.width()-n.scrollLeft(),a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,o="left"===i.at[0]?i.targetWidth:-i.targetWidth,c=-2*i.offset[0];e.left+=i.collisionPosition.left<0?a+o+c:s>0?a+o+c:0}},top:function(e,i){if(i.at[1]!==r){var n=t(window),s=i.collisionPosition.top+i.collisionHeight-n.height()-n.scrollTop(),a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,o="top"===i.at[1]?i.targetHeight:-i.targetHeight,c=-2*i.offset[1];e.top+=i.collisionPosition.top<0?a+o+c:s>0?a+o+c:0}}}},t.offset.setOffset||(t.offset.setOffset=function(e,i){/static/.test(t.curCSS(e,"position"))&&(e.style.position="relative");var n=t(e),r=n.offset(),s=parseInt(t.curCSS(e,"top",!0),10)||0,a=parseInt(t.curCSS(e,"left",!0),10)||0,o={top:i.top-r.top+s,left:i.left-r.left+a};"using"in i?i.using.call(e,o):n.css(o)},t.fn.offset=function(e){var i=this[0];return i&&i.ownerDocument?e?t.isFunction(e)?this.each(function(i){t(this).offset(e.call(this,i,t(this).offset()))}):this.each(function(){t.offset.setOffset(this,e)}):o.call(this):null}),function(){var e,i,n,r,a,o=document.getElementsByTagName("body")[0],c=document.createElement("div");e=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(var h in n)e.style[h]=n[h];e.appendChild(c),i=o||document.documentElement,i.insertBefore(e,i.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",r=t(c).offset(function(t,e){return e}).offset(),e.innerHTML="",i.removeChild(e),a=r.top+r.left+(o?2e3:0),s.fractions=a>21&&22>a}()}(jQuery),function(t,e){t.widget("ui.draggable",t.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,
scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(e),this.handle?(i.iframeFix&&t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var n=this.element[0],r=!1;n&&(n=n.parentNode);)n==document&&(r=!0);if(!r&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var s=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",e)!==!1&&s._clear()})}else this._trigger("stop",e)!==!1&&this._clear();return!1},_mouseUp:function(e){return this.options.iframeFix===!0&&t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=this.options.handle&&t(this.options.handle,this.element).length?!1:!0;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]!=this.element[0]&&!/(fixed|absolute)/.test(n.css("position"))&&n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),n=i[0];if(!n)return;var r=(i.offset(),"hidden"!=t(n).css("overflow"));this.containment=[(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0),(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0),(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderLeftWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderTopWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n)}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName),s=e.pageX,a=e.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var c=this.relative_container.offset();o=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]}else o=this.containment;e.pageX-this.offset.click.left<o[0]&&(s=o[0]+this.offset.click.left),e.pageY-this.offset.click.top<o[1]&&(a=o[1]+this.offset.click.top),e.pageX-this.offset.click.left>o[2]&&(s=o[2]+this.offset.click.left),e.pageY-this.offset.click.top>o[3]&&(a=o[3]+this.offset.click.top)}if(i.grid){var h=i.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;a=o&&(h-this.offset.click.top<o[1]||h-this.offset.click.top>o[3])?h-this.offset.click.top<o[1]?h+i.grid[1]:h-i.grid[1]:h;var l=i.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;s=o&&(l-this.offset.click.left<o[0]||l-this.offset.click.left>o[2])?l-this.offset.click.left<o[0]?l+i.grid[0]:l-i.grid[0]:l}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(t){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.extend(t.ui.draggable,{version:"1.8.21"}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("draggable"),r=n.options,s=t.extend({},i,{item:n.element});n.sortables=[],t(r.connectToSortable).each(function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i){var n=t(this).data("draggable"),r=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,i){var n=t(this).data("draggable"),r=this;t.each(n.sortables,function(s){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i){var n=t("body"),r=t(this).data("draggable").options;n.css("cursor")&&(r._cursor=n.css("cursor")),n.css("cursor",r.cursor)},stop:function(e,i){var n=t(this).data("draggable").options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),r=t(this).data("draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(e,i){var n=t(this).data("draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i){var n=t(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(e,i){var n=t(this).data("draggable"),r=n.options,s=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(r.axis&&"x"==r.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=s=n.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=s=n.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"==r.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=s=n.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=s=n.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"==r.axis||(e.pageY-t(document).scrollTop()<r.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"==r.axis||(e.pageX-t(document).scrollLeft()<r.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i){var n=t(this).data("draggable"),r=n.options;n.snapElements=[],t(r.snap.constructor!=String?r.snap.items||":data(draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i){for(var n=t(this).data("draggable"),r=n.options,s=r.snapTolerance,a=i.offset.left,o=a+n.helperProportions.width,c=i.offset.top,h=c+n.helperProportions.height,l=n.snapElements.length-1;l>=0;l--){var u=n.snapElements[l].left,d=u+n.snapElements[l].width,p=n.snapElements[l].top,f=p+n.snapElements[l].height;if(a>u-s&&d+s>a&&c>p-s&&f+s>c||a>u-s&&d+s>a&&h>p-s&&f+s>h||o>u-s&&d+s>o&&c>p-s&&f+s>c||o>u-s&&d+s>o&&h>p-s&&f+s>h){if("inner"!=r.snapMode){var g=Math.abs(p-h)<=s,m=Math.abs(f-c)<=s,v=Math.abs(u-o)<=s,y=Math.abs(d-a)<=s;g&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left)}var b=g||m||v||y;if("outer"!=r.snapMode){var g=Math.abs(p-c)<=s,m=Math.abs(f-h)<=s,v=Math.abs(u-a)<=s,y=Math.abs(d-o)<=s;g&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[l].snapping&&(g||m||v||y||b)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=g||m||v||y||b}else n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i){var n=t(this).data("draggable").options,r=t.makeArray(t(n.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(r.length){var s=parseInt(r[0].style.zIndex)||0;t(r).each(function(t){this.style.zIndex=s+t}),this[0].style.zIndex=s+r.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),r=t(this).data("draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(e,i){var n=t(this).data("draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t,e){var i=0;t.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var e,i=this,n=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(!i.options.disabled&&!i.element.propAttr("readOnly")){e=!1;var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:i._move("previousPage",n);break;case r.PAGE_DOWN:i._move("nextPage",n);break;case r.UP:i._keyEvent("previous",n);break;case r.DOWN:i._keyEvent("next",n);break;case r.ENTER:case r.NUMPAD_ENTER:i.menu.active&&(e=!0,n.preventDefault());case r.TAB:if(!i.menu.active)return;i.menu.select(n);break;case r.ESCAPE:i.element.val(i.term),i.close(n);break;default:clearTimeout(i.searching),i.searching=setTimeout(function(){i.term!=i.element.val()&&(i.selectedItem=null,i.search(null,n))},i.options.delay)}}}).bind("keypress.autocomplete",function(t){e&&(e=!1,t.preventDefault())}).bind("focus.autocomplete",function(){i.options.disabled||(i.selectedItem=null,i.previous=i.element.val())}).bind("blur.autocomplete",function(t){i.options.disabled||(clearTimeout(i.searching),i.closing=setTimeout(function(){i.close(t),i._change(t)},150))}),this._initSource(),this.menu=t("<ul></ul>").addClass("ui-autocomplete").appendTo(t(this.options.appendTo||"body",n)[0]).mousedown(function(e){var n=i.menu.element[0];t(e.target).closest(".ui-menu-item").length||setTimeout(function(){t(document).one("mousedown",function(e){e.target!==i.element[0]&&e.target!==n&&!t.ui.contains(n,e.target)&&i.close()})},1),setTimeout(function(){clearTimeout(i.closing)},13)}).menu({focus:function(t,e){var n=e.item.data("item.autocomplete");!1!==i._trigger("focus",t,{item:n})&&/^key/.test(t.originalEvent.type)&&i.element.val(n.value)},selected:function(t,e){var r=e.item.data("item.autocomplete"),s=i.previous;i.element[0]!==n.activeElement&&(i.element.focus(),i.previous=s,setTimeout(function(){i.previous=s,i.selectedItem=r},1)),!1!==i._trigger("select",t,{item:r})&&i.element.val(r.value),i.term=i.element.val(),i.close(t),i.selectedItem=r},blur:function(t,e){i.menu.element.is(":visible")&&i.element.val()!==i.term&&i.element.val(i.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),t.fn.bgiframe&&this.menu.element.bgiframe(),i.beforeunloadHandler=function(){i.element.removeAttr("autocomplete")},t(window).bind("beforeunload",i.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),t(window).unbind("beforeunload",this.beforeunloadHandler),t.Widget.prototype.destroy.call(this)},_setOption:function(e,i){t.Widget.prototype._setOption.apply(this,arguments),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(t(i||"body",this.element[0].ownerDocument)[0]),"disabled"===e&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t,e){r(t)},error:function(){r([])}})}):this.source=this.options.source},search:function(t,e){return t=null!=t?t:this.element.val(),this.term=this.element.val(),t.length<this.options.minLength?this.close(e):(clearTimeout(this.closing),this._trigger("search",e)!==!1?this._search(t):void 0)},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(n){e===i&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){!this.options.disabled&&t&&t.length?(t=this._normalize(t),this._suggest(t),this._trigger("open")):this.close()},close:function(t){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",t))},_change:function(t){this.previous!==this.element.val()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,e),this.menu.deactivate(),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new t.Event("mouseover"))},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItem(e,i)})},_renderItem:function(e,i){return t("<li></li>").data("item.autocomplete",i).append(t("<a></a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(t)||this.menu.last()&&/^next/.test(t)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}})}(jQuery),function(t){t.widget("ui.menu",{_create:function(){var e=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){t(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),e.select(i))}),this.refresh()},refresh:function(){var e=this,i=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");i.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){e.activate(i,t(this).parent())}).mouseleave(function(){e.deactivate()})},activate:function(t,e){if(this.deactivate(),this.hasScroll()){var i=e.offset().top-this.element.offset().top,n=this.element.scrollTop(),r=this.element.height();0>i?this.element.scrollTop(n+i):i>=r&&this.element.scrollTop(n+i-r+e.height())}this.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",t,{item:e})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(t){this.move("next",".ui-menu-item:first",t)},previous:function(t){this.move("prev",".ui-menu-item:last",t)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(t,e,i){if(!this.active)return void this.activate(i,this.element.children(e));var n=this.active[t+"All"](".ui-menu-item").eq(0);n.length?this.activate(i,n):this.activate(i,this.element.children(e))},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(e,this.element.children(".ui-menu-item:first"));var i=this.active.offset().top,n=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-i-n+t(this).height();return 10>e&&e>-10});r.length||(r=this.element.children(".ui-menu-item:last")),this.activate(e,r)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(e){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(e,this.element.children(".ui-menu-item:last"));var i=this.active.offset().top,n=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-i+n-t(this).height();return 10>e&&e>-10});r.length||(r=this.element.children(".ui-menu-item:first")),this.activate(e,r)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[t.fn.prop?"prop":"attr"]("scrollHeight")},select:function(t){this._trigger("selected",t,{item:this.active})}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.bind("mouseout",function(t){var i=$(t.target).closest(e);i.length&&i.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(i){var n=$(i.target).closest(e);!$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])&&n.length&&(n.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n.addClass("ui-state-hover"),n.hasClass("ui-datepicker-prev")&&n.addClass("ui-datepicker-prev-hover"),n.hasClass("ui-datepicker-next")&&n.addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){$.extend(t,e);for(var i in e)(null==e[i]||e[i]==undefined)&&(t[i]=e[i]);return t}function isArray(t){return t&&($.browser.safari&&"object"==typeof t&&t.length||t.constructor&&t.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.21"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){var i=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),t[n?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var r=this._get(e,"showOn");if(("focus"==r||"both"==r)&&t.focus(this._showDatepicker),"button"==r||"both"==r){var s=this._get(e,"buttonText"),a=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:a,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==a?s:$("<img/>").attr({src:a,alt:s,title:s}))),t[n?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var n=function(t){for(var e=0,i=0,n=0;n<t.length;n++)t[n].length>e&&(e=t[n].length,
i=n);return i};e.setMonth(n(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(n(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,r){var s=this._dialogInst;if(!s){this.uuid+=1;var a="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+a+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}if(extendRemove(s.settings,n||{}),e=e&&e.constructor==Date?this._formatDate(s,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,c=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+h,c/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==n||"span"==n)&&e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var r=e.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var r=e.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):n?"all"==e?$.extend({},n.settings):this._get(n,e):null;var r=e||{};if("string"==typeof e&&(r={},r[e]=i),n){this._curInst==n&&this._hideDatepicker();var s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max");extendRemove(n.settings,r),null!==a&&r.dateFormat!==undefined&&r.minDate===undefined&&(n.settings.minDate=this._formatDate(n,a)),null!==o&&r.dateFormat!==undefined&&r.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,o)),this._attachments($(t),n),this._autoSize(n),this._setDate(n,s),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,n=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);r[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,r[0]);var s=$.datepicker._get(e,"onSelect");if(s){var a=$.datepicker._formatDate(e);s.apply(e.input?e.input[0]:null,[a,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),n=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e));i&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(n){$.datepicker.log(n)}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!=t.nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),n=i?i.apply(t,[t,e]):{};if(n!==!1){extendRemove(e.settings,n),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var r=!1;$(t).parents().each(function(){return r|="fixed"==$(this).css("position"),!r}),r&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),s=$.datepicker._checkOffset(e,s,r),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),!e.inline){var a=$.datepicker._get(e,"showAnim"),o=$.datepicker._get(e,"duration"),c=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[a]?e.dpDiv.show(a,$.datepicker._get(e,"showOptions"),o,c):e.dpDiv[a||"show"](a?o:null,c),(!a||!o)&&c(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){var e=this;e.maxRows=4;var i=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t));var n=t.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(t),s=r[1],a=17;if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),t.dpDiv[(1!=r[0]||1!=r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var o=t.yearshtml;setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,o=document.documentElement.clientWidth+$(document).scrollLeft(),c=document.documentElement.clientHeight+$(document).scrollTop();return e.left-=this._get(t,"isRTL")?n-s:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+a?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>o&&o>n?Math.abs(e.left+n-o):0),e.top-=Math.min(e.top,e.top+r>c&&c>r?Math.abs(r+a):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];var n=$(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),n=this._get(e,"duration"),r=function(){$.datepicker._tidyDialog(e)};$.effects&&$.effects[i]?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),n,r):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1;var s=this._get(e,"onClose");s&&s.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id!=$.datepicker._mainDivId&&0==e.parents("#"+$.datepicker._mainDivId).length&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=$(t),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,e+("M"==i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=$(t),r=this._getInst(n[0]);r["selected"+("M"==i?"Month":"Year")]=r["draw"+("M"==i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(t,e,i,n){var r=$(t);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var s=this._getInst(r[0]);s.selectedDay=s.currentDay=$("a",n).html(),s.selectedMonth=s.currentMonth=e,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),n=this._getInst(i[0]);e=null!=e?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n);var r=this._get(n,"onSelect");r?r.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t));$(e).each(function(){$(this).val(r)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(null==t||null==e)throw"Invalid arguments";if(e="object"==typeof e?e.toString():e+"",""==e)return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,c=-1,h=-1,l=-1,u=-1,d=!1,p=function(e){var i=y+1<t.length&&t.charAt(y+1)==e;return i&&y++,i},f=function(t){var i=p(t),n="@"==t?14:"!"==t?20:"y"==t&&i?4:"o"==t?3:2,r=new RegExp("^\\d{1,"+n+"}"),s=e.substring(v).match(r);if(!s)throw"Missing number at position "+v;return v+=s[0].length,parseInt(s[0],10)},g=function(t,i,n){var r=$.map(p(t)?n:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),s=-1;if($.each(r,function(t,i){var n=i[1];return e.substr(v,n.length).toLowerCase()==n.toLowerCase()?(s=i[0],v+=n.length,!1):void 0}),-1!=s)return s+1;throw"Unknown name at position "+v},m=function(){if(e.charAt(v)!=t.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;y<t.length;y++)if(d)"'"!=t.charAt(y)||p("'")?m():d=!1;else switch(t.charAt(y)){case"d":l=f("d");break;case"D":g("D",r,s);break;case"o":u=f("o");break;case"m":h=f("m");break;case"M":h=g("M",a,o);break;case"y":c=f("y");break;case"@":var b=new Date(f("@"));c=b.getFullYear(),h=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((f("!")-this._ticksTo1970)/1e4);c=b.getFullYear(),h=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():d=!0;break;default:m()}if(v<e.length)throw"Extra/unparsed characters found in date: "+e.substring(v);if(-1==c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n>=c?0:-100)),u>-1)for(h=1,l=u;;){var w=this._getDaysInMonth(c,h-1);if(w>=l)break;h++,l-=w}var b=this._daylightSavingAdjust(new Date(c,h-1,l));if(b.getFullYear()!=c||b.getMonth()+1!=h||b.getDate()!=l)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,o=function(e){var i=d+1<t.length&&t.charAt(d+1)==e;return i&&d++,i},c=function(t,e,i){var n=""+e;if(o(t))for(;n.length<i;)n="0"+n;return n},h=function(t,e,i,n){return o(t)?n[e]:i[e]},l="",u=!1;if(e)for(var d=0;d<t.length;d++)if(u)"'"!=t.charAt(d)||o("'")?l+=t.charAt(d):u=!1;else switch(t.charAt(d)){case"d":l+=c("d",e.getDate(),2);break;case"D":l+=h("D",e.getDay(),n,r);break;case"o":l+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=c("m",e.getMonth()+1,2);break;case"M":l+=h("M",e.getMonth(),s,a);break;case"y":l+=o("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":l+=e.getTime();break;case"!":l+=1e4*e.getTime()+this._ticksTo1970;break;case"'":o("'")?l+="'":u=!0;break;default:l+=t.charAt(d)}return l},_possibleChars:function(t){for(var e="",i=!1,n=function(e){var i=r+1<t.length&&t.charAt(r+1)==e;return i&&r++,i},r=0;r<t.length;r++)if(i)"'"!=t.charAt(r)||n("'")?e+=t.charAt(r):i=!1;else switch(t.charAt(r)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":n("'")?e+="'":i=!0;break;default:e+=t.charAt(r)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,n,r=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null;i=n=this._getDefaultDate(t);var a=this._getFormatConfig(t);try{i=this.parseDate(r,s,a)||n}catch(o){this.log(o),s=e?"":s}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=s?i.getDate():0,t.currentMonth=s?i.getMonth():0,t.currentYear=s?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(i){}for(var n=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,r=n.getFullYear(),s=n.getMonth(),a=n.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=o.exec(e);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(c[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(r,s))}c=o.exec(e)}return new Date(r,s,a)},s=null==e||""===e?i:"string"==typeof e?r(e):"number"==typeof e?isNaN(e)?i:n(e):new Date(e.getTime());return s=s&&"Invalid Date"==s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,s=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),(r!=t.selectedMonth||s!=t.selectedYear)&&!i&&this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),n=this._get(t,"showButtonPanel"),r=this._get(t,"hideIfNoPrevNext"),s=this._get(t,"navigationAsDateFormat"),a=this._getNumberOfMonths(t),o=this._get(t,"showCurrentAtPos"),c=this._get(t,"stepMonths"),h=1!=a[0]||1!=a[1],l=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),p=t.drawMonth-o,f=t.drawYear;if(0>p&&(p+=12,f--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-a[0]*a[1]+1,d.getDate()));for(g=u&&u>g?u:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)p--,0>p&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-c,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+t.id+"', -"+c+", 'M');\" title=\""+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",y=this._get(t,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(f,p+c,1)),this._getFormatConfig(t)):y;var b=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+t.id+"', +"+c+", 'M');\" title=\""+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>",w=this._get(t,"currentText"),_=this._get(t,"gotoCurrent")&&t.currentDay?l:e;w=s?this.formatDate(w,_,this._getFormatConfig(t)):w;var x=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(t,"closeText")+"</button>",k=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(t,_)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+t.id+"');\">"+w+"</button>":"")+(i?"":x)+"</div>":"",T=parseInt(this._get(t,"firstDay"),10);T=isNaN(T)?0:T;for(var S=this._get(t,"showWeek"),C=this._get(t,"dayNames"),A=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),O=this._get(t,"monthNames"),P=this._get(t,"monthNamesShort"),D=this._get(t,"beforeShowDay"),E=this._get(t,"showOtherMonths"),H=this._get(t,"selectOtherMonths"),j=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),F="",M=0;M<a[0];M++){var N="";this.maxRows=4;for(var L=0;L<a[1];L++){var I=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),B=" ui-corner-all",R="";if(h){if(R+='<div class="ui-datepicker-group',a[1]>1)switch(L){case 0:R+=" ui-datepicker-group-first",B=" ui-corner-"+(i?"right":"left");break;case a[1]-1:R+=" ui-datepicker-group-last",B=" ui-corner-"+(i?"left":"right");break;default:R+=" ui-datepicker-group-middle",B=""}R+='">'}R+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+B+'">'+(/all|left/.test(B)&&0==M?i?b:v:"")+(/all|right/.test(B)&&0==M?i?v:b:"")+this._generateMonthYearHeader(t,p,f,u,d,M>0||L>0,O,P)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var U=S?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",z=0;7>z;z++){var V=(z+T)%7;U+="<th"+((z+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+C[V]+'">'+A[V]+"</span></th>"}R+=U+"</tr></thead><tbody>";var G=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,G));var W=(this._getFirstDayOfMonth(f,p)-T+7)%7,q=Math.ceil((W+G)/7),Y=h&&this.maxRows>q?this.maxRows:q;this.maxRows=Y;for(var X=this._daylightSavingAdjust(new Date(f,p,1-W)),J=0;Y>J;J++){R+="<tr>";for(var K=S?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(X)+"</td>":"",z=0;7>z;z++){var Q=D?D.apply(t.input?t.input[0]:null,[X]):[!0,""],Z=X.getMonth()!=p,tt=Z&&!H||!Q[0]||u&&u>X||d&&X>d;K+='<td class="'+((z+T+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(X.getTime()==I.getTime()&&p==t.selectedMonth&&t._keyEvent||j.getTime()==X.getTime()&&j.getTime()==I.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!E?"":" "+Q[1]+(X.getTime()==l.getTime()?" "+this._currentClass:"")+(X.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!E||!Q[2]?"":' title="'+Q[2]+'"')+(tt?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+t.id+"',"+X.getMonth()+","+X.getFullYear()+', this);return false;"')+">"+(Z&&!E?"&#xa0;":tt?'<span class="ui-state-default">'+X.getDate()+"</span>":'<a class="ui-state-default'+(X.getTime()==e.getTime()?" ui-state-highlight":"")+(X.getTime()==l.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X)}R+=K+"</tr>"}p++,p>11&&(p=0,f++),R+="</tbody></table>"+(h?"</div>"+(a[0]>0&&L==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),N+=R}F+=N}return F+=k+($.browser.msie&&parseInt($.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,F},_generateMonthYearHeader:function(t,e,i,n,r,s,a,o){var c=this._get(t,"changeMonth"),h=this._get(t,"changeYear"),l=this._get(t,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',d="";if(s||!c)d+='<span class="ui-datepicker-month">'+a[e]+"</span>";else{var p=n&&n.getFullYear()==i,f=r&&r.getFullYear()==i;d+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+t.id+"', this, 'M');\" >";for(var g=0;12>g;g++)(!p||g>=n.getMonth())&&(!f||g<=r.getMonth())&&(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+o[g]+"</option>");d+="</select>"}if(l||(u+=d+(!s&&c&&h?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!h)u+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=y(m[0]),w=Math.max(b,y(m[1]||""));for(b=n?Math.max(b,n.getFullYear()):b,w=r?Math.min(w,r.getFullYear()):w,t.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+t.id+"', this, 'Y');\" >";w>=b;b++)t.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",u+=t.yearshtml,t.yearshtml=null}return u+=this._get(t,"yearSuffix"),l&&(u+=(!s&&c&&h?"":"&#xa0;")+d),u+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"==i?e:0),r=t.drawMonth+("M"==i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"==i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,s)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return r=n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max");return(!i||e.getTime()>=i.getTime())&&(!n||e.getTime()<=n.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.21",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(){function ja(t,e){return t.width=e}function ka(t,e){return t.data=e}function la(t,e){return t.color=e}function ma(t,e){return t.currentTarget=e}function na(t,e){return t.keyCode=e}function oa(t,e){return t.blendmode=e}function pa(t,e){return t.depth=e}function qa(t,e){return t.type=e}function ra(t,e){return t.name=e}function sa(t,e){return t.nextSibling=e}function ta(t,e){return t.stop=e}function ua(t,e){return t.toString=e}function wa(t,e){return t.length=e}function xa(t,e){return t.actions=e}function ya(t,e){return t.pointerEvents=e}function za(t,e){return t.fontSize=e}function Aa(t,e){return t.lineHeight=e}function Ba(t,e){return t.target=e}function Ca(t,e){return t.call=e}function Da(t,e){return t.start=e}function Ea(t,e){return t.returnValue=e}function Fa(t,e){return t.apply=e}function Ga(t,e){return t.filters=e}function Ha(t,e){return t.height=e}function rf(t,e){this.Ag=t,this.Bg=e}if(!($.browser.msie&&parseInt($.browser.version,10)<=9)){var f=void 0,h=!0,j=null,k=!1,aa=encodeURIComponent,ba=window,m=Object,n=document,ca=isNaN,o=Math,da=Array,p=Number,fa=Error,ga=Boolean,ha=parseInt,ia=decodeURIComponent,r="appendChild",s="push",Ia="font",Ja="indent",Ka="valueOf",La="ascent",Ma="getParent",Na="getOwnPropertyNames",Oa="exec",Pa="width",Qa="bitmap",Ra="text",Sa="expand",Ta="slice",u="replace",Ua="matrix",Va="toFixed",Wa="setCapture",v="data",Xa="ceil",Ya="events",$a="leading",ab="floor",bb="charAt",cb="createTextNode",db="italic",eb="getNamedItem",fb="preventDefault",gb="setAttributeNS",w="indexOf",hb="defineProperties",ib="color",jb="trim",kb="capture",lb="ratio",mb="setTransform",nb="definition",ob="knockout",pb="linestyles",qb="getName",rb="charCode",sb="fillstyles",tb="createElement",x="defineProperty",ub="sounds",vb="keyCode",wb="blendmode",xb="firstChild",yb="sound",zb="forEach",Ab="states",y="setAttribute",Bb="play",Cb="handleEvent",Db="path",z="depth",A="type",Eb="method",Fb="childNodes",Gb="emSquareSize",B="name",C="bounds",Hb="code",E="nextSibling",Ib="tags",Jb="getPrototypeOf",Kb="clientX",Lb="releaseCapture",Mb="clientY",Nb="fill",Ob="stop",Pb="toString",Qb="bold",Rb="gradient",G="length",Sb="propertyIsEnumerable",Tb="create",H="prototype",Ub="descent",Vb="clip",Wb="result",Xb="index",Yb="inner",I="actions",Zb="variable",$b="angle",J="createElementNS",ac="ctrlKey",bc="split",cc="constructor",dc="stopPropagation",ec="glyphs",fc="records",gc="frameCount",hc="lineHeight",ic="hasOwnProperty",K="style",jc="body",kc="removeChild",lc="getOwnPropertyDescriptor",mc="target",L="call",nc="isEnabled",oc="line",pc="start",qc="multiply",rc="init",sc="charCodeAt",tc="colortransform",M="fireEvent",uc="substring",vc="paths",wc="trackAsMenu",xc="every",yc="contains",N="apply",zc="filters",Ac="reset",Bc="removeAttribute",Cc="navigator",Dc="parentNode",Ec="update",Gc="height",Hc="splice",Ic="leftMargin",Jc="join",Kc="isCaptured",Lc="transform",Mc="nodeValue",Nc="quality",Oc="toLowerCase",O,Pc=this,Qc=function(t){
t.Ia=function(){return t.Lg?t.Lg:t.Lg=new t}},Rc=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof da)return"array";if(t instanceof m)return e;var i=m[H][Pb][L](t);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof t[G]&&"undefined"!=typeof t[Hc]&&"undefined"!=typeof t[Sb]&&!t[Sb]("splice"))return"array";if("[object Function]"==i||"undefined"!=typeof t[L]&&"undefined"!=typeof t[Sb]&&!t[Sb]("call"))return"function"}else if("function"==e&&"undefined"==typeof t[L])return"object";return e},P=function(t){return t!==f},Sc=function(t){return"array"==Rc(t)},Tc=function(t){var e=Rc(t);return"array"==e||"object"==e&&"number"==typeof t[G]},Q=function(t){return"string"==typeof t},Uc=function(t){return"function"==Rc(t)},Vc=function(t){var e=typeof t;return"object"==e&&t!=j||"function"==e},Yc=function(t){return t[Wc]||(t[Wc]=++Xc)},Wc="closure_uid_"+o[ab](2147483648*o.random())[Pb](36),Xc=0,Zc=function(t,e,i){return t[L][N](t.bind,arguments)},$c=function(t,e,i){if(!t)throw fa();if(2<arguments[G]){var n=da[H][Ta][L](arguments,2);return function(){var i=da[H][Ta][L](arguments);return da[H].unshift[N](i,n),t[N](e,i)}}return function(){return t[N](e,arguments)}},R=function(t,e,i){return R=Function[H].bind&&-1!=Function[H].bind[Pb]()[w]("native code")?Zc:$c,R[N](j,arguments)},ad=function(t,e){var i=da[H][Ta][L](arguments,1);return function(){var e=da[H][Ta][L](arguments);return e.unshift[N](e,i),t[N](this,e)}},S=function(t,e){function i(){}i.prototype=e[H],t.r=e[H],t.prototype=new i,t[H].constructor=t},gd=function(t,e){return e?t[u](bd,"&amp;")[u](cd,"&lt;")[u](dd,"&gt;")[u](ed,"&quot;"):fd.test(t)?(-1!=t[w]("&")&&(t=t[u](bd,"&amp;")),-1!=t[w]("<")&&(t=t[u](cd,"&lt;")),-1!=t[w](">")&&(t=t[u](dd,"&gt;")),-1!=t[w]('"')&&(t=t[u](ed,"&quot;")),t):t},bd=/&/g,cd=/</g,dd=/>/g,ed=/\"/g,fd=/[&<>\"]/,hd=da[H],id=hd[w]?function(t,e,i){return hd[w][L](t,e,i)}:function(t,e,i){if(i=i==j?0:0>i?o.max(0,t[G]+i):i,Q(t))return Q(e)&&1==e[G]?t[w](e,i):-1;for(;i<t[G];i++)if(i in t&&t[i]===e)return i;return-1},jd=hd[zb]?function(t,e,i){hd[zb][L](t,e,i)}:function(t,e,i){for(var n=t[G],r=Q(t)?t[bc](""):t,s=0;n>s;s++)s in r&&e[L](i,r[s],s,t)},kd=hd[xc]?function(t,e,i){return hd[xc][L](t,e,i)}:function(t,e,i){for(var n=t[G],r=Q(t)?t[bc](""):t,s=0;n>s;s++)if(s in r&&!e[L](i,r[s],s,t))return k;return h},ld=function(t,e){var i,n=id(t,e);return(i=n>=0)&&hd[Hc][L](t,n,1),i},md=function(t){return hd.concat[N](hd,arguments)},nd=function(t){var e=t[G];if(e>0){for(var i=da(e),n=0;e>n;n++)i[n]=t[n];return i}return[]},od=function(t,e,i){return 2>=arguments[G]?hd[Ta][L](t,e):hd[Ta][L](t,e,i)},pd=function(t,e,i){for(var n in t)e[L](i,t[n],n,t)},qd=function(t){var e,i=[],n=0;for(e in t)i[n++]=t[e];return i},rd=function(t){var e,i=[],n=0;for(e in t)i[n++]=e;return i},sd=function(t){var e=Rc(t);if("object"==e||"array"==e){if(t.L)return t.L();var i,e="array"==e?[]:{};for(i in t)e[i]=sd(t[i]);return e}return t},td="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ud=function(t,e){for(var i,n,r=1;r<arguments[G];r++){n=arguments[r];for(i in n)t[i]=n[i];for(var s=0;s<td[G];s++)i=td[s],m[H][ic][L](n,i)&&(t[i]=n[i])}},vd,wd,xd,yd,zd=function(){return Pc[Cc]?Pc[Cc].userAgent:j};yd=xd=wd=vd=k;var Ad;if(Ad=zd()){var Bd=Pc[Cc];vd=0==Ad[w]("Opera"),wd=!vd&&-1!=Ad[w]("MSIE"),xd=!vd&&-1!=Ad[w]("WebKit"),yd=!vd&&!xd&&"Gecko"==Bd.product}var Cd=vd,Dd=wd,Ed=yd,Fd=xd,Gd=Pc[Cc],Hd=-1!=(Gd&&Gd.platform||"")[w]("Mac"),Id;t:{var Jd="",Kd;if(Cd&&Pc.opera)var Ld=Pc.opera.version,Jd="function"==typeof Ld?Ld():Ld;else if(Ed?Kd=/rv\:([^\);]+)(\)|;)/:Dd?Kd=/MSIE\s+([^\);]+)(\)|;)/:Fd&&(Kd=/WebKit\/(\S+)/),Kd)var Md=Kd[Oa](zd()),Jd=Md?Md[1]:"";if(Dd){var Nd,Od=Pc.document;if(Nd=Od?Od.documentMode:f,Nd>parseFloat(Jd)){Id=""+Nd;break t}}Id=Jd}var Pd=Id,Qd={},Rd=function(t){var e;if(!(e=Qd[t])){e=0;for(var i=(""+Pd)[u](/^[\s\xa0]+|[\s\xa0]+$/g,"")[bc]("."),n=(""+t)[u](/^[\s\xa0]+|[\s\xa0]+$/g,"")[bc]("."),r=o.max(i[G],n[G]),s=0;0==e&&r>s;s++){var a=i[s]||"",c=n[s]||"",h=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var d=h[Oa](a)||["","",""],p=l[Oa](c)||["","",""];if(0==d[0][G]&&0==p[0][G])break;e=((0==d[1][G]?0:ha(d[1],10))<(0==p[1][G]?0:ha(p[1],10))?-1:(0==d[1][G]?0:ha(d[1],10))>(0==p[1][G]?0:ha(p[1],10))?1:0)||((0==d[2][G])<(0==p[2][G])?-1:(0==d[2][G])>(0==p[2][G])?1:0)||(d[2]<p[2]?-1:d[2]>p[2]?1:0)}while(0==e)}e=Qd[t]=e>=0}return e},Sd={},Td=function(t){return Sd[t]||(Sd[t]=Dd&&!!n.documentMode&&n.documentMode>=t)},Ud=!Dd||Td(9);!Ed&&!Dd||Dd&&Td(9)||Ed&&Rd("1.9.1"),Dd&&Rd("9");var Vd=function(t,e){var i;i=t.className,i=Q(i)&&i.match(/\S+/g)||[];for(var n=od(arguments,1),r=i[G]+n[G],a=i,o=0;o<n[G];o++)0<=id(a,n[o])||a[s](n[o]);return t.className=i[Jc](" "),i[G]==r},Xd=function(t,e){pd(e,function(e,i){"style"==i?t[K].cssText=e:"class"==i?t.className=e:"for"==i?t.htmlFor=e:i in Wd?t[y](Wd[i],e):0==i.lastIndexOf("aria-",0)?t[y](i,e):t[i]=e})},Wd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},Zd=function(t,e,i){var r=arguments,a=r[0],o=r[1];if(!Ud&&o&&(o[B]||o[A])){if(a=["<",a],o[B]&&a[s](' name="',gd(o[B]),'"'),o[A]){a[s](' type="',gd(o[A]),'"');var c={};ud(c,o),o=c,delete o[A]}a[s](">"),a=a[Jc]("")}return a=n[tb](a),o&&(Q(o)?a.className=o:Sc(o)?Vd[N](j,[a].concat(o)):Xd(a,o)),2<r[G]&&Yd(n,a,r,2),a},Yd=function(t,e,i,n){function s(i){i&&e[r](Q(i)?t[cb](i):i)}for(;n<i[G];n++){var a=i[n];!Tc(a)||Vc(a)&&0<a.nodeType?s(a):jd($d(a)?nd(a):a,s)}},ae=function(t){for(var e;e=t[xb];)t[kc](e)},be=function(t){return t&&t[Dc]?t[Dc][kc](t):j},ce=function(t,e){var i=e[Dc];i&&i.replaceChild(t,e)},de=function(t,e){if(t[yc]&&1==e.nodeType)return t==e||t[yc](e);if("undefined"!=typeof t.compareDocumentPosition)return t==e||ga(16&t.compareDocumentPosition(e));for(;e&&t!=e;)e=e[Dc];return e==t},$d=function(t){if(t&&"number"==typeof t[G]){if(Vc(t))return"function"==typeof t.item||"string"==typeof t.item;if(Uc(t))return"function"==typeof t.item}return k},ee=function(t){return ee[" "](t),t};ee[" "]=function(){},!Dd||Td(9);var fe=!Dd||Td(9),ge=Dd&&!Rd("8");!Fd||Rd("528"),Ed&&Rd("1.9b")||Dd&&Rd("8")||Cd&&Rd("9.5")||Fd&&Rd("528"),Ed&&!Rd("8")||Dd&&Rd("9");var he=function(){};he[H].Mg=k,he[H].kd=function(){this.Mg||(this.Mg=h,this.Gb())},he[H].Gb=function(){this.Gi&&ie[N](j,this.Gi)};var ie=function(t){for(var e=0,i=arguments[G];i>e;++e){var n=arguments[e];Tc(n)?ie[N](j,n):n&&"function"==typeof n.kd&&n.kd()}},je=function(t,e){qa(this,t),Ba(this,e),ma(this,this[mc])};S(je,he),O=je[H],O.Gb=function(){delete this[A],delete this[mc],delete this.currentTarget},O.Wb=k,O.defaultPrevented=k,O.je=h,O.stopPropagation=function(){this.Wb=h},O.preventDefault=function(){this.defaultPrevented=h,this.je=k};var ke=function(t,e){t&&this[rc](t,e)};S(ke,je),O=ke[H],Ba(O,j),O.relatedTarget=j,O.offsetX=0,O.offsetY=0,O.clientX=0,O.clientY=0,O.screenX=0,O.screenY=0,O.button=0,na(O,0),O.charCode=0,O.ctrlKey=k,O.altKey=k,O.shiftKey=k,O.metaKey=k,O.Ta=j,O.init=function(t,e){var i=qa(this,t[A]);je[L](this,i),Ba(this,t[mc]||t.srcElement),ma(this,e);var n=t.relatedTarget;if(n){if(Ed){var r;t:{try{ee(n.nodeName),r=h;break t}catch(s){}r=k}r||(n=j)}}else"mouseover"==i?n=t.fromElement:"mouseout"==i&&(n=t.toElement);this.relatedTarget=n,this.offsetX=Fd||t.offsetX!==f?t.offsetX:t.layerX,this.offsetY=Fd||t.offsetY!==f?t.offsetY:t.layerY,this.clientX=t[Kb]!==f?t[Kb]:t.pageX,this.clientY=t[Mb]!==f?t[Mb]:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0,this.button=t.button,na(this,t[vb]||0),this.charCode=t[rb]||("keypress"==i?t[vb]:0),this.ctrlKey=t[ac],this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.Ta=t,t.defaultPrevented&&this[fb](),delete this.Wb},O.stopPropagation=function(){ke.r[dc][L](this),this.Ta[dc]?this.Ta[dc]():this.Ta.cancelBubble=h},O.preventDefault=function(){ke.r[fb][L](this);var t=this.Ta;if(t[fb])t[fb]();else if(Ea(t,k),ge)try{(t[ac]||112<=t[vb]&&123>=t[vb])&&na(t,-1)}catch(e){}},O.Gb=function(){ke.r.Gb[L](this),this.Ta=j,Ba(this,j),ma(this,j),this.relatedTarget=j};var le=function(){},me=0;O=le[H],O.key=0,O.uc=k,O.Hg=k,O.init=function(t,e,i,n,r,s){if(Uc(t))this.Fg=h;else{if(!(t&&t[Cb]&&Uc(t[Cb])))throw fa("Invalid listener argument");this.Fg=k}this.md=t,this.wg=e,this.src=i,qa(this,n),this.capture=!!r,this.df=s,this.Hg=k,this.key=++me,this.uc=k},O.handleEvent=function(t){return this.Fg?this.md[L](this.df||this.src,t):this.md[Cb][L](this.md,t)};var ne={},oe={},pe={},qe={},T=function(t,e,i,n,r){if(e){if(Sc(e)){for(var a=0;a<e[G];a++)T(t,e[a],i,n,r);return j}var n=!!n,o=oe;e in o||(o[e]={w:0,Ca:0}),o=o[e],n in o||(o[n]={w:0,Ca:0},o.w++);var c,o=o[n],h=Yc(t);if(o.Ca++,o[h]){for(c=o[h],a=0;a<c[G];a++)if(o=c[a],o.md==i&&o.df==r){if(o.uc)break;return c[a].key}}else c=o[h]=[],o.w++;return a=re(),a.src=t,o=new le,o[rc](i,a,t,e,n,r),i=o.key,a.key=i,c[s](o),ne[i]=o,pe[h]||(pe[h]=[]),pe[h][s](o),t.addEventListener?(t==Pc||!t.xg)&&t.addEventListener(e,a,n):t.attachEvent(e in qe?qe[e]:qe[e]="on"+e,a),i}throw fa("Invalid event type")},re=function(){var t=se,e=fe?function(i){return t[L](e.src,e.key,i)}:function(i){return i=t[L](e.src,e.key,i),i?void 0:i};return e},te=function(t,e,i,n,r){if(Sc(e)){for(var s=0;s<e[G];s++)te(t,e[s],i,n,r);return j}if(n=!!n,s=oe,t=e in s&&(s=s[e],n in s&&(s=s[n],t=Yc(t),s[t]))?s[t]:j,!t)return k;for(s=0;s<t[G];s++)if(t[s].md==i&&t[s][kb]==n&&t[s].df==r)return ue(t[s].key);return k},ue=function(t){if(!ne[t])return k;var e=ne[t];if(e.uc)return k;var i=e.src,n=e[A],r=e.wg,s=e[kb];if(i.removeEventListener?(i==Pc||!i.xg)&&i.removeEventListener(n,r,s):i.detachEvent&&i.detachEvent(n in qe?qe[n]:qe[n]="on"+n,r),i=Yc(i),r=oe[n][s][i],pe[i]){var a=pe[i];ld(a,e),0==a[G]&&delete pe[i]}return e.uc=h,r.Cg=h,ve(n,s,i,r),delete ne[t],h},ve=function(t,e,i,n){if(!n.ie&&n.Cg){for(var r=0,s=0;r<n[G];r++)n[r].uc?n[r].wg.src=j:(r!=s&&(n[s]=n[r]),s++);wa(n,s),n.Cg=k,0==s&&(delete oe[t][e][i],oe[t][e].w--,0==oe[t][e].w&&(delete oe[t][e],oe[t].w--),0==oe[t].w&&delete oe[t])}},we=function(t,e,i){var n=0,r=e==j,s=i==j,i=!!i;if(t==j)pd(pe,function(t){for(var a=t[G]-1;a>=0;a--){var o=t[a];!r&&e!=o[A]||!s&&i!=o[kb]||(ue(o.key),n++)}});else if(t=Yc(t),pe[t])for(var t=pe[t],a=t[G]-1;a>=0;a--){var o=t[a];!r&&e!=o[A]||!s&&i!=o[kb]||(ue(o.key),n++)}return n},ye=function(t,e,i,n,r){var s=1,e=Yc(e);if(t[e]){t.Ca--,t=t[e],t.ie?t.ie++:t.ie=1;try{for(var a=t[G],o=0;a>o;o++){var c=t[o];c&&!c.uc&&(s&=xe(c,r)!==k)}}finally{t.ie--,ve(i,n,e,t)}}return ga(s)},xe=function(t,e){var i=t[Cb](e);return t.Hg&&ue(t.key),i},se=function(t,e){if(!ne[t])return h;var i=ne[t],n=i[A],r=oe;if(!(n in r))return h;var a,o,r=r[n];if(!fe){var c;if(!(c=e))t:{c=["window","event"];for(var l=Pc;a=c.shift();){if(l[a]==j){c=j;break t}l=l[a]}c=l}if(a=c,c=h in r,l=k in r,c){if(0>a[vb]||a.returnValue!=f)return h;t:{var u=k;if(0==a[vb])try{na(a,-1);break t}catch(d){u=h}(u||a.returnValue==f)&&Ea(a,h)}}u=new ke,u[rc](a,this),a=h;try{if(c){for(var p=[],g=u.currentTarget;g;g=g[Dc])p[s](g);o=r[h],o.Ca=o.w;for(var m=p[G]-1;!u.Wb&&m>=0&&o.Ca;m--)ma(u,p[m]),a&=ye(o,p[m],n,h,u);if(l)for(o=r[k],o.Ca=o.w,m=0;!u.Wb&&m<p[G]&&o.Ca;m++)ma(u,p[m]),a&=ye(o,p[m],n,k,u)}else a=xe(i,u)}finally{p&&wa(p,0),u.kd()}return a}n=new ke(e,this);try{a=xe(i,n)}finally{n.kd()}return a},ze=function(){};S(ze,he),O=ze[H],O.xg=h,O.Ze=j,O.addEventListener=function(t,e,i,n){T(this,t,e,i,n)},O.removeEventListener=function(t,e,i,n){te(this,t,e,i,n)},O.dispatchEvent=function(t){var e=t[A]||t,i=oe;if(e in i){if(Q(t))t=new je(t,this);else if(t instanceof je)Ba(t,t[mc]||this);else{var n=t,t=new je(e,this);ud(t,n)}var r,a,n=1,i=i[e],e=h in i;if(e){for(r=[],a=this;a;a=a.Ze)r[s](a);a=i[h],a.Ca=a.w;for(var o=r[G]-1;!t.Wb&&o>=0&&a.Ca;o--)ma(t,r[o]),n&=ye(a,r[o],t[A],h,t)&&t.je!=k}if(k in i)if(a=i[k],a.Ca=a.w,e)for(o=0;!t.Wb&&o<r[G]&&a.Ca;o++)ma(t,r[o]),n&=ye(a,r[o],t[A],k,t)&&t.je!=k;else for(r=this;!t.Wb&&r&&a.Ca;r=r.Ze)ma(t,r),n&=ye(a,r,t[A],k,t)&&t.je!=k;t=ga(n)}else t=h;return t},O.Gb=function(){ze.r.Gb[L](this),we(this),this.Ze=j};var Be=function(t,e,i,n,r){if(!(Dd||Fd&&Rd("525")))return h;if(Hd&&r)return Ae(t);if(r&&!n||!i&&(17==e||18==e)||Dd&&n&&e==t)return k;switch(t){case 13:return!(Dd&&Td(9));case 27:return!Fd}return Ae(t)},Ae=function(t){if(t>=48&&57>=t||t>=96&&106>=t||t>=65&&90>=t||Fd&&0==t)return h;switch(t){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return h;default:return k}},Ce=function(t){switch(t){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return t}},De=function(t,e){t&&this.Ci(t,e)};S(De,ze),O=De[H],O.qd=j,O.le=j,O.hf=j,O.me=j,O.Fb=-1,O.Eb=-1;var Ee={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Fe={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ge=Dd||Fd&&Rd("525");O=De[H],O.di=function(t){Fd&&(17==this.Fb&&!t[ac]||18==this.Fb&&!t.altKey)&&(this.Eb=this.Fb=-1),Ge&&!Be(t[vb],this.Fb,t.shiftKey,t[ac],t.altKey)?this[Cb](t):this.Eb=Ed?Ce(t[vb]):t[vb]},O.ei=function(){this.Eb=this.Fb=-1},O.handleEvent=function(t){var e,i,n=t.Ta;Dd&&"keypress"==t[A]?(e=this.Eb,i=13!=e&&27!=e?n[vb]:0):Fd&&"keypress"==t[A]?(e=this.Eb,i=0<=n[rb]&&63232>n[rb]&&Ae(e)?n[rb]:0):Cd?(e=this.Eb,i=Ae(e)?n[vb]:0):(e=n[vb]||this.Eb,i=n[rb]||0,Hd&&63==i&&224==e&&(e=191));var r=e,s=n.keyIdentifier;e?e>=63232&&e in Ee?r=Ee[e]:25==e&&t.shiftKey&&(r=9):s&&s in Fe&&(r=Fe[s]),t=r==this.Fb,this.Fb=r,n=new He(r,i,t,n);try{this.dispatchEvent(n)}finally{n.kd()}},O.Ci=function(t,e){this.me&&this.detach(),this.qd=t,this.le=T(this.qd,"keypress",this,e),this.hf=T(this.qd,"keydown",this.di,e,this),this.me=T(this.qd,"keyup",this.ei,e,this)},O.detach=function(){this.le&&(ue(this.le),ue(this.hf),ue(this.me),this.me=this.hf=this.le=j),this.qd=j,this.Eb=this.Fb=-1},O.Gb=function(){De.r.Gb[L](this),this.detach()};var He=function(t,e,i,n){n&&this[rc](n,f),qa(this,"key"),na(this,t),this.charCode=e,this.repeat=i};S(He,ke);var Ie=function(){};Qc(Ie),Ie[H].Li=0,Ie[H].Ma=function(){return":"+(this.Li++)[Pb](36)},Ie.Ia();var Je="StopIteration"in Pc?Pc.StopIteration:fa("StopIteration"),Ke=function(){};Ke[H].next=function(){throw Je},Ke[H].nf=function(){return this};var Le=function(t){if("function"==typeof t.Db)t=t.Db();else if(Tc(t)||Q(t))t=t[G];else{var e,i=0;for(e in t)i++;t=i}return t},Me=function(t){if("function"==typeof t.Da)return t.Da();if(Q(t))return t[bc]("");if(Tc(t)){for(var e=[],i=t[G],n=0;i>n;n++)e[s](t[n]);return e}return qd(t)},Ne=function(t,e,i){if("function"==typeof t[xc])return t[xc](e,i);if(Tc(t)||Q(t))return kd(t,e,i);var n;if("function"==typeof t.Ub)n=t.Ub();else if("function"!=typeof t.Da)if(Tc(t)||Q(t)){n=[];for(var r=t[G],a=0;r>a;a++)n[s](a)}else n=rd(t);else n=f;for(var r=Me(t),a=r[G],o=0;a>o;o++)if(!e[L](i,r[o],n&&n[o],t))return k;return h},Oe=function(t,e){this.W={},this.J=[];var i=arguments[G];if(i>1){if(i%2)throw fa("Uneven number of arguments");for(var n=0;i>n;n+=2)this.set(arguments[n],arguments[n+1])}else t&&this.jd(t)};O=Oe[H],O.w=0,O.cf=0,O.Db=function(){return this.w},O.Da=function(){this.ce();for(var t=[],e=0;e<this.J[G];e++)t[s](this.W[this.J[e]]);return t},O.Ub=function(){return this.ce(),this.J.concat()},O.sc=function(t){return Pe(this.W,t)},O.qf=function(t){for(var e=0;e<this.J[G];e++){var i=this.J[e];if(Pe(this.W,i)&&this.W[i]==t)return h}return k},O.vc=function(t,e){if(this===t)return h;if(this.w!=t.Db())return k;var i=e||Qe;this.ce();for(var n,r=0;n=this.J[r];r++)if(!i(this.get(n),t.get(n)))return k;return h};var Qe=function(t,e){return t===e};O=Oe[H],O.Ha=function(){return 0==this.w},O.ce=function(){if(this.w!=this.J[G]){for(var t=0,e=0;t<this.J[G];){var i=this.J[t];Pe(this.W,i)&&(this.J[e++]=i),t++}wa(this.J,e)}if(this.w!=this.J[G]){for(var n={},e=t=0;t<this.J[G];)i=this.J[t],Pe(n,i)||(this.J[e++]=i,n[i]=1),t++;wa(this.J,e)}},O.get=function(t,e){return Pe(this.W,t)?this.W[t]:e},O.set=function(t,e){Pe(this.W,t)||(this.w++,this.J[s](t),this.cf++),this.W[t]=e},O.jd=function(t){var e;t instanceof Oe?(e=t.Ub(),t=t.Da()):(e=rd(t),t=qd(t));for(var i=0;i<e[G];i++)this.set(e[i],t[i])},O.L=function(){return new Oe(this)},O.nf=function(t){this.ce();var e=0,i=this.J,n=this.W,r=this.cf,s=this,a=new Ke;return a.next=function(){for(;;){if(r!=s.cf)throw fa("The map has changed since the iterator was created");if(e>=i[G])throw Je;var a=i[e++];return t?a:n[a]}},a};var Pe=function(t,e){return m[H][ic][L](t,e)},Re=function(t,e,i){this.Ab=t||j,this.si=!!i};O=Re[H],O.Rb=function(){if(!this.V&&(this.V=new Oe,this.w=0,this.Ab))for(var t=this.Ab[bc]("&"),e=0;e<t[G];e++){var i=t[e][w]("="),n=j,r=j;i>=0?(n=t[e][uc](0,i),r=t[e][uc](i+1)):n=t[e],n=ia(n[u](/\+/g," ")),n=this.gd(n),this.add(n,r?ia(r[u](/\+/g," ")):"")}},O.V=j,O.w=j,O.Db=function(){return this.Rb(),this.w},O.add=function(t,e){if(this.Rb(),this.ug(),t=this.gd(t),this.sc(t)){var i=this.V.get(t);Sc(i)?i[s](e):this.V.set(t,[i,e])}else this.V.set(t,e);return this.w++,this},O.Ha=function(){return this.Rb(),0==this.w},O.sc=function(t){return this.Rb(),t=this.gd(t),this.V.sc(t)},O.qf=function(t){var e=this.Da();return 0<=id(e,t)},O.Ub=function(){this.Rb();for(var t=this.V.Da(),e=this.V.Ub(),i=[],n=0;n<e[G];n++){var r=t[n];if(Sc(r))for(var a=0;a<r[G];a++)i[s](e[n]);else i[s](e[n])}return i},O.Da=function(t){this.Rb();var e=[];if(t)this.sc(t)&&(e=md(e,this.V.get(this.gd(t))));else for(var t=this.V.Da(),i=0;i<t[G];i++)e=md(e,t[i]);return e},O.set=function(t,e){if(this.Rb(),this.ug(),t=this.gd(t),this.sc(t)){var i=this.V.get(t);Sc(i)?this.w-=i[G]:this.w--}return this.V.set(t,e),this.w++,this},O.get=function(t,e){var i=t?this.Da(t):[];return 0<i[G]?i[0]:e},ua(O,function(){if(this.Ab)return this.Ab;if(!this.V)return"";for(var t=[],e=this.V.Ub(),i=0;i<e[G];i++)for(var n=e[i],r=aa(""+n),n=this.Da(n),a=0;a<n[G];a++){var o=r;""!==n[a]&&(o+="="+aa(""+n[a])),t[s](o)}return this.Ab=t[Jc]("&")}),O.ug=function(){this.Ab=j},O.L=function(){var t=new Re;return t.Ab=this.Ab,this.V&&(t.V=this.V.L()),t},O.gd=function(t){return t=""+t,this.si&&(t=t[Oc]()),t};var Se=function(t){this.W=new Oe,t&&this.jd(t)},Te=function(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+Yc(t):e.substr(0,1)+t};O=Se[H],O.Db=function(){return this.W.Db()},O.add=function(t){this.W.set(Te(t),t)},O.jd=function(t){for(var t=Me(t),e=t[G],i=0;e>i;i++)this.add(t[i])},O.Ha=function(){return this.W.Ha()},O.contains=function(t){return this.W.sc(Te(t))},O.Da=function(){return this.W.Da()},O.L=function(){return new Se(this)},O.vc=function(t){return this.Db()==Le(t)&&this.ti(t)},O.ti=function(t){var e=Le(t);return this.Db()>e?k:(!(t instanceof Se)&&e>5&&(t=new Se(t)),Ne(this,function(e){if("function"==typeof t[yc])e=t[yc](e);else if("function"==typeof t.qf)e=t.qf(e);else if(Tc(t)||Q(t))e=0<=id(t,e);else t:{for(var i in t)if(t[i]==e){e=h;break t}e=k}return e}))},O.nf=function(){return this.W.nf(k)},m[H].__defineGetter__&&!m[x]&&(m.defineProperty=function(t,e,i){if("value"in i)t[e]=i.value;else if("get"in i||"set"in i){var n=P(i.set)?i.set:function(){};t.__defineGetter__(e,P(i.get)?i.get:function(){}),t.__defineSetter__(e,n)}}),m[x]&&!m[hb]&&(m.defineProperties=function(t,e){for(var i in e)m[x](t,i,e[i])}),m.keys||(m.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||t==j)throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)t[ic](e)&&i[s](e);return i}),m[Na]||(m.getOwnPropertyNames=m.keys),m[H].__lookupGetter__&&!m[lc]&&(m.getOwnPropertyDescriptor=function(t,e){return t.__lookupGetter__(e)?{get:t.__lookupGetter__(e),set:t.__lookupSetter__(e)}:{value:t[e]}}),m[Tb]||(m.create=function(t){var e=function(){};return e.prototype=t,new e}),m[Jb]||(m.getPrototypeOf=function(t){return t.__proto__});var Ue=function(t,e){this.x=t,this.y=e};Ue[H].G=function(t){var e=this.x*t.B+this.y*t.u+t.I;this.x=this.x*t.A+this.y*t.t+t.H,this.y=e},Ue[H].L=function(){return new Ue(this.x,this.y)};var Ve=function(t,e,i,n,r,s){this.A=t,this.B=e,this.t=i,this.u=n,this.H=r,this.I=s},We=new Ve(1,0,0,1,0,0);O=Ve[H],O.Ie=function(){var t=this.A*this.u-this.B*this.t;return new Ve(this.u/t,-this.B/t,-this.t/t,this.A/t,(this.t*this.I-this.u*this.H)/t,(this.B*this.H-this.A*this.I)/t)},O.multiply=function(t){return new Ve(this.A*t.A+this.B*t.t,this.A*t.B+this.B*t.u,this.t*t.A+this.u*t.t,this.t*t.B+this.u*t.u,this.H*t.A+this.I*t.t+t.H,this.H*t.B+this.I*t.u+t.I)},O.Mi=function(t,e){return new Ve(this.A*t,this.B*t,this.t*e,this.u*e,this.H,this.I)},O.Ff=function(t,e){return new Ve(this.A*t,this.B*e,this.t*t,this.u*e,this.H*t,this.I*e)},O.Wf=function(){return o.sqrt(this.A*this.A+this.B*this.B)},O.Xf=function(){return o.sqrt(this.t*this.t+this.u*this.u)},O.translate=function(t,e){return new Ve(this.A,this.B,this.t,this.u,this.H+t,this.I+e)},O.re=function(t,e){return new Ve(this.A,this.B,this.t,this.u,t,e)},ua(O,function(){return"matrix("+this.A+" "+this.B+" "+this.t+" "+this.u+" "+this.H+" "+this.I+")"}),O.ki=function(){var t=this.Wf(),e=this.Xf();if(!t||!e)return{Pb:1,ad:1,angle:0,t:0,u:1};var i=this.A/t,n=this.B/t;return{Pb:t,ad:e,angle:-o.atan2(this.B,this.A),t:(i*this.t+n*this.u)/t,u:(i*this.u-n*this.t)/e}};var Xe=function(t,e,i){var n=o.cos(t[$b]),r=o.sin(t[$b]);return new Ve(t.Pb*n,-t.Pb*r,t.Pb*n*t.t+t.ad*r*t.u,t.ad*n*t.u-t.Pb*r*t.t,e,i)};Ve[H].vc=function(t){return!!t&&this.A==t.A&&this.B==t.B&&this.t==t.t&&this.u==t.u&&this.H==t.H&&this.I==t.I};var Ye=function(t,e,i,n,r,s,a,o){this.ha=t,this.oa=e,this.fa=i,this.na=n,this.ea=r,this.ma=s,this.Y=a,this.ia=o},Ze=new Ye(1,0,1,0,1,0,1,0);O=Ye[H],O.Bh=function(t){return new Ye(this.ha*t.ha,this.ha*t.oa+this.oa,this.fa*t.fa,this.fa*t.na+this.na,this.ea*t.ea,this.ea*t.ma+this.ma,this.Y*t.Y,this.Y*t.ia+this.ia)},Fa(O,function(t){return new $e(t.oc*this.ha+this.oa,t.nc*this.fa+this.na,t.mc*this.ea+this.ma,this.Zf(t.Oe))}),O.Zf=function(t){return this.Y*t+this.ia/255},O.vc=function(t){return t!=j&&this.ha==t.ha&&this.oa==t.oa&&this.fa==t.fa&&this.na==t.na&&this.ea==t.ea&&this.ma==t.ma&&this.Y==t.Y&&this.ia==t.ia},O.Rf=function(){return 1==this.ha&&0==this.oa&&1==this.fa&&0==this.na&&1==this.ea&&0==this.ma&&0==this.ia};var af=function(t,e,i,n){this.c=t,this.e=e,this.i=i,this.k=n,this.Ha()&&this.Ne()};O=af[H],O.Ne=function(){this.e=this.c=p.POSITIVE_INFINITY,this.k=this.i=p.NEGATIVE_INFINITY},O.L=function(){return new af(this.c,this.e,this.i,this.k)},O.expand=function(t,e){this.pc(t,e,0)},O.pc=function(t,e,i){this.c=o.min(this.c,t-i),this.i=o.max(this.i,t+i),this.e=o.min(this.e,e-i),this.k=o.max(this.k,e+i)},O.add=function(t){this.e+=t.e,this.k+=t.k,this.c+=t.c,this.i+=t.i},O.G=function(t){if(!this.Ha()){var e=new Ue(this.c,this.e),i=new Ue(this.c,this.k),n=new Ue(this.i,this.e),r=new Ue(this.i,this.k);this.Ne(),e.G(t),i.G(t),n.G(t),r.G(t),this[Sa](e.x,e.y),this[Sa](i.x,i.y),this[Sa](n.x,n.y),this[Sa](r.x,r.y)}},O.ph=function(t){return(this.c>=t.c&&this.c<=t.i||this.i>=t.c&&this.i<=t.i||t.c>=this.c&&t.c<=this.i)&&(this.e>=t.e&&this.e<=t.k||this.k>=t.e&&this.k<=t.k||t.e>=this.e&&t.e<=this.k)},O.contains=function(t,e){return t>=this.c&&t<=this.i&&e>=this.e&&e<=this.k},O.Qb=function(t){this.c=o.min(this.c,t.c),this.i=o.max(this.i,t.i),this.e=o.min(this.e,t.e),this.k=o.max(this.k,t.k)},O.Rg=function(t){this.c=o.max(this.c,t.c),this.i=o.min(this.i,t.i),this.e=o.max(this.e,t.e),this.k=o.min(this.k,t.k),this.Ha()&&this.Ne()},O.Ha=function(){return!(this.c<=this.i&&this.e<=this.k)},O.Sg=function(){return new af(-this.i,-this.k,-this.c,-this.e)},ja(O,function(){return o.max(this.i-this.c,0)}),Ha(O,function(){return o.max(this.k-this.e,0)});var bf=function(t){return new af(t.xmin,t.ymin,t.xmax,t.ymax)},U=function(t,e,i,n){if(Vc(t)){var e=e==j?m[Na](t):Q(e)?e[bc](","):e,r={};for(4&n&&(r.writable=h),2&n&&(r.configurable=h),1&n&&(r.enumerable=h),4&i&&(r.writable=k),2&i&&(r.configurable=k),1&i&&(r.enumerable=k),i=0;i<e[G];++i)(n=m[lc](t,e[i]))&&n.configurable&&m[x](t,e[i],r)}},cf=function(){};m[x](cf[H],"unwatch",{get:function(){return function(t){if(1>arguments[G])return k;var e=this[t];return delete this[t],this[t]=e,h}}}),m[x](cf[H],"watch",{get:function(){return function(t,e,i){if(2>arguments[G])return k;for(var n=this,r=j,s=this;m[Jb](s);s=m[Jb](s))if(m[lc](s,t)!=j){n=s,r=m[lc](s,t);break}if(!r||r.configurable){var a=n[t];delete n[t],m[x](n,t,{get:function(){return a},set:function(n){return a=e[L](this,t,a,n,i)},configurable:h})}return h}}});var df={};cf.registerClass=function(t,e){return 2>arguments[G]?k:(df[t]=e,h)},cf[H].addProperty=function(t,e,i){var n=m[lc](this,t);return t==j||""==t||!Uc(e)||i&&!Uc(i)||n&&!n.configurable?k:((!i||n&&!n.writable)&&(i=function(){}),m[x](this,t,{get:e,set:i,configurable:h,enumerable:!(n&&!n.enumerable)}),h)},U(cf,j,3),U(cf[H],j,3);var ef=function(t){m[x](this,"__swiffy_s",{value:t})},ff=function(t,e){for(var i=0;i<this._listeners[G];++i){var n=this._listeners[i],r=n[t.j().d(n,e)];Uc(r)&&r[L](n)}return 0<this._listeners[G]?h:void 0},gf=function(t){return ld(this._listeners,t),this._listeners[s](t),h},hf=function(t){return ld(this._listeners,t)};ef[H].initialize=function(t){t._listeners=[],t.addListener=gf,t.broadcastMessage=ad(ff,this.__swiffy_s),t.removeListener=hf,U(t,["addListener","broadcastMessage","removeListener","_listeners"],3)},U(ef[H],j,3);var jf=function(){this.J={},this.lf=this.yb=0,U(this,j,3)};jf[H].getAscii=function(){return this.lf},jf[H].getCode=function(){return this.yb},jf[H].isDown=function(t){return!!this.J[t]},jf[H].isToggled=function(){return k},m[hb](jf[H],{BACKSPACE:{value:8,writable:k},CAPSLOCK:{value:20,writable:k},CONTROL:{value:17,writable:k},DELETEKEY:{value:46,writable:k},DOWN:{value:40,writable:k},END:{value:35,writable:k},ENTER:{value:13,writable:k},ESCAPE:{value:27,writable:k},HOME:{value:36,writable:k},INSERT:{value:45,writable:k},LEFT:{value:37,writable:k},PGDN:{value:34,writable:k},PGUP:{value:33,writable:k},RIGHT:{value:39,writable:k},SHIFT:{value:16,writable:k},SPACE:{value:32,writable:k},TAB:{value:9,writable:k},UP:{value:38,writable:k}}),jf[H].bi=function(t){this.yb=t[vb],this.J[t[vb]]=k},jf[H].Th=function(t){this.yb=t[vb],this.lf=t[rb],this.J[t[vb]]=h};var kf={37:1,39:2,36:3,35:4,45:5,46:6,8:8,13:13,38:14,40:15,33:16,34:17,9:18,27:19};jf[H].ci=function(){var t=kf[this.yb];return t?t:this.lf},U(jf[H],j,3);var lf=function(t){this.p=t,U(this,j,3)};O=lf[H],O.La=h,O.update=function(){this.p.N[K].cursor=this.La?this.p.Pd()?"pointer":this.p.Ih()?"pointer":!this.p[Kc]()&&this.p.Jh()?"pointer":"default":"none"},O.Uh=function(){this.broadcastMessage("onMouseDown")},O.Sh=function(){this.broadcastMessage("onMouseMove")},O.Vh=function(){this.broadcastMessage("onMouseUp")},lf[H].hide=function(){var t=this.La;return this.La=k,this[Ec](),t},lf[H].show=function(){var t=this.La;return this.La=h,this[Ec](),t},U(lf[H],j,3);var pf=function(t,e,i,s){var a=j;switch(t[A]){case 2:e=mf("linearGradient",t,i),e[y]("x1",-1),e[y]("x2",1),e[y]("y1",0),e[y]("y2",0),a=e;break;case 3:case 4:e=mf("radialGradient",t,i),e[y]("r",1),e[y]("cx",0),e[y]("cy",0),t[Rb].f&&i[y](e,"fx",t[Rb].f),a=e;break;case 5:case 7:if(i=s.wa[t[Qa]]){var c=nf(of(t[Lc]),e[0]),h=i[Pa],i=i[Gc],e=n[J]("http://www.w3.org/2000/svg","g");e.id=Ie.Ia().Ma();var a=n[J]("http://www.w3.org/2000/svg","g"),l=n[J]("http://www.w3.org/2000/svg","g");l[r](e),l[r](a);for(var s=s.wa[t[Qa]].Ya(),u=o[ab](o.min[N](o,c.Ag)/h),d=o[Xa](o.max[N](o,c.Ag)/h);d>u;u++){var p=n[J]("http://www.w3.org/2000/svg","use");p[gb]("http://www.w3.org/1999/xlink","href","#"+s.id),p[y]("x",u*h),e[r](p)}for(h=o[ab](o.min[N](o,c.Bg)/i),c=o[Xa](o.max[N](o,c.Bg)/i);c>h;h++)s=n[J]("http://www.w3.org/2000/svg","use"),s[gb]("http://www.w3.org/1999/xlink","href","#"+e.id),s[y]("y",h*i),a[r](s);a=l}}if(t[Rb]&&t[Rb].spread)switch(t[Rb].spread){case 1:a[y]("spreadMethod","reflect");break;case 2:a[y]("spreadMethod","repeat")}if(t[Rb]&&t[Rb].interpolation)switch(t[Rb].interpolation){case 1:a[y]("color-interpolation","linearRGB")}return a!=j&&(a.id=Ie.Ia().Ma()),a},mf=function(t,e,i){if(t=n[J]("http://www.w3.org/2000/svg",t),t[y]("gradientUnits","userSpaceOnUse"),e[Lc]){var s=e[Lc].map(function(t){return of(t).Mi(16384,16384)});i[y](t,"gradientTransform",s)}else t[y]("gradientTransform","scale(16384)");for(s=0;s<e[Rb].stops[G];s++)t[r](qf(e[Rb].stops[s],i));return t},qf=function(t,e){var i=n[J]("http://www.w3.org/2000/svg","stop"),r=t.offset.map(function(t){return t/255});return e[y](i,"offset",r),e.He(i,"stop-color",t[ib]),e.Ge(i,"stop-opacity",t[ib]),i},nf=function(t,e){function i(t,e){r.x=t,r.y=e,r.G(n),a[s](r.x),o[s](r.y)}var n=t.Ie(),r=new Ue(0,0),a=[],o=[];return i(e.c,e.e),i(e.i,e.e),i(e.c,e.k),i(e.i,e.k),new rf(a,o)},sf=function(t,e){this.pb=t?t:new af,this.ca=e};sf[H].Qb=function(t){this.ca?t.ca?this.ca.Qb(t.ca):this.ca.Qb(t.pb):t.ca&&(this.ca=this.pb.L(),this.ca.Qb(t.ca)),this.pb.Qb(t.pb)},sf[H].G=function(t){this.ca&&this.ca.G(t),this.pb.G(t)},sf[H].L=function(){return new sf(this.pb.L(),this.ca?this.ca.L():f)},sf[H].Jb=function(){return this.ca?this.ca:this.pb};var uf=function(){this.Cb=this.tc=this.P=j,this.hd=[],this.l=new tf(this)};O=uf[H],O.ke=function(t){if(!this.P||this.P[z]>t)return this.Cb=j;var e=this.P;for(this.Cb&&t>=this.Cb[z]&&(e=this.Cb);e[E]&&e[E][z]<=t;)e=e[E];return this.Cb=e},O.he=function(t,e){var i=this.ke(e);i?(i[E]?i[E].eb=t:this.tc=t,t.eb=i,sa(t,i[E]),sa(i,t)):(this.P&&(this.P.eb=t,sa(t,this.P)),this.P=t,this.tc||(this.tc=t)),pa(t,e)},O.pd=function(t){this.Cb===t&&(this.Cb=this.Cb[E]),t.eb?sa(t.eb,t[E]):this.P=t[E],t[E]?t[E].eb=t.eb:this.tc=t.eb,sa(t,j),t.eb=j,pa(t,f)},O.Pf=function(t,e){this.he(t,e),vf(this.o,t)},O.Of=function(t){return(t=this.Sd(t))?this.We(t):j},O.We=function(t){return this.pd(t),t.Kg(32)?this.hd[s](t):this.kf(t),t},O.nh=function(t){for(var e=this.P;e;){var i=e,e=e[E];t(i)||this.We(i)}},O.Sd=function(t){var e=this.ke(t);return e&&e[z]==t?e:j},O.forEach=function(t){for(var e=this.P;e;){if(t(e))return h;e=e[E]}return k},O.Xh=function(t){for(var e=this.P;e;){if(e[qb]()==t)return e;e=e[E]}return j},O.Yh=function(){return this.tc?o.max(0,this.tc[z]+1):0},O.kf=function(t){wf(this.o,t),t.s(),pa(t,f)},O.s=function(){for(;this.P;){var t=this.P;this.pd(t),this.kf(t)}},O.ub=function(){for(var t=this.P;t;)t.ub(),t=t[E]},O.Ph=function(){if(0<this.hd[G]){for(var t=0;t<this.hd[G];t++)this.kf(this.hd[t]);this.hd=[]}},O.Vf=function(t){this.o=t;for(var e=this.P;e;)vf(t,e),e=e[E]},O.gf=function(t,e){this.o&&(wf(this.o,t),e&&vf(this.o,t,e))},O.ef=function(t,e){t>e&&(e=t=e);var i=this.ke(t),n=this.ke(e);i&&i[z]==t?this.pd(i):i=j,n&&n[z]==e?this.pd(n):n=j,i&&this.he(i,e),n&&this.he(n,t)},O.Ch=function(t){var e=o.min(-16384,this.P[z])-1;this.pd(t),this.he(t,e)};var vf=function(t,e,i){if(t&&(P(i)||(i=e[qb]()),i)){var n=e.a.j(),r=n.d(t,i);t[ic](r)||(t[n.hb(t,i)]=e.z()?e.S():t)}},wf=function(t,e){if(t){var i=e.z()?e.S():t,n=e[qb](),r=e.a.j();n&&r&&(n=r.d(t,n)),n&&i===t[n]&&delete t[n]}},tf=function(t){this.n=t,this.kc=[]};O=tf[H],O.Pe=function(){return this.D||(this.D=n[J]("http://www.w3.org/2000/svg","g")),this.D},O.O=function(t){this.rh();for(var e=[],i=this.n.P,n=j;i;){for(var r=i.l;0<e[G]&&i[z]>e[e[G]-1].Ec;)e.pop();r.O(t),i.M=0,i.lb=0,r.qh(e),this.kc[s](i),r=r.Ya(),n=n?n[E]:this.D[xb],n!=r&&(this.D.insertBefore(r,n),n=r),i.yf()&&!(i instanceof xf)&&e[s](i),i=i[E]}for(n=n?n[E]:this.D[xb];n;)t=n,n=n[E],this.D[kc](t)},O.Kb=function(t,e){for(var i=this.n.P;i;){var n=i.l;n.Kb(t,e),n.ac&&n.Fc(),i=i[E]}},O.Ya=function(){return this.D},O.rh=function(){for(var t=this.kc[G]-1;t>=0;--t){var e=this.kc[t],i=e.l;e.nb&&(i.s(),this.D[kc](i.Ya()))}this.kc=[]},O.s=function(){for(var t=0;t<this.kc[G];++t)this.kc[t].l.s()},O.Na=function(){for(var t=this.n.P;t;)t.l.Na(),t=t[E]};var yf=function(t){this.a=t,this.Ec=f,this.Ee="",this.qa=j,sa(this,j),this.eb=j,this.lb=this.M=0,this.sa=7,this.X=[],this.La=h,this.Ib=0,this.nb=this.Bf=k,this.Za=We,this.ec=j,this.Ea=Ze,this.q(4),this.Xa=this.Ea,this.ud=Ze,this.ob=this.yd=j};O=yf[H],O.vb=function(t){m[x](t,"__swiffy_d",{value:this})},O.$f=function(){var t=this.qa;t?(4&this.M||2048&t.M)&&(t=t.Xa.Bh(this.Ea),this.Jc?(this.ud=t,this.Xa=Ze):(this.ud=Ze,this.Xa=t),this.q(2048)):4&this.M&&(this.Xa=this.Ea,this.q(2048)),this.Ue(function(t){t.$f()})},O.Ka=function(){return 1&this.sa&&(this.Nh=this.qa?this.Za[qc](this.qa.Ka()):this.Za,this.sa^=1),this.Nh},O.Yb=function(){return 2&this.sa&&(this.ai=this.Ka().Ie(),this.sa^=2),this.ai},O.Ue=function(){},
O.map=function(t){return t(this)},O.Xc=function(){this.o=new V,this.vb(this.o)},O.lh=function(){return!!this.o},O.S=function(){return this.o||this.Xc(),this.o},O.Ga=function(){this.Ei=h},O.ig=function(){return!!this.Ei},O.setTransform=function(t){this.Za!=t&&(this.q(1),this.Za=t,this.ec=j,this.qg(),this.qa&&this.qa.Zc())},O.wc=function(){return this.ec||(this.ec=this.Za.ki()),this.ec},O.jf=function(){var t=this.ec;t&&(this[mb](Xe(t,this.Za.H,this.Za.I)),this.ec=t)},O.qg=function(){this.sa|=3,this.q(1024),this.Ue(function(t){t.qg()})},O.Zc=function(){this.sa|=4,this.q(8192),this.qa&&this.qa.Zc()},O.la=function(){return this.Za},O.yf=function(){return P(this.Ec)},O.ye=function(t){this.Ec!=t&&(this.q(16384),this.Ec=t)},O.q=function(t){var e=this.M|t;e!=this.M&&this.qa!=j&&this.qa.Dg(t),this.M=e},O.Dg=function(t){!this.lb&&this[Ma]()!=j&&this[Ma]().Dg(t),this.lb|=t},O.Nd=function(t){this.Ib=t},O.s=function(){this.nb=h},O.ub=function(){this.Bf=h},O.mb=function(t){this.Ea.vc(t)||(this.q(4),this.Ea=t)},O.Bd=function(t){this.Jc!=t&&(this.q(4096),this.q(4),this.Jc=t)},O.Yc=function(t){if(this.yd!=t){this.q(16384);var e=this.yd;this.ob&&this.ob.Yc(j),e&&(e.ob=j,e.q(16384)),t&&(t.Yc(j),t.ye(f),t.ob&&t.ob.Yc(j),t.ob=this,t.q(16384)),this.yd=t}},O.Cd=function(t){this.X!=t&&(this.q(2),this.X=t)},O.qb=function(t){t=""+t,t!=this.Ee&&this.qa&&this.qa.gf(this,t),this.Ee=t},O.getName=function(){return this.Ee},O.Kd=function(t){this.qa=t},O.getParent=function(){return this.qa},O.Pi=function(t){this.La!=t&&(this.q(8),this.La=t)},O.z=function(){return k},O.Kg=function(){return k},O.Va=function(){return 4&this.sa&&(this.hi=this.xc(),this.sa^=4),this.hi},O.Fa=function(){},Da(O,function(){});var zf=function(t){this.b=t,this.cc=this.ya=this.dc=this.za=j,this.De=[],this.X=[],this.Hb=j,this.Cc=1,this.R=[],this.ac=k};O=zf[H],O.Ya=function(){return this.D},O.Ye=function(t){return Af(t,this.b.Xa)},O.ji=function(t){return Bf(t,this.b.Xa)},O.O=function(t){if(this.b.M||this.b.lb)if(this.b.yf()||this.b.ob!=f){this.ac||(this.D&&this.Fc(),this.Oa=this.D=n[J]("http://www.w3.org/2000/svg","clipPath"),this.Oa.id=this.Ed(),this.ac=h);var t=We,e=this.b.ob,i=this.b[Ma]();e&&e[Ma]()!=i&&(t=i.Ka()),ae(this.D),this.Kb(this.D,t),this.b.M=0,this.b.lb=0}else{if(this.ac&&this.Fc(),this.Oa||(this.D=this.Oa=this.Qc(t),this.Nc&&(this.Oa.id=this.Nc)),t=this.b.M,8&t&&this.Oa[y]("display",this.b.La?"inline":"none"),2048&t&&(t|=4096),4096&t&&this.eh()&&(t|=2),1&t&&(this.Oa[y]("transform",this.Jf()),this.Na()),2&t){if(t|=2048,Cf){for(e="SourceGraphic",this.za&&(this.X=[],ae(this.za),this.Hb=j),this.Cc=1,i=0;i<this.b.X[G];++i){var r=new Df[this.b.X[i][A]](this,this.b.X[i]);if(r){this.X[s](r),r[N](e);var e=r[Wb](),a=r.region;this.Hb==j?this.Hb=a:a!=j&&this.Hb.add(a),this.Cc=o.max(this.Cc,r.Kf())}}this.dc&&(r=this.dc,this.X[s](r),r[N](e),r[Wb]()),this.Lf(),this.ya&&(0<this.za[Fb][G]?this.ya[y]("filter","url(#"+this.za.id+")"):this.ya[Bc]("filter"))}}else this.za&&this.Lf();this.fh(),2048&t&&this.Be()}},O.Kb=function(){},O.Jf=function(){var t=this.b.Za[Pb]();return this.we&&(t+=" "+this.we[Pb]()),t};var Ef=function(t){var e=n[J]("http://www.w3.org/2000/svg","g");return ce(e,t),e[r](t),e};O=zf[H],O.qh=function(t){if(!this.ac){var e=0,i=this.De,t=t[Ta](0),n=this.b.yd;n&&t[s](n);for(var n=o.min(i[G],t[G]),r=this.cc;n>e;)i[e]!=t[e]&&r[y]("clip-path","url(#"+t[e].l.Ed()+")"),r=r[xb],++e;if(t[G]>n)for(n=t[G],0==e&&(r?(i=r,r=r[xb]):(r=this.D,this.D=this.cc=i=Ef(r)),i[y]("clip-path","url(#"+t[e].l.Ed()+")"),++e);n>e;)i=Ef(r),i[y]("clip-path","url(#"+t[e].l.Ed()+")"),++e;else if(i[G]>n)for(n=i[G],0==e&&(r[Bc]("clip-path"),r=r[xb],++e);n>e;)i=r[xb],ce(i,r),r=i,++e;this.De=t}},O.Ed=function(){return P(this.Nc)||(this.Nc=Ie.Ia().Ma(),this.Oa&&(this.Oa.id=this.Nc)),this.Nc},O.s=function(){be(this.za)},O.Fc=function(){this.s(),this.D=this.Oa=this.cc=this.za=j,this.R=[],this.X=[],this.De=[],this.ac=k,this.b.M=-1},O.xa=function(){return this.za==j&&(this.za=n[J]("http://www.w3.org/2000/svg","filter"),this.za.id=Ie.Ia().Ma(),this.b.a.Zb[r](this.za),this.ya==j&&(this.ya=n[J]("http://www.w3.org/2000/svg","g"),ce(this.ya,this.D),this.cc==j&&(this.cc=Ef(this.D)),this.ya[r](this.cc),this.D=this.ya)),this.za},O.Lf=function(){if(this.Hb!=j){var t=this.b.a,e=this.b[Ma]().Yb();this.b[Ma]().Ka();var i=this.b.Va().pb.L();if(i.G(this.b.Ka()),i.add(this.Hb),t=new af(0,0,20*t.td,20*t.sd),t.add(this.Hb.Sg()),i.Rg(t),t=this.xa(),i.Ha())t[y]("width",0),t[y]("height",0);else{var n=o[Xa]((i.i-i.c)/20),r=o[Xa]((i.k-i.e)/20),s=n,a=r;n*r>5e4&&(s=o[ab](s/this.Cc),a=o[ab](a/this.Cc)),i=i.L(),i.G(e),i.c-=20,i.e-=20,i.i+=20,i.k+=20,t[y]("filterUnits","userSpaceOnUse"),t[y]("x",i.c),t[y]("y",i.e),t[y]("width",i.i-i.c),t[y]("height",i.k-i.e),n>s?t[y]("filterRes",s+" "+a):t[Bc]("filterRes")}}},O.fh=function(){for(var t=0;t<this.X[G];++t)this.X[t].O()},O.eh=function(){var t=this.b,e=t.ud;if(1<t.Jc||1==t.Jc&&!e.Rf()){if(!this.dc)return this.dc=new Ff(this),this.ya&&this.ya[Bc]("opacity"),h}else if(t=e.Y[Va](3),(1!=t||this.ya)&&(this.xa(),this.ya[y]("opacity",t)),this.dc)return this.dc=j,h;return k},O.Tg=function(t,e){this.R[s](function(){t[y]("opacity",this.ji(e)[Va](3))})},O.Ad=function(t,e,i){this.R[s](function(){var n=this.Ye(i);t[y](e,n[Pb]()),t[y](e+"-opacity",n.Oe[Va](3))})},O.Be=function(){for(var t=this.R,e=0;e<t[G];++e)t[e][L](this);if(this.X)for(e=0;e<this.X[G];++e)this.X[e].Be()},O.Na=function(){};var Gf=function(){xa(this,[])},Hf=function(t){yf[L](this,t),this.Ra=1,this.Ld=k,this.Tc={},this.Af=h,this.Dd=2096896};S(Hf,yf);var If={cj:1,aj:2,gj:4,ej:8,fj:16,mj:32,Zi:64,dj:128,kj:256,lj:512,jj:1024,ij:2048,hj:4096,Wi:8192,Yi:16384,Vi:32768,Xi:65536,$i:131072,Ui:262144,Ti:524288,bj:1048576},Jf={4:"onMouseUp",8:"onMouseDown",16:"onMouseMove",32:"onUnload",64:"onEnterFrame",128:"onLoad",16384:"onDragOver",65536:"onDragOver",256:"onRollOut",512:"onRollOver",1024:"onReleaseOutside",2048:"onRelease",4096:"onPress",8192:"onDragOut",32768:"onDragOut"},Kf=function(t,e){m[x](this,t,{value:e,configurable:h,writable:h,enumerable:h});var i=this.__swiffy_d;i&&i.Je()},Lf=function(){};O=Hf[H],O.Jd=function(t){this.Dd|=t},O.Kg=function(t){return this.Tc[t]&&0<this.Tc[t][I][G]},O.Jg=function(t){var e=this.Tc[t];return e||(e=new Gf,this.Tc[t]=e),e},O.kg=function(t,e,i){for(var n in If){var r=If[n];if(t&r){this.Jd(r);var a=this.Jg(r),o={};o.Tf=new Mf(i,this.Ig()),1048576&r&&(o.Uf=function(t){return t.getKey().ci()==e},o.stopPropagation=h),a[I][s](o),130816&r&&this.Je()}}},O.vi=function(t,e){for(var i in If){var n=If[i];t&n&&(this.Jg(n).sound=e)}},O.isEnabled=function(){return this.Ld&&this.S().enabled!=k&&!this.nb},O.Je=function(){!this.Ld&&this.Af&&(this.q(128),this.Ld=h)},O.fireEvent=function(t){var e=k;if(this.Dd&t){var i=this.a.j(),n=this.Tc[t];if(n){for(var r=0;r<n[I][G];++r){var s=n[I][r];(!s.Uf||s.Uf(this.a))&&(s.Tf&&i.cg(s.Tf),s[dc]&&(e=h))}n[yb]&&this.a.jc().dg(n[yb])}var a=Jf[t];if(a){var o=this;i.Yf(function(){if(o.lh()){var t=o.S(),e=i.d(t,a);t[e]&&t[e]()}})}}return e},O.ka=function(t){this.Ra!=t&&(this.Ra=t)},O.trackAsMenu=function(){return k},O.Qd=function(t){this[nc]()&&(this.a.uh(this),this.a[Kc]()==k&&1==this.Ra?(this.ka(2),this[M](512)):this[wc]()&&this.a.Pd()==k&&1==this.Ra?(this.ka(4),this[M](16384)):this.a.Uc(this)&&2==this.Ra&&(this.ka(4),this[M](65536)),this.a.$(),t[dc]())},O.Yd=function(t){this.a.Re(this),this[nc]()?(this.a[Kc]()==k&&2==this.Ra?(this.ka(1),this[M](256)):this[wc]()&&this.a.Pd()==k&&4==this.Ra?(this.ka(1),this[M](8192)):this.a.Uc(this)&&4==this.Ra&&(this.ka(2),this[M](32768)),this.a.$(),t&&t[dc]()):this.ka(1)},O.wd=function(t){this[nc]()?(this[wc]()?this.a[Wa](this):this.a[Wa](this,h,R(this.yh,this)),t[dc](),this.ka(4),this[M](4096),this.a.$()):(this.a.Re(this),this.ka(1))},O.vd=function(t){if(this[nc]()){var e=this[wc]()&&this.a.Pd()==k||this.a.Uc(this);this.a[Lb](this),t[dc](),this.ka(2),e?this[M](2048):this[M](512),this.a.$()}else this.a.Re(this),this.ka(1)},O.yh=function(){this[nc]()&&(this.ka(1),this[M](1024),this.a.$())};var Nf=function(t){zf[L](this,t),this.pa=[]};S(Nf,zf),O=Nf[H],O.O=function(t){if(Nf.r.O[L](this,t),128&this.b.M&&this.b.Ld){t=this.Td(),ya(t[K],"visiblePainted");var e,i=this.b;"createTouch"in n?(e=T(t,"touchmove",this.ue,h,this),this.pa[s](e),e=T(t,"touchstart",this.ve,h,this),this.pa[s](e),e=T(t,"touchend",this.te,h,this)):(e=T(t,"mouseover",this.Qd,h,this),this.pa[s](e),e=T(t,"mouseout",this.se,h,this),this.pa[s](e),e=T(t,"mousedown",i.wd,h,i),this.pa[s](e),e=T(t,"mouseup",i.vd,h,i)),this.pa[s](e)}},O.se=function(t){var e=t.relatedTarget;e&&de(this.Td(),e)?t[dc]():this.b.Yd(t)},O.Qd=function(t){var e=t.relatedTarget;e&&de(this.Td(),e)?t[dc]():this.b.Qd(t)},O.ue=function(){this.b.a.Uc(this.b)&&(this.b[M](8192),this.b.a[Lb](this.b.a))},O.ve=function(t){1==t.Ta.touches[G]&&(this.b.Qd(t),this.b.wd(t))},O.te=function(t){this.b.a.Uc(this.b)&&this.b.vd(t)},O.s=function(){Nf.r.s[L](this);for(var t=0;t<this.pa[G];t++)ue(this.pa[t])};var Of=function(t){Hf[L](this,t),this.n=new uf};S(Of,Hf),O=Of[H],O.s=function(){Of.r.s[L](this),this.n.s()},O.xc=function(){var t=new sf;return this.n[zb](function(e){var i=e.Va().L();i.G(e.la()),t.Qb(i)}),t},O.map=function(t){var e=Of.r.map[L](this,t);return e=e||this.n[zb](function(e){return e.map(t)})},O.Ue=function(t){this.n[zb](t)},O.z=function(){return h},O.ic=function(t,e){this.q(16),t[Ma]()!=j&&t[Ma]()[kc](t),t.Kd(this),this.n.Pf(t,e)},O.removeChild=function(t){this.q(16),this.n.We(t),t.ub(),t.Kd(j)},O.Kc=function(t){this.q(16),(t=this.n.Of(t))&&(t.ub(),t.Kd(j))},O.vb=function(t){Of.r.vb[L](this,t),this.n.Vf(t)},O.gf=function(t,e){this.n.gf(t,e)},O.Xc=function(){this.o=new Pf,this.vb(this.o)},O.ef=function(t,e){this.q(16),this.n.ef(t,e)};var Qf=function(t){Nf[L](this,t)};S(Qf,Nf),Qf[H].O=function(t){Qf.r.O[L](this,t);var e=this.b;(e.lb||16&e.M)&&e.n.l.O(t)},Qf[H].Kb=function(t,e){return this.b.n.l.Kb(t,this.b.la()[qc](e))},Qf[H].s=function(){Qf.r.s[L](this),this.b.n.l.s()},Qf[H].Na=function(){this.b.n.l.Na()};var Sf=function(t,e){Of[L](this,e.a),this.h=t,this.$b=e,this.Ic=new uf,this.l=new Rf(this),this.Fe(this.n,1),this.Fe(this.Ic,8),this.Je()};S(Sf,Of),O=Sf[H],O.s=function(){Sf.r.s[L](this),this.Ic.s()},O.ka=function(t){t!=this.Ra&&(this.Fe(this.n,t,this.Ra),this.a.Dc=h),Sf.r.ka[L](this,t)},O.Ig=function(){return this.$b},O.trackAsMenu=function(){return this.h[wc]},O.Fe=function(t,e,i){this.q(16);var n=this.h[fc];if(n){if(P(i))for(var r=0;r<n[G];r++){var s=n[r],a=s[Ab]&i,o=s[Ab]&e;a&&!o&&t.Of(s[z])}for(r=0;r<n[G];r++)s=n[r],a=s[Ab]&i,(o=s[Ab]&e)&&!a&&(a=this.a.Ce(s.id,this.$b))&&(a.z()&&8!=e&&a.qb(this.a.Qf()),a.Kd(this),a.Fa(),a[pc](),t.Pf(a,s[z]),s[Lc]&&a[mb](s[Lc]),s[zc]&&a.Cd(s[zc]),s[wb]&&a.Bd(s[wb]),s.Sf&&a.mb(s.Sf))}};var Rf=function(t){Nf[L](this,t)};S(Rf,Qf),Rf[H].Qc=function(){var t=this.b.n.l.Pe(),e=this.b.Ic.l,i=e.Pe();return e.O(0),this.Qe=i.cloneNode(h),Tf(this.Qe),e=n[J]("http://www.w3.org/2000/svg","g"),e[r](this.Qe),e[r](t),e},Rf[H].Td=function(){return this.Qe},Rf[H].Na=function(){Rf.r.Na[L](this),this.b.Ic.l.Na()},Rf[H].s=function(){Rf.r.s[L](this),this.b.Ic.l.s()};var xf=function(t,e){if(yf[L](this,e.a),this.h=t,this.$b=e,this.Wa=this.h.html,this.l=new Uf(this),this.h[Zb]&&e.a.j().jh(this.h[Zb],this,e,this.h[Ra]),!P(this.bc)){var i=this.h[Ra];this.Rc(P(i)?i:"")}};S(xf,yf),O=xf[H],O.xc=function(){return new sf(this.h[C])},O.Rc=function(t){t=this.a.j().Qa(t),this.bc!=t&&(this.q(32),this.bc=t)},O.ri=function(t){this.Wa!=t&&(this.q(64),this.Wa=t)},O.Xc=function(){this.o=new Vf,this.vb(this.o),this.a.j().xd(this.o),this.o.addListener(this.o)},O.vb=function(t){xf.r.vb[L](this,t),m[hb](t,Wf)},O.s=function(){xf.r.s[L](this),this.h[Zb]&&this.$b.j().xh(this.h[Zb],this,this.$b)},O.z=function(){return 6<=this.$b.a.Z?h:k};var Uf=function(t){zf[L](this,t)};S(Uf,zf),Uf[H].O=function(t){if(64&this.b.M&&this.Fc(),Uf.r.O[L](this,t),32&this.b.M&&(ae(this.qe),P(this.b.bc))){var e=this.b.bc;if(this.b.Wa)for(this.kh(this.qe,e,this.b.h.multiline),t=this.tf;t<this.R[G];++t)this.R[t][L](this);else for(var t=this.qe,e=e[bc](/\r\n|\r|\n/g),i=0;i<e[G];i++)if(""==e[i]){var s=n[tb]("br");t[r](s)}else{var s=n[cb](e[i]),a=n[tb]("p");a[K].margin=0,a[r](s),t[r](a)}}},Uf[H].Qc=function(){var t=this.b.h,e=t[C],i=n[J]("http://www.w3.org/2000/svg","g"),s=this.b.Wa;this.R=[];var a=n[J]("http://www.w3.org/2000/svg","foreignObject"),o=n[tb]("body");a[r](o);var c=n[tb]("div");this.qe=c;var h=this.b.a.wa[t[Ia]],l=1.15;if(h&&(c[K].fontFamily="'"+h[B]+"'",l=h[hc]),Aa(this,l),!s){var h=c[K],u=t[Gc],d=0|t[$a];za(h,u+"px"),Aa(h,l*u+d+"px"),t[Qb]&&(c[K].fontWeight="bold"),t[db]&&(c[K].fontStyle="italic")}return c[K].textAlign=Xf(t.align),t.wrap?s||(c[K].whiteSpace="pre-wrap"):c[K].whiteSpace="nowrap",c[K].wordWrap="break-word",t.selectable&&ya(c[K],"all"),this.xf(c[K],t[ib]),this.Tg(a,t[ib]),c[K].textIndent=t[Ja]+"px",0>t[Ja]+t[Ic]?(l=-(t[Ja]+t[Ic]),h=-t[Ja],s=e.c+30-l,a[y]("width",e.i-e.c-60+l),c[K].marginLeft=h+"px"):(s=e.c+30,a[y]("width",e.i-e.c-60),c[K].marginLeft=t[Ic]+"px"),c[K].marginRight=t.rightMargin+"px",this.we=new Ve(1,0,0,1,s,0),a[y]("x",0),l=n[J]("http://www.w3.org/2000/svg","rect"),l[y]("x",e.c-s),l[y]("y",e.e),l[y]("width",e.i-e.c),l[y]("height",e.k-e.e),t.border?(l[y]("stroke-width","10"),this.Ad(l,"fill",16777215),this.Ad(l,"stroke",0)):Tf(l),i[r](l),t=.5*(0|t[$a]),a[y]("y",e.e-t+40),a[y]("height",e.k-e.e+t-80),o[r](c),i[r](a),this.tf=this.R[G],i},Uf[H].xf=function(t,e){this.R[s](function(){la(t,this.Ye(e)[Pb]())})},Uf[H].kh=function(t,e,i){var a=this.b,o=this[hc],c=a.h[Gc],l=0|a.h[$a],d=k,p=t,f=[];this.R[Hc](this.tf);var g=function(t,e){var i=n[tb](t);p[r](i),p=i,f[s](d),f[s](c),f[s](o),f[s](e)},m=this,t=e[u](/&nbsp;/g," ");Yf(t,{ih:function(t,e){switch(t){case"p":g("p",t),p[K].margin=0;var s=e[eb]("align");s&&(p[K].textAlign=s[Mc]),i||(p[K].display="inline");break;case"b":case"i":case"u":g(t,t);break;case"a":g(t,t),(s=e[eb]("href"))&&p[y]("href",s[Mc]),(s=e[eb]("target"))&&p[y]("target",s[Mc]),ya(p[K],"all"),la(p[K],"inherit"),p[K].textDecoration="inherit";break;case"br":case"sbr":s=n[tb]("br"),p[r](s);break;case"font":if(g("span",t),(s=e[eb]("color"))&&m.xf(p[K],Zf(s[Mc])),s=e[eb]("face")){p[K].fontFamily=s[Mc];t:{var u,f=a.a.wa;for(u in f)if(f[u]instanceof $f&&f[u][B]==s[Mc]){o=f[u][hc];break t}o=1.15}}(u=e[eb]("size"))&&(c=20*u[Mc]),(s||u)&&(s=p[K],u=c,f=o,za(s,u+"px"),Aa(s,f*u+l+"px"),d=h)}},hh:function(t){f[f[G]-1]==t&&(f.pop(),o=f.pop(),c=f.pop(),d=f.pop(),p=p[Dc])},gh:function(t){if(t=n[cb](t),d)p[r](t);else{var e=n[tb]("span"),i=e[K],s=c,a=o;za(i,s+"px"),Aa(i,a*s+l+"px"),e[r](t),p[r](e)}}})};var Xf=function(t){switch(t){case 0:return"left";case 2:return"center";case 1:return"right";case 3:return"justify";default:return"left"}},Yf=function(t,e){var i=n[tb]("div");i.innerHTML=t;for(var r=0;r<i[Fb][G];r++)ag(i[Fb][r],e)},ag=function(t,e){switch(t.nodeType){case Node.ELEMENT_NODE:var i=t.nodeName[Oc]();e.ih(i,t.attributes);for(var n=0;n<t[Fb][G];n++)ag(t[Fb][n],e);e.hh(i);break;case Node.TEXT_NODE:e.gh(t.textContent)}};Uf[H].Na=function(){var t=this.D;if(t){var e=t[Dc];if(e){var i=t[E];e[kc](t),e.insertBefore(t,i)}}};var eg=function(t,e,i){t[y]("tableValues",bg(function(t){return cg(dg(t)*e+i)}))},fg=function(t,e,i){t[y]("slope",e),t[y]("intercept",i)},gg=function(t,e,i,n,s,a,o){i==s&&n==a||(1==i&&0==n?e[Dc]&&t[kc](e):(o(e,i,n/255),e[Dc]||t[r](e)))},hg=function(t){var e=n[J]("http://www.w3.org/2000/svg","filter");e.id=Ie.Ia().Ma(),e[y]("x","0%"),e[y]("y","0%"),e[y]("width","100%"),e[y]("height","100%");var i=n[J]("http://www.w3.org/2000/svg","feComponentTransfer");e[r](i);var s=n[J]("http://www.w3.org/2000/svg","feFuncR");s[y]("type","discrete");var a=n[J]("http://www.w3.org/2000/svg","feFuncG");a[y]("type","discrete");var o=n[J]("http://www.w3.org/2000/svg","feFuncB");o[y]("type","discrete");var c=n[J]("http://www.w3.org/2000/svg","feFuncA");c[y]("type","linear");var h=new Ye(1,0,1,0,1,0,1,0);return function(){var n=this.b.Xa;n.Rf()?(e[Dc]&&(be(e),t[Bc]("filter")),t[y]("opacity",n.Y[Va](3))):(t[Bc]("opacity"),e[Dc]||(t[r](e),t[y]("filter","url(#"+e.id+")")),gg(i,s,n.ha,n.oa,h.ha,h.oa,eg),gg(i,a,n.fa,n.na,h.fa,h.na,eg),gg(i,o,n.ea,n.ma,h.ea,h.ma,eg),gg(i,c,n.Y,n.ia,h.Y,h.ia,fg)),h=n}},ig=function(t,e,i,n){this.l=t,this.Kh=e,ra(this,i),this.ta=n,this.Sa=0,1<n[G]&&(this.Sa|=256)};ig[H].Ai=function(){return this.bd(1==this.ta[G]?this.ta[0]:this.qc(this.l.b.Ib/65535))},Fa(ig[H],function(){this.Kh[y](this[B],this.Ai())}),ig[H].bd=function(t){return t},ig[H].qc=function(){return this.ta[0]};var jg=function(t,e,i,n){ig[L](this,t,e,i,n)};S(jg,ig),jg[H].qc=function(t){return this.ta[0]+(this.ta[1]-this.ta[0])*t};var kg=function(t,e,i,n){ig[L](this,t,e,i,n),this.Sa|=1024};S(kg,jg),kg[H].bd=function(t){var e=this.l.b.Ka(),e=14/((e.Wf()+e.Xf())/2);return e>t?e:t};var lg=function(t,e,i,n){ig[L](this,t,e,i,n)};S(lg,ig),lg[H].qc=function(t){var e=this.ta[0],i=this.ta[1];return new Ve(e.A+(i.A-e.A)*t,e.B+(i.B-e.B)*t,e.t+(i.t-e.t)*t,e.u+(i.u-e.u)*t,e.H+(i.H-e.H)*t,e.I+(i.I-e.I)*t)[Pb]()},lg[H].bd=function(t){return t[Pb]()};var mg=function(t,e,i,n){ig[L](this,t,e,i,n),this.Sa|=2048};S(mg,ig),mg[H].qc=function(t){var e=this.ta[0],i=this.ta[1];return new $e(e.oc+(i.oc-e.oc)*t,e.nc+(i.nc-e.nc)*t,e.mc+(i.mc-e.mc)*t,1)},mg[H].bd=function(t){return this.l.b.Xa[N](t)[Pb]()};var ng=function(t,e,i,n){ig[L](this,t,e,i,n),this.Sa|=2048};S(ng,ig),ng[H].qc=function(t){return this.ta[0]+(this.ta[1]-this.ta[0])*t},ng[H].bd=function(t){return this.l.b.Xa.Zf(t)[Va](3)};var og=function(t,e,i,n){ig[L](this,t,e,i,n),2==n[G]&&(this.wi=n[0][bc](" "),this.xi=n[1][bc](" "))};S(og,ig),og[H].qc=function(t){for(var e="",i=this.wi,n=this.xi,r=0;r<i[G];r++)var s=ha(i[r],10),e=ca(s)?e+(i[r]+" "):e+(s+(ha(n[r],10)-s)*t+" ");return e};var qg=function(t,e){yf[L](this,e.a),this.definition=t,this.l=new pg(this)};S(qg,yf),qg[H].xc=function(){return this[nb].xc(this.Ib)},qg[H].Nd=function(t){t!=this.Ib&&(this.q(256),this.Zc()),qg.r.Nd[L](this,t)};var pg=function(t){zf[L](this,t),this.Mc=[],this.Hd=[],this.Ae=[],this.Wc=[]};S(pg,zf),O=pg[H],O.Qc=function(t){this.R=[];var e=this.b,i=e[nb],n=i[sb];if(n)for(var s=0;s<n[G];s++)if(n[s]!=f){var a=pf(n[s],i[C],this,e.a);a!=j&&(this.Mc[s]=a,e.a.Zb[r](a))}if(n=i[pb])for(s=0;s<n[G];s++)n[s]!=f&&n[s][Nb]!=f&&(a=pf(n[s][Nb],i[C],this,e.a),a!=j&&(this.Hd[s]=a,e.a.Zb[r](a)));return this.oh(t)},O.oh=function(){for(var t=this.b,e=t[nb],i=e[vc],a=[],o=0;o<i[G];o++){var c=i[o],h=n[J]("http://www.w3.org/2000/svg","path");if(this[y](h,"d",c[v]),a[s](h),c[oc]!=j&&e[pb]!=j){var l=e[pb][c[oc]],u=h,d=l;if(d!=j){if(d[Nb]!=j?u[y]("stroke","url(#"+(l[Nb]?this.Hd[c[oc]]:j).id+")"):(l=f,l=d[ib]!=j?d[ib]:[0],this.He(u,"stroke",l),this.Ge(u,"stroke-opacity",l)),this[y](u,"stroke-width",d[Pa],kg),l="round",d.cap!=j)switch(d.cap){case 1:l="butt";break;case 2:l="square"}if(u[y]("stroke-linecap",l),l="round",d.joint!=j)switch(d.joint){case 1:l="bevel";break;case 2:l="miter"}u[y]("stroke-linejoin",l),d.miter!=j&&u[y]("stroke-miterlimit",d.miter)}}if(c[Nb]!=j)if(u=e[sb][c[Nb]],u[Qa]==j)switch(c=this.Mc[c[Nb]],u[A]){case 1:this.He(h,"fill",u[ib]),this.Ge(h,"fill-opacity",u[ib]);break;case 2:case 3:case 4:h[y]("fill","url(#"+c.id+")")}else d=n[J]("http://www.w3.org/2000/svg","clipPath"),d.id=Ie.Ia().Ma(),d[r](h),t.a.Zb[r](d),this.Ae[s](d),h=n[J]("http://www.w3.org/2000/svg","g"),h[y]("clip-path","url(#"+d.id+")"),a.pop(),a[s](h),d=n[J]("http://www.w3.org/2000/svg","use"),5==u[A]||7==u[A]?d[gb]("http://www.w3.org/1999/xlink","href","#"+this.Mc[c[Nb]].id):(c=t.a.wa[u[Qa]].Ya(),d[gb]("http://www.w3.org/1999/xlink","href","#"+c.id)),u[Lc]&&d[y]("transform",of(u[Lc])[Pb]()),h[r](d),this.R[s](hg(h));else h[y]("fill","none")}if(1==a[G])t=a[0];else for(t=n[J]("http://www.w3.org/2000/svg","g"),o=0;o<a[G];o++)t[r](a[o]);return t},O.Kb=function(t,e){var i=this.b[nb];!this.be&&0==this.b.Ib&&(this.be=n[J]("http://www.w3.org/2000/svg","path"),this.be[y]("d",i.Ah()));var s=this.b.la()[qc](e);if(0!=this.b.Ib){for(var a=0;a<i[vc][G];a++)if(i[vc][a][Nb]!=j){var o=n[J]("http://www.w3.org/2000/svg","path");new og(this,o,"d",i[vc][a][v])[N](),o[y]("transform",s[Pb]()),t[r](o)}}else this.be[y]("transform",s[Pb]()),t[r](this.be)},O.rf=function(t){t[N](),t.Sa&&this.Wc[s](t)},O.setAttribute=function(t,e,i,n){n||(n=i[0],n=n instanceof Ve?lg:"number"==typeof n?jg:og),this.rf(new n(this,t,e,i))},O.He=function(t,e,i){i=i.map(function(t){return Af(t)}),this.rf(new mg(this,t,e,i))},O.Ge=function(t,e,i){i=i.map(function(t){return Bf(t)}),this.rf(new ng(this,t,e,i))},O.s=function(){pg.r.s[L](this);for(var t=0;t<this.Mc[G];t++)be(this.Mc[t]);for(t=0;t<this.Hd[G];t++)be(this.Hd[t]);for(t=0;t<this.Ae[G];t++)be(this.Ae[t]);this.Wc=[]},O.O=function(t){var e=this.b.M;for(pg.r.O[L](this,t),t=0;t<this.Wc[G];t++)e&this.Wc[t].Sa&&this.Wc[t][N]()};var tg=function(t){qg[L](this,new rg(-1,[],j,[],[]),t),this.clear(),this.cd=this.rc=j,this.l=new sg(this),this.Ga()};S(tg,qg),tg[H].duplicate=function(t){return t=new tg(t),t.definition=sd(this[nb]),t},tg[H].clear=function(){this[nb].fillstyles=[],this[nb].linestyles=[],this[nb].paths=[],this.Sb=this.Tb=this.ed=this.fd=0,this.q(512),this.Zc()},tg[H].ne=function(t){var e=this.rc,i=this.cd;i&&(i[v][0]+=" "+t),e&&e!=i&&(e[v][0]+=" "+t),(e||i)&&(this.q(512),this.Zc())},tg[H].moveTo=function(t,e){P(t)&&P(e)&&(t*=20,e*=20,this.ne("M "+t+" "+e),this.Sb=t,this.Tb=e,this.ed=t,this.fd=e)},tg[H].lineTo=function(t,e){P(t)&&P(e)&&(t*=20,e*=20,t!=this.Sb||e!=this.Tb||this.cd?this.ne("L "+t+" "+e):this.ne("Z"),this.ed=t,this.fd=e)},tg[H].curveTo=function(t,e,i,n){P(i)&&P(n)&&P(t)&&P(e)&&(i*=20,n*=20,this.ne("Q "+20*t+" "+20*e+" "+i+" "+n),this.ed=i,this.fd=n)},tg[H].ld=function(t,e,i,n){var r=this[nb][vc],a=r[r[G]-1],t=new ug(["M "+t+" "+e],n,i);return!a||0<=a[v][0].search(/[LQ]/)?r[s](t):r[r[G]-1]=t,t},tg[H].Ki=function(t){var e=this.rc,i=this.cd;if(i){if(!(0<=i[v][0].search(/[LQ]/)))return e=i,e.line=t,void(this.rc=e);e==i&&(e=this.ld(0,0,i[oc],f),ka(e,[i[v][0]]),delete i[oc])}this.rc=e=P(t)?this.ld(this.ed,this.fd,t,f):j},tg[H].sf=function(t){var e=this.cd;e&&(e[v][0]+=" Z");var i=this.rc;e&&i&&i!=e?(i[v][0]+="L "+this.Sb+" "+this.Tb,P(t)?i=e=this.ld(this.Sb,this.Tb,i[oc],t):e=j):(e=P(t)?this.ld(this.Sb,this.Tb,f,t):j,i&&(e?(e.line=i[oc],i=e):i=this.ld(this.Sb,this.Tb,i[oc],f))),this.cd=e,this.rc=i,this.ed=this.Sb,this.fd=this.Tb,this.q(512)},tg[H].lineStyle=function(t,e,i,n,r,a,o,c){if(n=f,P(t)){switch(n=this[nb][pb],r={},ja(r,[20*t]),la(r,[vg(e,i)]),a){case"none":r.cap=1;break;case"square":r.cap=2}switch(o){case"bevel":r.joint=1;break;case"miter":r.joint=2}P(c)&&(r.miter=[c]),n[s](r),n=n[G]-1}this.Ki(n)},tg[H].beginFill=function(t,e){if(P(t)){var i=this[nb][sb],n={type:1};la(n,[vg(t,e)]),i[s](n),this.sf(i[G]-1)}else this.sf()},tg[H].endFill=function(){this.sf()};var sg=function(t){pg[L](this,t)};S(sg,pg),sg[H].O=function(t){512&this.b.M&&this.Fc(),sg.r.O[L](this,t)};var xg=function(t,e){yf[L](this,e.a),this.h=t,this.l=new wg(this)};S(xg,yf),xg[H].xc=function(){return new sf(this.h[C])};var wg=function(t){zf[L](this,t),this.we=this.b.h[Ua],this.b.q(1)};S(wg,zf),O=wg[H],O.Qc=function(){return yg?this.yi():this.zi()},O.zi=function(){var t,e=this.Pg();if(1==e[G])t=e[0];else{t=n[J]("http://www.w3.org/2000/svg","g");for(var i=0;i<e[G];i++)t[r](e[i])}return t},O.Pg=function(){for(var t=this.b.h,e=[],i=0;i<t[fc][G];i++){var a=t[fc][i],o=n[J]("http://www.w3.org/2000/svg","text");o[r](n[cb](a[Ra]));var c=this.b.a.wa[a[Ia]];c&&o[y]("font-family","'"+c[B]+"'"),o[y]("font-size",a[Gc]),a[Qb]&&o[y]("font-weight","bold"),a[db]&&o[y]("font-style","italic"),o[y]("x",zg(a.x)),o[y]("y",a.y),o[y]("fill-rule","nonzero"),o[y]("style","white-space:pre"),o[y]("unicode-bidi","bidi-override"),this.Ad(o,"fill",a[ib]),e[s](o)}return e},O.yi=function(){for(var t=n[J]("http://www.w3.org/2000/svg","g"),e=this.b.h,i=0;i<e[fc][G];i++){var s=e[fc][i],a=n[J]("http://www.w3.org/2000/svg","g");a[y]("fill-rule","nonzero"),this.Ad(a,"fill",s[ib]),t[r](a);var o=s[Ra],c=s[Ia],h=s.y,l=s[Gc],s=zg(s.x)[bc](" "),u=e[C],d=n[J]("http://www.w3.org/2000/svg","rect");for(d[y]("x",u.c),d[y]("width",u.i-u.c),d[y]("y",u.e),d[y]("height",u.k-u.e),Tf(d),a[r](d),u=0;u<o[G];++u)d=n[J]("http://www.w3.org/2000/svg","use"),d[gb]("http://www.w3.org/1999/xlink","href","#"+("font_"+c+"_"+o[bb](u)[sc](0))),d[y]("transform","translate("+s[u]+" "+h+") scale("+l+")"),a[r](d)}return t},O.Na=function(){var t=this.D;if(t){var e=t[Dc];if(e){var i=t[E];e[kc](t),e.insertBefore(t,i)}}},O.Kb=function(t,e){for(var i=this.Pg(),n=e[Pb]()+" "+this.Jf(),s=0;s<i[G];s++)i[s][y]("transform",n),t[r](i[s])};var Bg=function(t){var e=function(e){this.o=t.j().fe(e),this.og=0};return m[hb](e[H],Ag),e},Ag={getRGB:{value:function(){return this.og}},setRGB:{value:function(t){this.o&&(this.og=t,this.o.__swiffy_d.mb(new Ye(0,(16711680&t)>>16,0,(65280&t)>>8,0,255&t,1,0)),this.o.__swiffy_d.Ga())}},setTransform:{value:function(t){if(this.o&&t){var e=this.o.__swiffy_d,i=e.a.j().d(t,"ra"),n=e.a.j().d(t,"rb"),r=e.a.j().d(t,"ga"),s=e.a.j().d(t,"gb"),a=e.a.j().d(t,"ba"),o=e.a.j().d(t,"bb"),c=e.a.j().d(t,"aa"),h=e.a.j().d(t,"ab"),e=this.o.__swiffy_d,l=e.Ea,t=new Ye(P(t[i])?t[i]/100:l.ha,P(t[n])?t[n]:l.oa,P(t[r])?t[r]/100:l.fa,P(t[s])?t[s]:l.na,P(t[a])?t[a]/100:l.ea,P(t[o])?t[o]:l.ma,P(t[c])?t[c]/100:l.Y,P(t[h])?t[h]:l.ia);e.mb(t),e.Ga()}}},getTransform:{value:function(){if(!this.o)return j;var t=this.o.__swiffy_d.Ea;return{ra:100*t.ha,rb:t.oa,ga:100*t.fa,gb:t.na,ba:100*t.ea,bb:t.ma,aa:100*t.Y,ab:t.ia}}}},Dg=function(t,e){Of[L](this,e),this.h=t,this.ag=[],this.T=-1,this.bg=this.Md=k,this.Ug=[],this.Pc={},this.l=new Cg(this),this.hc=j,this.a.mh(this),this.Dd=2097023};S(Dg,Of),O=Dg[H],O.Fa=function(){for(var t=this.h[Ib],e=0;e<t[G];e++)for(var i=0;t[e]&&i<t[e][G];++i)t[e][i].jg(this);this.eg()&&this.Xc(),!this.gc&&this.a.K!==this&&this[M](128),this.gc&&this.Jd(128)},Da(O,function(){this.bg||(this.bg=h,this[Bb](),this.zg(k),this.gc&&this[M](128))}),O.Ig=function(){return this},O.ub=function(){this.Bf||(this.n.ub(),this[M](32)),Dg.r.ub[L](this)},O.play=function(){this.Md=h},O.Te=function(){this.n.Ph(),this.Md?this.zg(h):this[M](64)},O.zg=function(t){var e=this.T+1;e>=this.h[gc]&&(e=0),(0!=this.h[gc]||this.a.K!=this)&&this.Wd(e,t)},ta(O,function(){this.Md=k}),O.od=function(t,e){t>=0&&t<this.h[gc]?this.Wd(t):this.T=this.h[gc]+1,this.Md=e},O.$c=function(t){var e=f;return"string"==typeof t&&this.h.Se[t]!=f?e=this.h.Se[t]:(t=p(t)-1,t>=0&&t==o[ab](t)&&(e=t)),e},O.wh=function(t){return this.h[Ib][t]},O.Wd=function(t,e){if(t==this.T)e&&this[M](64);else if(t>this.T){for(;t>++this.T;){this.fg(this.T);var i=this.h[Ib][this.T];if(i)for(var n=0;n<i[G];n++)i[n].ib(this)}if(e&&this[M](64),this.fg(this.T),i=this.h[Ib][this.T])for(n=0;n<i[G];n++)i[n].ib(this),i[n].Rd(this)}else{this.T=t,e&&this[M](64);var i=this.h.If[this.T],r=[];if(i)for(n=0;n<i[G];n++)r[s](i[n].lc(this)),i[n].Rd(this);var a=this;this.n.nh(function(t){return 0<=t[z]||0<=r[w](t)?h:(a.q(16),t.ub(),k)}),16&this.M&&this.o&&this.n.Vf(this.o)}i=this.Ug[this.T],Uc(i)&&i()},O.fg=function(t){if(!this.ag[t]){for(var e=this.h.Ob[t],i=0;e&&i<e[G];i++)e[i].Ud(this);this.ag[t]=h}},O.Ng=function(){0<this.T&&this.Wd(this.T-1),this[Ob]()},O.oe=function(){this.T+1<this.h[gc]&&this.Wd(this.T+1),this[Ob]()},O.j=function(){return this.a.j()},O.jc=function(){return this.a.jc()},O.ff=function(t,e){this.S()[t]=e},O.setCapture=function(t,e,i){this.a[Wa](t,e,i)},O.releaseCapture=function(t){this.a[Lb](t)},O.duplicate=function(t,e,i){var n=new Dg(this.h,this.a);return n.gc=h,n.qb(e),n[mb](this.la()),this.hc&&(n.hc=this.hc.duplicate(n),n.ic(n.hc,-16385)),n.Fa(),n[pc](),t.Kc(i),t.ic(n,i),n.mb(this.Ea),n},O.eg=function(){return this.h.id?df[this.a.vf[this.h.id]]:j},O.Xc=function(){var t=this.eg(),t=t?t:W;this.o=m[Tb](t[H]),this.vb(this.o),t[N](this.o),this.a.K==this&&(this.o.$version=this.a.sh())},O.Xb=function(t,e){var i=this.hc;i||(this.hc=i=new tg(this),this.ic(i,-16385)),i[t][N](i,e)};var Cg=function(t){Nf[L](this,t)};S(Cg,Qf),Cg[H].Qc=function(){return this.b.n.l.Pe()},Cg[H].Td=function(){return this.Ya()};var Eg=function(){this.Og=[],this.pe=[]};Eg[H].Fh=function(t,e){this.Og[t]=e},Eg[H].dg=function(t){this.pe[t]=new Audio(this.Og[t]),this.pe[t][Bb]()},Eg[H].li=function(){for(var t in this.pe)this.pe[t].pause()};var yg=!Fd,Cf="undefined"!=eval("typeof SVGFilterElement"),Jg=function(t,e){this.Gd=t,this.Dc=k,this.Gc=new Ue(0,0),this.wa={},this.code=[],this.N=n[J]("http://www.w3.org/1999/xhtml","div"),this.N[K].position="relative",Ha(this.N[K],"100%"),e.backgroundColor!=f&&(this.N[K].background=Af(e.backgroundColor)[Pb]()),this.N[K].webkitTapHighlightColor="rgba(0,0,0,0)",this.ah=new Eg,this.td=e.frameSize.xmax/20,this.sd=e.frameSize.ymax/20,this.$g=e.v,this.Mb=n[J]("http://www.w3.org/2000/svg","svg"),this.Mb[K].fillRule="evenodd",ya(this.Mb[K],"none"),ja(this.Mb[K],"100%"),Ha(this.Mb[K],"100%"),this.N[r](this.Mb),this.xe=n[J]("http://www.w3.org/2000/svg","g"),this.Mb[r](this.xe),this.sb="showAll",this.Lb=0,this.zd=h,this.zf=new Fg(e.frameRate,this),this.Lc=new X(this);var i=new Gg(0,e[gc],this);this.wa[0]=i,Hg(e,i),this.Z=e.version,this.tb=[],this.K=new Dg(i,this),pa(this.K,-16384),this.K.Af=k,this.K[Bb](),this.fb=j,this.ze=k,this.Id=j,this.uf={},this.vf={},this.$a=new lf(this),this.Lc.xd(this.$a),this.fc=new jf,this.Lc.xd(this.fc),this.Fd=new Ig(this),this.Lc.xd(this.Fd),this.dh=1,this.Aa=j,this.pa=[],"createTouch"in n?(T(this.N,"touchstart",this.ve,k,this),T(this.N,"touchmove",this.ue,k,this),T(this.N,"touchend",this.te,k,this),i=T(n,"touchstart",this.bh,k,this)):(T(this.N,"mousedown",this.Df,h,this),T(this.N,"mouseup",this.Gf,h,this),T(this.N,"mousemove",this.Ef,h,this),T(this.N,"mouseover",this.Yg,h,this),T(this.N,"mousedown",this.wd,k,this),T(this.N,"mouseup",this.vd,k,this),T(this.N,"mouseout",this.se,k,this),i=T(n,"mousedown",this.Xg,k,this),this.pa[s](i),i=T(n,"mouseup",this.Zg,k,this)),this.pa[s](i),T(n,"keyup",this.Wg,k,this),T(new De(n),"key",this.Vg,k,this),this.K.Fa(),this.Zb=n[J]("http://www.w3.org/2000/svg","defs");for(var a in this.wa)(i=this.wa[a].Fa())&&this.Zb[r](i);this.Mb[r](this.Zb),a=ba.location.search+ba.location.hash,i=a[w]("?"),i>=0&&this.Hf(a[Ta](i+1)),this.wf(),this.Gd[r](this.N),this.Cf=k},Kg=["swiffy","Stage"],Lg=Pc;!(Kg[0]in Lg)&&Lg.execScript&&Lg.execScript("var "+Kg[0]);for(var Mg;Kg[G]&&(Mg=Kg.shift());)!Kg[G]&&P(Jg)?Lg[Mg]=Jg:Lg=Lg[Mg]?Lg[Mg]:Lg[Mg]={};Jg[H].Hi=function(){this.zf[Ob]();for(var t=0;t<this.pa[G];t++)ue(this.pa[t]);this.K.s(),this.K.l.s(),we(this.N),be(this.N)},Jg[H].destroy=Jg[H].Hi,O=Jg[H],O.nd=function(t){for(var e=this.tb[G]-1;e>=0;e--)this.tb[e].nb||this.tb[e][M](t)},O.Wh=function(t){this.K.map(function(e){return e instanceof Hf?e[M](t):void 0})},O.Df=function(){this.nd(8),this.$(),this.$a.Uh()},O.Ef=function(t){this.de(t),this.nd(16),this.$(),this.$a.Sh()},O.Yg=function(t){this.de(t)},O.Gf=function(){this.nd(4),this.$(),this.$a.Vh()},O.ve=function(t){this.Aa!=j&&this.Aa.Yd(t);var e=t.Ta.touches;1==e[G]&&this.de(e[0]),this.Df(t)},O.bh=function(t){this.Aa!=j&&this.Aa.Yd(t)},O.ue=function(t){var e=t.Ta.touches;1==e[G]&&this.de(e[0]),this.Ef(t)},O.te=function(t){t[dc](),this.Gf(t)},O.wd=function(t){t[dc](),this[Wa](this)},O.vd=function(t){t[dc](),this[Lb](this)},O.Xg=function(){this[Wa](this,h)},O.Zg=function(){this[Lb](this)},O.se=function(t){this[Kc]()&&t[mc]==this.N&&this[Wa](this)},O.de=function(t){if(this.rg){var e=0,i=0;t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(t[Kb]||t[Mb])&&(e=t[Kb]+n[jc].scrollLeft+n.documentElement.scrollLeft,i=t[Mb]+n[jc].scrollTop+n.documentElement.scrollTop),this.Gc.x=e,this.Gc.y=i,this.Gc.G(this.rg)}},O.Wg=function(t){this.fc.bi(t),this.nd(1),this.$(),this.fc.broadcastMessage("onKeyUp")},O.Vg=function(t){this.fc.Th(t),this.nd(2),this.$(),this.fc.broadcastMessage("onKeyDown"),this.Wh(1048576),this.$()},O.getKey=function(){return this.fc},O.Jh=function(){return this.Aa!=j},O.uh=function(t){this.Aa!=j&&this.Aa!=t&&this.Aa.Yd(),this.Aa=t,this.$a[Ec]()},O.Re=function(t){this.Aa==t&&(this.Aa=j),this.$a[Ec]()},O.isCaptured=function(){return this.fb!=j},O.Pd=function(){return this.fb!=j&&this.ze},O.Uc=function(t){return this.fb==t},O.Ih=function(){return this.fb!=j&&this.fb==this.Aa},O.setCapture=function(t,e,i){this[Lb](t),this.fb=t,n.onselectstart=function(){return k},e&&(this.ze=h),i&&(this.Id=i,this.$a[Ec]())},O.releaseCapture=function(t){this.fb&&(this.$a[Ec](),n.onselectstart=j,this.fb!=t&&this.Id&&this.Id(),this.fb=this.Id=j,this.ze=k)},Da(O,function(){this.zf[pc]()}),Da(Jg[H],Jg[H][pc]),O=Jg[H],O.Ce=function(t,e){var i=this.wa[t];return i?i.mi(e):j},O.z=function(t){return(t=this.wa[t])?t.z:k},O.mh=function(t){this.tb[s](t)},O.Te=function(){this.tb=this.tb.filter(function(t){return!t.nb});for(var t=this.tb[G]-1;t>=0;--t)this.tb[t].Te();this.Cf||(this.$(),this.K.Jd(128),this.K[M](128),this.Cf=h),this.$(),this.Dc=h},O.j=function(){
return this.Lc},O.$=function(){this.Lc.$()},O.jc=function(){return this.ah},O.Hf=function(t){for(var t=new Re(t),e=t.Ub(),i=0;i<e[G];i++){var n=e[i];this.K.ff(n,t.get(n))}},Jg[H].setFlashVars=Jg[H].Hf,O=Jg[H],O.Qf=function(){return"instance"+this.dh++},O.sh=function(){return"Swiffy "+this.$g},O.$h=function(t){this.sb!=t&&(this.sb=t,this.zd=h,"noScale"==this.sb&&(t=this.$d!=this.sd,(this.ae!=this.td||t)&&this.Fd.broadcastMessage("onResize")))},O.Zh=function(t){this.Lb!=t&&(this.Lb=t,this.zd=h)},O.Lh=function(){return 1&this.Lb?0:4&this.Lb?2:1},O.Mh=function(){return 2&this.Lb?0:8&this.Lb?2:1},O.wf=function(){var t,e=this.Gd.offsetWidth,i=this.Gd.offsetHeight,n=this.Gd,r=t=0;if(n.offsetParent)do t+=n.offsetLeft,r+=n.offsetTop;while(n=n.offsetParent);return t=[t,r],n=t[0],t=t[1],r=k,(this.Le!=n||this.Me!=t)&&(this.Le=n,this.Me=t,r=h),(this.ae!=e||this.$d!=i)&&(this.ae=e,this.$d=i,"noScale"==this.sb&&this.Fd.broadcastMessage("onResize"),r=h),r},O.th=function(){var t=this.ae,e=this.$d,i=this.td,n=this.sd,r=t/i,s=e/n;switch(this.sb){case"noScale":r=s=1;break;case"showAll":s>r?s=r:r=s;break;case"noBorder":r>s?s=r:r=s}var a=0,o=0;switch(this.Lh()){case 1:a=(t-i*r)/2;break;case 2:a=t-i*r}switch(this.Mh()){case 1:o=(e-n*s)/2;break;case 2:o=e-n*s}this.gg=new Ve(r/20,0,0,s/20,this.Le+a,this.Me+o),this.rg=this.gg.Ie()},O.O=function(){var t=this.wf();(this.zd||t)&&(this.th(),this.xe[y]("transform",this.gg.translate(-this.Le,-this.Me)[Pb]()),this.zd=k),this.Dc&&(this.K.$f(),this.K.l.O(0),this.K.M=0,this.K.lb=0,t=this.K.l.Ya(),t[Dc]||this.xe[r](t),this.Dc=k)};var Ng,$e=function(t,e,i,n){this.oc=t,this.nc=e,this.mc=i,this.Oe=n};ua($e[H],function(){return"rgb("+this.oc[Va]()+","+this.nc[Va]()+","+this.mc[Va]()+")"});var of=function(t){var e=0,i=Og(function(){return t[sc](e++)});return new Ve(i()/65536+1,i()/65536,i()/65536,i()/65536+1,i(),i())},zg=function(t){for(var e=0,i=Pg(function(){return t[sc](e++)}),n=[],r=0;e<t[G];)r+=ha(i(),10),n[s](r);return n[Jc](" ")},Pg=function(t){return function(){var e=t();if(58==e)return 0;for(var i="";e>=48&&57>=e;)i+=String.fromCharCode(e),e=t();return(e>=97?e-96:-(e-64))+i}},Og=function(t){var e=Pg(t);return function(){return ha(e(),10)}},Qg=function(t){var e=0,i=t[w](":");if(0>i)return t;for(var n,r=i+1,s=Pg(function(){return t[sc](r++)}),a="";i>e;)switch(n=t[bb](e++),0<a[G]&&(a+=" "),a+=n+" ",n){case"q":a+=s()+" "+s()+" ";case"l":case"m":a+=s()+" ";case"h":case"v":a+=s();break;default:return""}return a},Rg=function(t){var e=0,i=Og(function(){return t[sc](e++)});return new Ye((i()+256)/256,i(),(i()+256)/256,i(),(i()+256)/256,i(),(i()+256)/256,i())},Af=function(t,e){var i=t,n=255&i,i=i>>8,r=255&i,i=i>>8,s=255&i,i=(255-(i>>8&255))/255;return e&&(n=n*e.ha+e.oa,r=r*e.fa+e.na,s=s*e.ea+e.ma,i=i*e.Y+e.ia/255),new $e(n,r,s,i)},Bf=function(t,e){var i;return i=(255-(t>>24&255))/255,e&&(i=i*e.Y+e.ia/255),i},Zf=function(t){return t=t[u](/^ *rgb *\( *([^,]+) *, *([^,]+) *, *([^,]+) *\) *$/,function(t,e,i,n){return e+(i<<8)+(n<<16)}),t=t[u](/^ *#([0-9a-fA-F]+) *$/,function(t,e){var i=ha(e,16);return(255&i)<<16|65280&i|(16711680&i)>>16}),0|t},vg=function(t,e){return P(e)||(e=100),(255&t)<<16|65280&t|(16711680&t)>>16|255-2.55*e<<24},cg=function(t){return.04045>=t?t/12.92:o.pow((t+.055)/1.055,2.4)},dg=function(t){return.0031308>=t?12.92*t:1.055*o.pow(t,1/2.4)-.055},bg=function(t){for(var e="",i=0;256>i;i++)e+=p(t(i/255))[Va](5)+" ";return e},Sg=function(t,e){var i=new Ue(20*e.x,20*e.y);return i.G(t),i.x/=20,i.y/=20,i},Tg=function(t,e,i,s){if(0!=i[w]("_level")&&0!=e[Oc]()[w]("fscommand:"))switch(""==i&&(i="_self"),s){case 0:ba.open(e,i);break;case 1:case 2:var a=Zd("form");a.acceptCharset="utf-8",a.method=1==s?"get":"post";for(var o in t)"$"!=o[bb](0)&&(s=Zd("input",{type:"hidden",name:o,value:t[o]}),a[r](s));a.action=e,Ba(a,i),a[K].visibility="hidden",n[jc][r](a),a.submit(),be(a);break;default:ba.open(e,i)}},Tf=function(t){t[y]("opacity",0)},Ug=function(t){Ng||(Ng=ba.requestAnimationFrame||ba.webkitRequestAnimationFrame||ba.mozRequestAnimationFrame||ba.oRequestAnimationFrame||ba.msRequestAnimationFrame||function(t){ba.setTimeout(t,1e3/60)}),Ng[L](ba,t)},Vg=function(t){this.l=t,this.Gh=Ie.Ia().Ma(),this.region=new af(0,0,0,0),this.R=[],this.Vc=[]},Wg,Xg,Df=[];O=Vg[H],Fa(O,function(){}),O.Kf=function(){return 1},O.result=function(){return this.Gh},O.Gg=function(t,e,i,s,a){var o=1;switch(t){case 1:o=5;break;case 2:o=3;break;case 3:o=2}return t=20*e/o,i=20*i/o,o=n[J]("http://www.w3.org/2000/svg","feGaussianBlur"),P(s)&&o[y]("in",s),P(a)&&o[y]("result",a),o[y]("stdDeviation",t+" "+i),this.xa()[r](o),s=new af,s[Sa](3*-t,3*-i),s[Sa](3*+t,3*+i),s},O.Oc=function(t,e,i,s,a,o,c){var h=n[J]("http://www.w3.org/2000/svg","feComponentTransfer");for(P(o)&&h[y]("in",o),P(c)&&h[y]("result",c),P(a)||(a="linear"),o=["feFuncR","feFuncG","feFuncB","feFuncA"],t=[t,e,i,s],e=0;4>e;++e){var l,i=j;for(l in t[e])i==j&&(i=n[J]("http://www.w3.org/2000/svg",o[e]),i[y]("type",a)),i[y](l,t[e][l]);i&&h[r](i)}return this.xa()[r](h),h},O.af=function(t,e,i){var n=this.Oc({intercept:0},{intercept:0},{intercept:0},{slope:0},f,f,i),r=this;this.R[s](function(){for(var i=r.l.Ye(t),s=0;s<n[Fb][G];++s){var a=n[Fb][s];switch(a.localName){case"feFuncR":a[y]("intercept",cg(i.oc/255));break;case"feFuncG":a[y]("intercept",cg(i.nc/255));break;case"feFuncB":a[y]("intercept",cg(i.mc/255));break;case"feFuncA":a[y]("slope",i.Oe*e)}}})},O.Mf=function(t,e){var i=Wg;i||(Wg=i={tableValues:bg(dg)}),this.Oc(i,i,i,j,"discrete",t,e)},O.Nf=function(t,e){var i=Xg;i||(Xg=i={tableValues:bg(cg)}),this.Oc(i,i,i,j,"discrete",t,e)},O.va=function(t,e,i,s,a){var o=n[J]("http://www.w3.org/2000/svg","feComposite");if(P(a)&&o[y]("result",a),P(e)&&o[y]("in",e),P(i)&&o[y]("in2",i),o[y]("operator",t),P(s))for(var c in s)o[y](c,s[c]);this.xa()[r](o)},O.Hh=function(t){var e=n[J]("http://www.w3.org/2000/svg","feFlood");P(t)&&e[y]("result",t),this.xa()[r](e)},O.ii=function(t,e,i,a){var c=20*o.cos(t)*e,t=20*o.sin(t)*e,e=n[J]("http://www.w3.org/2000/svg","feOffset");return P(i)&&e[y]("in",i),P(a)&&e[y]("result",a),e[y]("dx",c),e[y]("dy",t),this.Vc[s]({node:e,dx:c,dy:t}),this.xa()[r](e),new af(c,t,c,t)},O.bf=function(t,e,i,n,r,s,a){this.Oc({slope:0},{slope:0},{slope:0},{},"linear",t);var o;(i>0||n>0)&&(o=this.Gg(e,i,n)),0!=s&&this.region.Qb(this.ii(r,s,f,a)),o&&this.region.add(o)},O.Pa=function(){return Ie.Ia().Ma()},O.xa=function(){return this.l.xa()},O.Be=function(){for(var t=this.R,e=0;e<t[G];++e)t[e][L](this)},O.O=function(){if(1024&this.l.b.M){var t=this.l.b[Ma]();if(t)for(var t=t.Yb().re(0,0),e=0;e<this.Vc[G];++e){var i=this.Vc[e].node,n=new Ue(this.Vc[e].dx,this.Vc[e].dy);n.G(t),i[y]("dx",n.x),i[y]("dy",n.y)}}};var Yg=function(t,e){Vg[L](this,t),this.kb=e[Ua],this.kb[4]/=255,this.kb[9]/=255,this.kb[14]/=255,this.kb[19]/=255};S(Yg,Vg),Df[3]=Yg,Fa(Yg[H],function(t){var e=this.Pa(),i=this.Pa();this.Mf(t,e);var t=this.xa(),s=n[J]("http://www.w3.org/2000/svg","feColorMatrix");s[y]("in",e),s[y]("result",i),s[y]("type","matrix"),s[y]("values",this.kb[Jc](" ")),t[r](s),this.Nf(i,this[Wb]())});var Zg=function(t,e){Vg[L](this,t),this.Vb=e};S(Zg,Vg),Df[2]=Zg,Fa(Zg[H],function(t){var e=this.Vb;this.region=this.Gg(e[Nc],e.x,e.y,t,this[Wb]())}),Zg[H].Kf=function(){return 1<this.Vb.x&&1<this.Vb.y?2:1};var $g=function(t,e){Vg[L](this,t),this.Vb=e};S($g,Vg),Df[1]=$g,Fa($g[H],function(t){this.R=[];var e=this.Vb,i=this.xa();e[Yb]&&this.Hh("black"),this.bf(t,e[Nc],e.x,e.y,e[$b],e.distance),e[Yb]&&this.va("arithmetic",f,"black",{k2:-1,k3:1});var n=this.Pa();this.af(e[ib],e.strength,n),e[Yb]||e[ob]||e.hideObject?!e[Yb]||e[ob]||e.hideObject?!e[Yb]&&e[ob]?this.va("out",n,t):e[Yb]&&this.va("in",n,t):this.va("atop",n,t):this.va("over",t,n),i.lastChild[y]("result",this[Wb]())});var ah=function(t,e){Vg[L](this,t),this.Vb=e};S(ah,Vg),Df[4]=ah,Fa(ah[H],function(t){this.R=[];var e=this.Vb,i=this.xa(),n=this.Pa(),r=this.Pa(),s=this.Pa(),a=this.Pa(),o=this.Pa();this.bf(t,e[Nc],e.x,e.y,e[$b],-e.distance,r),this.bf(t,e[Nc],e.x,e.y,e[$b],e.distance,n),this.va("arithmetic",r,n,{k2:1,k3:-1}),this.af(e.highlight,e.strength,a),this.va("arithmetic",n,r,{k2:1,k3:-1}),this.af(e.shadow,e.strength,s),this.va("arithmetic",a,s,{k2:1,k3:1},o),e[ob]?e[Yb]?this.va("in",o,t):e.onTop||this.va("out",o,t):e[Yb]?this.va("atop",o,t):e.onTop?this.va("over",o,t):this.va("over",t,o),i.lastChild[y]("result",this[Wb]())});var Ff=function(t){Vg[L](this,t)};S(Ff,Vg),Fa(Ff[H],function(t){this.Bi(t)}),Ff[H].Bi=function(t){var e=this.Pa(),i=this.Pa();this.Mf(t,e);var n=this.Oc({intercept:0},{intercept:0},{intercept:0},{slope:0},"linear",e,i);this.Nf(i);var r=this;this.R[s](function(){for(var t=r.l.b.ud,e=0;e<n[Fb][G];++e){var i=n[Fb][e];switch(i.localName){case"feFuncR":i[y]("slope",t.ha),i[y]("intercept",t.oa/255);break;case"feFuncG":i[y]("slope",t.fa),i[y]("intercept",t.na/255);break;case"feFuncB":i[y]("slope",t.ea),i[y]("intercept",t.ma/255);break;case"feFuncA":i[y]("slope",t.Y),i[y]("intercept",t.ia/255)}}})};var bh=function(){};bh[H].Bb=function(){};var Y=[],ch=function(t){this.id=t};S(ch,bh),O=ch[H],O.z=k,O.Fa=function(){return j},O.Bc=function(){return j},O.mi=function(t){return this.Bc(t)},O.Bb=function(t){t.a.wa[this.id]=this};var dh=function(){};S(dh,bh),O=dh[H],O.jg=function(){},O.lc=function(){},O.Ud=function(){},O.ib=function(){},O.Rd=function(){},O.pf=function(){},O.zc=function(){};var fh=function(t,e){for(var i=0;i<t[G];++i)if(t[i]instanceof eh&&t[i][z]==e)return i;return-1};dh[H].Bb=function(t,e){t[Ib][e]||(t[Ib][e]=[]),t[Ib][e][s](this)};var gh=function(t,e,i,n,r,s,a){this.id=t,pa(this,e),this.transform=i,this.states=n,this.Sf=r,Ga(this,s),oa(this,a)},hh=function(t,e,i){xa(this,t),this.key=e,this.events=i},ih=function(t,e){this.events=t,this.sound=e},jh=function(t,e,i,n,r){this.id=t,this.trackAsMenu=e,this.records=i,xa(this,n),this.sounds=r};S(jh,ch),Y[10]=function(t,e){for(var i=[],n=0;t[fc]&&n<t[fc][G];n++){var r=t[fc][n],a=r[Lc]?of(r[Lc]):j,o=r[tc]?Rg(r[tc]):j;i[s](new gh(r.id,r[z],a,r[Ab],o,r[zc],r[wb]))}for(r=[],n=0;t[I]&&n<t[I][G];n++)a=t[I][n],r[s](new hh(e.j().Ua(a[I]),a.key,a[Ya]));for(a=[],n=0;t[ub]&&n<t[ub][G];n++)o=t[ub][n],a[s](new ih(o[Ya],o[yb]));return new jh(t.id,t[wc],i,r,a)},jh[H].Bc=function(t){for(var t=new Sf(this,t),e=0;e<this[I][G];e++){var i=this[I][e];t.kg(i[Ya],i.key,i[I])}for(e=0;e<this[ub][G];e++)i=this[ub][e],t.vi(i[Ya],i[yb]);return t},jh[H].z=h;var kh=function(t,e,i,n){this.id=t,this.font=e,Ha(this,i),la(this,n)};S(kh,ch),Y[13]=function(t,e){var i=new kh(t.id,t[Ia],t[Gc],t[ib]);return i.text=t[Ra],i.align=t.align,i.bounds=bf(t[C]),i.bold=!!t[Qb],i.italic=!!t[db],i.html=!!t.html,i.wrap=!!t.wrap,i.multiline=!!t.multiline,i.selectable=!!t.selectable,i.indent=t[Ja],i.leading=t[$a],i.leftMargin=t[Ic],i.rightMargin=t.rightMargin,i.border=!!t.border,i.variable=t[Zb],i.z=6<=e.Z,i},kh[H].Bc=function(t){return new xf(this,t)},kh[H].z=h;var lh=function(t,e,i){ka(this,t),this.unicode=e,this.advance=i},$f=function(t,e,i,n,r,s,a,o){this.id=t,ra(this,e),this.glyphs=i,this.emSquareSize=n,this.ascent=r,this.descent=s,this.bold=a,this.italic=o,r&&s&&Aa(this,(r+s)/n)};S($f,ch),Y[5]=function(t){for(var e=t[Gb]?t[Gb]:1024,i=[],n=0;t[ec]&&n<t[ec][G];n++)i[s](new lh(Qg(t[ec][n][v]),t[ec][n].unicode,t[ec][n].advance));var r=n=0;return t[La]&&t[Ub]&&(n=t[La],r=t[Ub]),new $f(t.id,t[B],i,e,n,r,t[Qb],t[db])},$f[H].Ya=function(){return this.yc},$f[H].Fa=function(){if(!this[La]||!this[Ub]){if(this[B]&&0==this[ec][G]){var t=n[J]("http://www.w3.org/1999/xhtml","div");t[K].fontFamily=this[B],za(t[K],"1024px"),t.innerHTML="A",n[jc][r](t),Aa(this,t.clientHeight/1024),be(t)}else Aa(this,1.15);this.ascent=.9*this[Gb],this.descent=this[Gb]*(this[hc]-.9)}this[B]||ra(this,Ie.Ia().Ma());var e=n[J]("http://www.w3.org/2000/svg","font-face");if(e[y]("font-family","'"+this[B]+"'"),e[y]("units-per-em",this[Gb]),e[y]("ascent",this[La]),e[y]("descent",this[Ub]),e[y]("font-weight",this[Qb]?"bold":"normal"),e[y]("font-style",this[db]?"italic":"normal"),this[B]&&!this[ec][G]){var t=n[J]("http://www.w3.org/2000/svg","font-face-src"),i=n[J]("http://www.w3.org/2000/svg","font-face-name");i[y]("name",this[B]),t[r](i),e[r](t),this.yc=e}else{if(yg)for(t=n[J]("http://www.w3.org/2000/svg","defs"),e=0;e<this[ec][G];e++){var i=this[ec][e],s=n[J]("http://www.w3.org/2000/svg","path");s[y]("id","font_"+this.id+"_"+i.unicode[sc](0)),s[y]("transform","scale("+1/this[Gb]+" "+-1/this[Gb]+")"),s[y]("d",i[v]),t[r](s)}else for(t=n[J]("http://www.w3.org/2000/svg","font"),t[y]("horiz-adv-x",this[Gb]),t[r](e),e=0;e<this[ec][G];e++)i=this[ec][e],s=n[J]("http://www.w3.org/2000/svg","glyph"),s[y]("unicode",i.unicode),s[y]("d",i[v]),i.advance&&s[y]("horiz-adv-x",i.advance),t[r](s);this.yc=t}return this.yc};var mh=function(t,e,i,n,r){this.id=t,ka(this,e),this.mask=i,ja(this,n),Ha(this,r)};S(mh,ch),Y[8]=function(t){return new mh(t.id,t[v],t.mask,t[Pa],t[Gc])},mh[H].Ya=function(){return this.yc},mh[H].Fa=function(){var t=n[J]("http://www.w3.org/2000/svg","image");if(t.id=Ie.Ia().Ma(),t[y]("width",this[Pa]),t[y]("height",this[Gc]),this.mask){var e=this[Pa],i=this[Gc],r=n[tb]("canvas");ja(r,this[Pa]),Ha(r,this[Gc]);var s=new Image,a=new Image,o=k,c=k,l=function(){if(o&&c){var n=r.getContext("2d");n.clearRect(0,0,e,i),n.drawImage(s,0,0,e,i),n.globalCompositeOperation="xor",n.drawImage(a,0,0,e,i),t[gb]("http://www.w3.org/1999/xlink","href",r.toDataURL("image/png"))}};s.onload=function(){o=h,l()},a.onload=function(){c=h,l()},s.src=this[v],a.src=this.mask}else t[gb]("http://www.w3.org/1999/xlink","href",this[v]);return this.yc=t};var rg=function(t,e,i,n,r){this.id=t,this.paths=e,this.bounds=i,this.fillstyles=n,this.linestyles=r};S(rg,ch),Y[1]=function(t){return new rg(t.id,t[vc].map(nh),t[C].map(bf),t[sb],t[pb])},rg[H].Bc=function(t){return new qg(this,t)},rg[H].Ah=function(){if(!this.Ac){this.Ac="";for(var t=0;t<this[vc][G];t++)this[vc][t][Nb]!=j&&(t>0&&(this.Ac+="M0 0"),this.Ac+=this[vc][t][v][0])}return this.Ac},rg[H].xc=function(t){if(this[C])return 1==this[C][G]?new sf(this[C][0]):(t/=65535,t=new af(this[C][0].c+(this[C][1].c-this[C][0].c)*t,this[C][0].e+(this[C][1].e-this[C][0].e)*t,this[C][0].i+(this[C][1].i-this[C][0].i)*t,this[C][0].k+(this[C][1].k-this[C][0].k)*t),new sf(t,this[C][0]));for(var t=new af,e=this[vc],i=0;i<e[G];++i){var n=e[i][v][0][bc](" "),r=0;e[i][oc]!=j&&(r=this[pb][e[i][oc]][Pa][0]/2);for(var s=0,a=0,o=0;s<n[G];)switch(n[s++]){case"M":a=p(n[s++]),o=p(n[s++]);break;case"L":t.pc(a,o,r),a=p(n[s++]),o=p(n[s++]),t.pc(a,o,r);break;case"Q":var c=p(n[s++]),h=p(n[s++]),l=p(n[s++]),u=p(n[s++]),d=(c-a)/(2*c-a-l),f=(h-o)/(2*h-o-u);f>0&&1>f&&t.pc(a,(1-f)*(1-f)*o+2*(1-f)*f*h+f*f*u,r),d>0&&1>d&&t.pc((1-d)*(1-d)*a+2*(1-d)*d*c+d*d*l,o,r),a=l,o=u,t.pc(a,o,r)}}return new sf(t)};var ug=function(t,e,i){ka(this,t),this.fill=e,this.line=i},nh=function(t){return new ug(t[v].map(Qg),t[Nb],t[oc])},oh=function(t,e){this.id=t,this.sound=e};S(oh,ch),Y[11]=function(t){return new oh(t.id,t[v])},oh[H].Bb=function(t){t.a.jc().Fh(this.id,this[yb])};var ph=function(t,e,i,n,r,s,a,o){this.text=t,this.font=e,Ha(this,i),this.x=n,this.y=r,la(this,s),this.bold=a,this.italic=o},qh=function(t,e,i,n){this.id=t,this.matrix=e,this.records=i,this.bounds=n};S(qh,ch),Y[6]=function(t){for(var e=bf(t[C]),i=of(t[Ua]),n=[],r=0;t[fc]&&r<t[fc][G];r++){var a=t[fc][r];n[s](new ph(a[Ra],a[Ia],a[Gc],a.x,a.y,a[ib],a[Qb],a[db]))}return new qh(t.id,i,n,e)},qh[H].Bc=function(t){return new xg(this,t)};var rh=function(t){xa(this,t)};S(rh,dh),Y[9]=function(t,e){var i=e.j().Ua(t[I]);return new rh(i)},rh[H].lc=function(){},rh[H].Rd=function(t){t.j().cg(new Mf(this[I],t))},rh[H].Ud=function(t){t.j().Eg(new Mf(this[I],t))},rh[H].zc=function(t){t[s](this)};var sh=function(t,e){this.h=t,this.a=e};S(sh,dh),Y[18]=function(t,e){return new sh(t,e)},sh[H].jg=function(){this.a.Ri.Si(j)};var th=function(t){this.yb=t};S(th,dh),Y[21]=function(t){return new th(t[Hb])},O=th[H],O.ib=function(){},O.lc=function(){},O.Rd=function(t){var e=t.j();e.Yf(e.vh(t.a[Hb][this.yb],t))},O.Ud=function(t){t.nb||(t.j()[Ac](t),t.a[Hb][this.yb]())},O.zc=function(t){t[s](this)};var uh=function(t){xa(this,t)};S(uh,rh),Y[20]=function(t,e){var i=e.j().Ua(t[I]);return new uh(i)},uh[H].Bb=function(t,e){t.Ob[e]||(t.Ob[e]=[]),t.Ob[e][s](this)};var vh=function(t){this.yb=t};S(vh,th),Y[22]=function(t){return new vh(t[Hb])},vh[H].Bb=function(t,e){t.Ob[e]||(t.Ob[e]=[]),t.Ob[e][s](this)};var wh=function(t){this.id=t};S(wh,dh),Y[12]=function(t,e){return new wh(t.id,e)},wh[H].ib=function(t){t.jc().dg(this.id)},wh[H].lc=wh[H].ib,wh[H].zc=function(t){t[s](this)};var xh=function(t){this.Ve=t};S(xh,dh),Y[16]=function(t){return new xh(t[v])},xh[H].ib=function(t){for(var e in this.Ve)t.a.uf[e]=this.Ve[e],t.a.vf[this.Ve[e]]=e};var yh=function(t){this.references=t};S(yh,dh),Y[19]=function(t,e){return new yh(t.references,e)},yh[H].Bb=function(){var t,e=this.references;for(t in e);};var zh=function(t){this.ui=t};S(zh,dh),Y[15]=function(t){return new zh(t.label)},zh[H].Bb=function(t,e){t.Se[this.ui]=e};var eh=function(t,e,i){this.id=t,pa(this,e),this.matrix=i};S(eh,dh),Y[3]=function(t,e){var i,n=e.j();P(t[I])&&(i=t[I].map(function(t){return{events:t[Ya],key:t.key,actions:n.Ua(t[I])}}));var r;return r=P(t[Ua])?t[Ua]?of(t[Ua]):We:f,r=new eh(t.id,t[z],r),ra(r,t[B]),r.ratio=t[lb],r.replace=t[u],r.z=e.z(t.id),r.clip=t[Vb],r.colortransform=P(t[tc])?Rg(t[tc]):f,oa(r,t[wb]),Ga(r,t[zc]),xa(r,i),r},O=eh[H],O.ib=function(t){var e=this[z]+-16384,i=t.n.Sd(e),n=j;!this[u]==!i&&(i?!this.id||i.z()||this.z?n=i:(t.Kc(e),n=this.Vd(t),n[mb](i.la()),n.mb(i.Ea),n.Cd(i.X),n.Bd(i.Jc),n.ye(i.Ec),n.qb(i[qb]())):n=this.Vd(t),n&&!n.ig())&&(this[Ua]&&n[mb](this[Ua]),this[tc]&&n.mb(this[tc]),P(this[lb])&&n.Nd(this[lb]),P(this[zc])&&n.Cd(this[zc]),P(this[wb])&&n.Bd(this[wb]))},O.lc=function(t){var e=t.n.Sd(this[z]+-16384),i=j;return e?e.z()&&this.z&&e.Ib==(0|this[lb])?i=e:(t.n.Ch(e),i=this.Vd(t)):i=this.Vd(t),i?(i.ig()||(i[mb](this[Ua]?this[Ua]:We),i.mb(this[tc]?this[tc]:Ze),i.Nd(0|this[lb]),i.Cd(this[zc]?this[zc]:[]),i.Bd(0|this[wb])),i):void 0},O.Vd=function(t){var e=t.a.Ce(this.id,t);if(!e)return j;if(this[B]?e.qb(this[B]):e.z()&&e.qb(t.a.Qf()),this[Vb]&&e.ye(this[Vb]+-16384),this[I]){e.Jd(128);for(var i=0;i<this[I][G];++i){var n=this[I][i];e.kg(n[Ya],n.key,n[I])}}return e.Fa(),t.ic(e,this[z]+-16384),e[pc](),e},O.pf=function(t){t[s](this)},O.zc=function(t){var e=fh(t,this[z]);if(0>e)this[u]||t[s](this);else if(this[u]){var i=t[e];t[Hc](e,1),e=i.id,!i.z&&!this.z&&P(this.id)&&(e=this.id),e=new eh(e,this[z],P(this[Ua])?this[Ua]:i[Ua]),ra(e,i[B]),e.ratio=P(this[lb])?this[lb]:i[lb],e.replace=k,e.z=i.z,e.clip=i[Vb],e.colortransform=P(this[tc])?this[tc]:i[tc],oa(e,P(this[wb])?this[wb]:i[wb]),Ga(e,P(this[zc])?this[zc]:i[zc]),xa(e,i[I]),t[s](e)}},O.qi=function(t){if(!this[I]||!this.z)return k;for(var e=0;e<this[I][G];++e)if(0!=(this[I][e][Ya]&t))return h;return k},O.oi=function(){var t=new eh(this.id,this[z]+-65536,this[Ua]);return ra(t,this[B]),t.ratio=this[lb],t.replace=k,t.z=h,t.clip=0,t.colortransform=this[tc],oa(t,this[wb]),Ga(t,this[zc]),xa(t,this[I]),t};var Ah=function(t){this.of=t};S(Ah,dh),Y[4]=function(t){return new Ah(t[z])},O=Ah[H],O.ib=function(t){t.Kc(this.of+-16384)},O.lc=Ah[H].ib,O.pf=function(t){t[s](this)},O.zc=function(t){var e=fh(t,this.of);if(e>=0){var i=t[e];i.qi(160)?(t[e]=i.oi(),t[s](this.pi())):t[Hc](e,1)}},O.pi=function(){return new Ah(this.of+-65536)};var Gg=function(t,e,i){this.id=t,this.a=i,this.If=[],this.Se={},this.frameCount=e,this.tags=[],this.Ob=[]};S(Gg,ch),Y[7]=function(t,e){var i=new Gg(t.id,t[gc],e);return Hg(t,i),i};var Hg=function(t,e){for(var i=0,n=0;t[Ib]&&n<t[Ib][G];n++){var r=t[Ib][n];if(2==r[A])i++;else{var s=Y[r[A]];s&&s(r,e.a).Bb(e,i)}}e.Dh(i-1)};Gg[H].z=h,Gg[H].Bc=function(){return new Dg(this,this.a)},Gg[H].Dh=function(t){for(var e=[],i=0;t>=i;++i){for(var n=this[Ib][i],r=[],s=0;s<e[G];++s)e[s].pf(r);if(n)for(s=0;s<n[G];++s)n[s].zc(r);e=this.If[i]=r}};var Fg=function(t,e){this.sg=1e3/t,this.ge=0,this.p=e,this.ee=k};Da(Fg[H],function(){this.ee||(this.ee=h,Ug(R(this.vg,this)))}),ta(Fg[H],function(){this.ee=k}),Fg[H].vg=function(){if(this.ee){var t=Date.now();t>this.ge&&(this.p.Te(),this.ge+=(o[ab]((t-this.ge)/this.sg)+1)*this.sg),this.p.O(),Ug(R(this.vg,this))}};var Mf=function(t,e){this.pg=t,this.b=e},Bh=function(t,e){this.object=t,this.method=e},Ch=function(t,e){this.C=t,ka(this,{}),this.U=e};O=Ch[H],O.get=function(t){var e=this.C.d(this[v],t);return e in this[v]?this[v][e]:this.U.get(t)},Ca(O,function(t,e){var i=this.C.d(this[v],t);if(!(i in this[v]))return this.U[L](t,e);if(i=this[v][i],i instanceof Bh){var n=i[Eb].r[cc];if(Uc(n))return n[N](i.object,e)}else if(Uc(i))return i[N](this.ja(),e)}),O.set=function(t,e){var i=this.C.d(this[v],t);return i in this[v]?(this[v][i]=e,h):this.U.set(t,e)},O.Ja=function(t,e){this[v][this.C.hb(this[v],t)]=e},O.dd=function(t){t=this.C.hb(this[v],t),t in this[v]||(this[v][t]=f)},O.xb=function(t){this.C.d(this[v],t)in this[v]||this.U.xb(t)},O.jb=function(t){this.U.jb(t)},O.ja=function(){return this.U.ja()},O.Nb=function(){return this.U.Nb()};var Dh=function(t,e,i){this.C=t,ka(this,i),this.U=e};O=Dh[H],O.get=function(t){var e=this.C.d(this[v],t);return e in this[v]?this[v][e]:this.U.get(t)},Ca(O,function(t,e){var i=this.C.d(this[v],t);return i in this[v]?(i=this[v][i],Uc(i)?i[N](this[v],e):void 0):this.U[L](t,e)}),O.set=function(t,e){var i=this.C.d(this[v],t);return i in this[v]?(this[v][i]=e,h):this.U.set(t,e)},O.Ja=function(t,e){var i=this.C.d(this[v],t);i in this[v]?this[v][i]=e:this.U.Ja(t,e)},O.dd=function(t){this.C.d(this[v],t)in this[v]||this.U.dd(t)},O.xb=function(t){var e=this.C.d(this[v],t);e in this[v]?Eh(this[v],e):this.U.xb(t)},O.jb=function(t){this.U.jb(t)},O.ja=function(){return this.U.ja()},O.Nb=function(){return this.U.Nb()};var Fh=function(t,e,i){this.C=t,ka(this,i),this.mf=i,this.Xe=e,this.$e=i};O=Fh[H],O.get=function(t){var e=this.C.d(this[v],t);return e in this[v]?this[v][e]:"this"==t[Oc]()?this.$e:this.Xe.get(t)},Ca(O,function(t,e){var i=this.C.d(this[v],t),n=this[v][i];return i in this[v]?Uc(n)?n[N](this[v],e):void 0:this.Xe[L](t,e)}),O.set=function(t,e){return this[v][this.C.hb(this[v],t)]=e,h},O.Ja=function(t,e){this[v][this.C.hb(this[v],t)]=e},O.dd=function(t){t=this.C.hb(this[v],t),t in this[v]||(this[v][t]=f)},O.xb=function(t){var e=this.C.d(this[v],t);e in this[v]?Eh(this[v],e):this.Xe.xb(t)},O.jb=function(t){t?(this.mf=t,ka(this,t)):(this.mf=j,ka(this,this.$e))},O.ja=function(){return this.mf},O.Nb=function(){return this.$e};var Gh=function(t,e){this.C=t,ka(this,new Z(e)),this[v]._global=this[v],U(this[v],"_global",3)};O=Gh[H],O.get=function(t){return this[v][this.C.d(this[v],t)]},Ca(O,function(t,e){var i=this[v][this.C.d(this[v],t)];return Uc(i)?i[N](this[v],e):void 0}),O.set=function(){return k},O.Ja=function(){},O.dd=function(){},O.xb=function(t){t=this.C.d(this[v],t),Eh(this[v],t)},O.jb=function(){},O.ja=function(){return j},O.Nb=function(){return j};var V=function(){};S(V,cf),V[H].valueOf=function(){for(var t="",e=this.__swiffy_d;e&&e[qb]();)t="."+e[qb]()+t,e=e[Ma]();return e&&e instanceof Dg&&e.a.K==e&&(t="_level0"+t),t},V[H].getDepth=function(){return this.__swiffy_d[z]};var Hh=function(t,e,i,n){m[x](t,e,{get:function(){var t=this.__swiffy_d;return t?i[L](this,t):void 0},set:function(t){var i=this.__swiffy_d;i?n[L](this,i,t):m[x](this,e,{value:t})}})},Ih=function(t,e,i,n){Hh(t,e,i,function(t,e){var i=t.a.j().cb(e);ca(i)||n[L](this,t,i)})},Jh=function(t,e){Hh(t,e,function(){return 0},function(){})},Kh=function(t,e,i){Hh(t,e,i,function(){})};Ih(V[H],"_x",function(t){return t.la().H/20},function(t,e){var i=t.la();t[mb](i.translate(20*e-i.H,0)),t.Ga()}),Ih(V[H],"_y",function(t){return t.la().I/20},function(t,e){var i=t.la();t[mb](i.translate(0,20*e-i.I)),t.Ga()}),Ih(V[H],"_xscale",function(t){return 100*t.wc().Pb},function(t,e){t.wc().Pb=e/100,t.jf(),t.Ga()}),Ih(V[H],"_yscale",function(t){return 100*t.wc().ad},function(t,e){t.wc().ad=e/100,t.jf(),t.Ga()}),Ih(V[H],"_alpha",function(t){return(256*t.Ea.Y|0)/2.56},function(t,e){var i=t.Ea;t.mb(new Ye(i.ha,i.oa,i.fa,i.na,i.ea,i.ma,e/100,i.ia)),t.Ga()}),Ih(V[H],"_visible",function(t){return t.La},function(t,e){t.Pi(ga(e))}),Ih(V[H],"_rotation",function(t){return-180*t.wc()[$b]/o.PI},function(t,e){t.wc().angle=-e*o.PI/180,t.jf(),t.Ga()}),Hh(V[H],"_name",function(t){return t[qb]()},function(t,e){t.qb(e)}),Jh(V[H],"_quality"),Jh(V[H],"_highquality"),Jh(V[H],"_soundbuftime"),Kh(V[H],"_parent",function(t){return(t=t[Ma]())?t.S():t}),Kh(V[H],"_xmouse",function(t){var e=t.a.Gc.L();return e.G(t.Yb()),e.x/20}),Kh(V[H],"_ymouse",function(t){var e=t.a.Gc.L();return e.G(t.Yb()),e.y/20}),Kh(V[H],"_url",function(){return n.location.href}),Hh(V[H],"_width",function(t){var e=t.Va().Jb();return e.Ha()?0:(e=e.L(),e.G(t.la()),(e.i-e.c)/20)},function(t,e){var i=t.a.j().cb(e);if(i>=0){var n=this._width,r=t.la();0==n?(n=t.Va().Jb()[Pa]()/20,0==n&&(n=1),t[mb](new Ve(i/n,r.B,0,r.u,r.H,r.I))):t[mb](r.Ff(i/n,1).re(r.H,r.I)),t.Ga()}}),Hh(V[H],"_height",function(t){var e=t.Va().Jb();return e.Ha()?0:(e=e.L(),e.G(t.la()),(e.k-e.e)/20)},function(t,e){var i=t.a.j().cb(e);if(i>=0){var n=this._height,r=t.la();0==n?(n=t.Va().Jb()[Gc]()/20,0==n&&(n=1),t[mb](new Ve(r.A,0,r.t,i/n,r.H,r.I))):t[mb](r.Ff(1,i/n).re(r.H,r.I)),t.Ga()}}),U(V[H],j,3);var Pf=function(){};S(Pf,V),U(Pf[H],j,3);var Lh=function(t){ra(this,"Error"),this.message=P(t)?t:"Error"};ua(Lh[H],function(){return this.message}),U(Lh[H],j,3);var W=function(){};S(W,Pf),W[H].enabled=h,W[H].gotoAndStop=function(t){var e=this.__swiffy_d;e.od(e.$c(t),k)},W[H].gotoAndPlay=function(t){var e=this.__swiffy_d;e.od(e.$c(t),h)},W[H].play=function(){this.__swiffy_d[Bb]()},ta(W[H],function(){this.__swiffy_d[Ob]()}),W[H].nextFrame=function(){this.__swiffy_d.oe()},W[H].prevFrame=function(){this.__swiffy_d.Ng()},W[H].globalToLocal=function(t){var e=this.__swiffy_d,i=e.a.j(),n=i.hg(t);if(n!=j){var r=i.d(t,"x"),i=i.d(t,"y"),e=Sg(e.Yb(),n);t[r]=e.x,t[i]=e.y}},W[H].localToGlobal=function(t){var e=this.__swiffy_d,i=e.a.j(),n=i.hg(t);if(n!=j){var r=i.d(t,"x"),i=i.d(t,"y"),e=Sg(e.Ka(),n);t[r]=e.x,t[i]=e.y}},W[H].createEmptyMovieClip=function(t,e){var i=this.__swiffy_d,n=new Dg(new Gg(0,0,i.a),i.a);return n.gc=h,n.qb(t),n.Fa(),n[pc](),i.Kc(e),i.ic(n,e),n.S()},W[H].getNextHighestDepth=function(){return this.__swiffy_d.n.Yh()},W[H].getInstanceAtDepth=function(t){var e=this.__swiffy_d;return-16384>t||!(t=e.n.Sd(t))?void 0:t instanceof Hf?t.S():e.S()},W[H].getSWFVersion=function(){return this.__swiffy_d.a.Z},W[H].setMask=function(t){var e=this.__swiffy_d,t=Q(t)?e.a.j().lg(t):t;t instanceof W?e.Yc(t.__swiffy_d):e.Yc(j)},W[H].attachMovie=function(t,e,i,n){var r=this.__swiffy_d,t=r.a.uf[t];if(P(t)){if(t=r.a.Ce(t,r),t.gc=h,t.qb(e),t.Fa(),t[pc](),r.Kc(i),r.ic(t,i),P(n)){var s,e=t.S();for(s in n)e[s]=n[s]}return t.S()}},W[H].duplicateMovieClip=function(t,e,i){var n=this.__swiffy_d,r=n[Ma]();if(r){if(t=n.duplicate(r,t,e),P(i)){var s,e=t.S();for(s in i)e[s]=i[s]}return t.S()}},W[H].removeMovieClip=function(){var t=this.__swiffy_d,e=t[Ma]();t.gc&&e&&(t.s(),e[kc](t))},W[H].swapDepths=function(t){var e=this.__swiffy_d,i=e[Ma]();if(i){var n=f;if(t instanceof V){if(t=t.__swiffy_d,t[Ma]()!=i)return;n=t[z]}else"number"==typeof t&&(n=t);P(n)&&i.ef(e[z],n)}},m[hb](W[H],function(){var t,e={};for(t in Jf)if(130816&t){var i=Jf[t];e[i]={get:Lf,set:ad(Kf,i)}}return e}()),W[H].getBytesLoaded=function(){return this.getBytesTotal()},W[H].getBytesTotal=function(){return 1e3},W[H].getBounds=function(t){var e=this.__swiffy_d,i=e.Va().Jb().L();if(i.Ha()&&i[Sa](134217728,134217728),P(t)){var n=j;if(Q(t)&&(t=e.a.j().Hc(t,this)),t instanceof W&&(n=t.__swiffy_d),!n)return;t=n.Yb(),i.G(e.Ka()[qc](t))}return e={},e.xMin=i.c/20,e.xMax=i.i/20,e.yMin=i.e/20,e.yMax=i.k/20,e},W[H].getURL=function(t,e,i){var n=0;Q(i)&&(i=i[Oc](),"get"==i?n=1:"post"==i&&(n=2)),Tg(this,t,e,n)},W[H].hitTest=function(t,e,i){if(P(t)){var n=this.__swiffy_d,r=n.Va().Jb().L();if(r.G(n.Ka()),P(e)||P(i)){if(P(e))return r[yc](20*t,20*e)}else if(e=j,t instanceof W?e=t.__swiffy_d:Q(t)&&(e=n.a.j().Hc(t,this)),e!=j)return t=e.Va().Jb().L(),t.G(e.Ka()),r.ph(t)}return k},W[H].clear=function(){this.__swiffy_d.Xb("clear",arguments)},W[H].moveTo=function(){this.__swiffy_d.Xb("moveTo",arguments)},W[H].lineTo=function(){this.__swiffy_d.Xb("lineTo",arguments)},W[H].curveTo=function(){this.__swiffy_d.Xb("curveTo",arguments)},W[H].lineStyle=function(){this.__swiffy_d.Xb("lineStyle",arguments)},W[H].beginFill=function(){this.__swiffy_d.Xb("beginFill",arguments)},W[H].endFill=function(){this.__swiffy_d.Xb("endFill",arguments)},Kh(W[H],"_currentframe",function(t){return o.max(1,t.T+1)}),Kh(W[H],"_totalframes",function(t){return t.h[gc]}),Kh(W[H],"_framesloaded",function(t){return t.h[gc]}),Kh(W[H],"_root",function(t){return t.a.K.S()}),Kh(W[H],"_target",function(){var t=this._root;if(this==t)return"/";for(var e="",i=this;i&&i!=t;)e="/"+i._name+e,i=i._parent;return e}),Kh(W[H],"_level0",function(t){return t.a.K.S()}),U(W[H],j,3);var Vf=function(){};S(Vf,V);var Mh=function(t){return t[u](/<[^>]+>|&[^;]+;/g,function(t){switch(t){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'";case"&nbsp;":return" "}return""})},Nh=function(t){return t[u](/[<>&]/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}return t})},Wf={text:{get:function(){var t=this.__swiffy_d,e=t.bc;return t.Wa&&(e=Mh(e)),e},set:function(t){var e=this.__swiffy_d;e.Wa&&(t=Nh(""+t)),e.Rc(t)}},htmlText:{get:function(){var t=this.__swiffy_d,e=t.bc;if(t.Wa){for(var t=""+e,e=/\s*<p(?: [^>]*)?>.*?<\/p>\s*/gi,i=0,n=e[Oa](t),r="";n;)n[Xb]>i&&(r+="<p>"+t[uc](i,n[Xb])+"</p>"),r+=n[0],i=e.lastIndex,n=e[Oa](t);t[G]>i&&(r+="<p>"+t[uc](i)+"</p>"),e=r}return e},set:function(t){this.__swiffy_d.Rc(t)}},html:{get:function(){return this.__swiffy_d.Wa},set:function(t){var e=this.__swiffy_d,t=!!t;if(t!=e.Wa){var i=this[Ra];e.ri(t),this.text=i}}}};U(Vf[H],j,3);var Ig=function(t){this.p=t};m[x](Ig[H],"height",{get:function(){return"noScale"==this.p.sb?this.p.$d:this.p.sd},set:function(){}}),m[x](Ig[H],"width",{get:function(){return"noScale"==this.p.sb?this.p.ae:this.p.td},set:function(){}}),m[x](Ig[H],"align",{get:function(){var t=this.p.Lb,e="";return 1&t&&(e+="L"),2&t&&(e+="T"),4&t&&(e+="R"),8&t&&(e+="B"),e},set:function(t){var t=(""+t).toUpperCase(),e=0;-1<t[w]("L")&&(e|=1),-1<t[w]("T")&&(e|=2),-1<t[w]("R")&&(e|=4),-1<t[w]("B")&&(e|=8),this.p.Zh(e)}}),m[x](Ig[H],"scaleMode",{get:function(){return this.p.sb},set:function(t){switch((""+t)[Oc]()){case"exactfit":t="exactFit";break;case"noborder":t="noBorder";break;case"noscale":t="noScale";break;default:t="showAll"}this.p.$h(t)}}),U(Ig[H],j,3);var Z=function(t){m[x](this,"__swiffy_s",{value:t}),this.String=Oh(String,function(e){return t.j().Qa(e)},["fromCharCode"]),U(this,"String",3),this.Number=Oh(p,function(e){return t.j().cb(e)},["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]),U(this,"Number",3),this.Boolean=Oh(ga,function(e){return t.j().yg(e)}),U(this,"Boolean",3),this.Color=Bg(t),U(this,"Color",3),this.AsBroadcaster=new ef(t),U(this,"AsBroadcaster",3)},Oh=function(t,e,i){if(e.__swiffy_constructor=function(i){return new t(e(i))},e.__swiffy_wrapped_type=t,P(i))for(var n=0;n<i[G];n++)e[i[n]]=t[i[n]];return U(e,j,3),e};Z[H].ASSetPropFlags=U,Z[H].clearInterval=function(t){ba.clearInterval(t)},Z[H].clearTimeout=function(t){ba.clearTimeout(t)},Z[H].escape=function(t){return escape(t)[u](/[-@*+.\/_]/g,function(t){return"%"+t[sc](0)[Pb](16).toUpperCase()})},Z[H].parseFloat=parseFloat,Z[H].parseInt=Dd?function(t,e){if(!P(e)){var i=(""+t)[jb]();"0"==i[bb](0)&&"x"!=i[bb](1)[Oc]()&&(e=8)}return ha(t,e)}:ha,Z[H].isFinite=function(t){return isFinite(t)},Z[H].isNaN=function(t){return ca(t)},Z[H].unescape=function(t){return unescape(t)},Z[H].setInterval=function(t){if(Uc(t)&&2<=arguments[G])return ba.setInterval[N](j,arguments);if(Vc(t)&&3<=arguments[G]){var e=arguments[1],i=da[H][Ta][L](arguments,3);return ba.setInterval[L](j,function(){Uc(t[e])&&t[e][N](t,i)},arguments[2])}},Z[H].setTimeout=function(t,e){return Uc(t)&&2<=arguments[G]?ba.setTimeout[N](j,arguments):void 0},Z[H].updateAfterEvent=function(){this.__swiffy_s.Dc=h},Z[H].Error=Lh,Z[H].Math=o,Z[H].MovieClip=W,Z[H].TextField=Vf,Z[H].Date=Date,m[x](Date,"__swiffy_constructor",{value:function(t,e,i,n,r,s,a){switch(arguments[G]){case 0:return new Date;case 1:return new Date(arguments[0]);default:return i=P(i)?i:1,n=P(n)?n:0,r=P(r)?r:0,s=P(s)?s:0,a=P(a)?a:0,new Date(t,e,i,n,r,s,a)}}}),Z[H].Array=da,m[x](da,"__swiffy_constructor",{value:da}),Z[H].Object=cf,m[x](Z[H],"Key",{get:function(){return this.__swiffy_s.getKey()},set:function(){}}),m[x](Z[H],"Mouse",{get:function(){return this.__swiffy_s.$a},set:function(){}}),m[x](Z[H],"Stage",{
get:function(){return this.__swiffy_s.Fd},set:function(){}}),U(Z[H],j,3);var X=function(t){this.Q=[],this.ng=[],this.wb=[],this.p=t,this.zh=this.mg(),this.Zd=[],this.Xd=k,this.ua=0,this.Ba=4,this.Ke=new Gh(this,t)};O=X[H],O.cg=function(t){this.Zd[s](R(function(){this.Eg(t)},this))},O.Yf=function(t){this.Zd[s](t)},O.$=function(){if(!this.Xd){for(this.Xd=h;0<this.Zd[G];)this.Zd.shift()();this.Xd=k}},O.mg=function(){return(new Date).getTime()},O.xd=function(t){this.Ke.get("AsBroadcaster").initialize(t)},O.reset=function(t){this.Q=[],this.ua=0,this.Ba=4,wa(this.Q,this.Q[G]+this.Ba),this.m=new Fh(this,this.Ke,t.S())},O.Eg=function(t){if(!t.b.nb){this[Ac](t.b);for(var e=0;e<t.pg[G];)e=t.pg[e][L](this,e+1)}},O.vh=function(t,e){return ad(function(i){e.nb||(i[Ac](e),t())},this)};var Ph=function(t){return t=t[u](/\.\.|\/:?|:/g,function(t){return".."==t?"_parent":"."}),"."==t[0]&&(t="_root"+t),"."==t[t[G]-1]&&(t=t[uc](0,t[G]-1)),t};X[H].Od=function(t,e){P(e)||(e=this.ja());var i=t[bc](":");return 1<i[G]?{path:this.Hc(i[0],e),Sc:i[1]}:{path:e,Sc:t}},X[H].ni=function(t){for(var e=0;e<this.ng[G];e++)this.ng[e](t);ba.console&&ba.console.log("[trace] "+t)};var Qh={"boolean":{},number:{},string:{},undefined:{}},Rh=function(t){for(var e=m[Na](t[cc][H]),t=Qh[typeof t],i=0;i<e[G];++i){var n=e[i],r=n[Oc]();n!=r&&(t[r]=n)}};Rh(k),Rh(0),Rh("");var Sh=function(t){if(!t)return{constructor:"constructor"};var e=t.__swiffy_nm;if(!e||e.__swiffy_nm!=t){for(var e=m[Tb](Sh(m[Jb](t))),i=m[Na](t),n=0;n<i[G];++n){var r=i[n],s=r[Oc]();r!=s&&(e[s]=r)}m[x](e,"__swiffy_nm",{value:t,writable:h}),m[x](t,"__swiffy_nm",{value:e,writable:h})}return e};O=X[H],O.d=function(t,e){if(7<=this.p.Z){if(t instanceof V){if(e in t)return e;var i=e[Oc]();if(i in t&&-1<Th[w](i))return i}return e}var n=Qh[typeof t];if(!n){if(e in t)return e;n=Sh(t)}return i=e[Oc](),(n=n[i])?n:i},O.hb=function(t,e){if(7<=this.p.Z){if(t instanceof V){if(e in t)return e;var i=e[Oc]();if(i in t&&-1<Th[w](i))return i}return e}var n=Qh[typeof t];if(n)return i=e[Oc](),(n=n[i])?n:i;if(e in t)return e;var r=Sh(t),i=e[Oc]();return(n=r[i])?n:e==i||i in t?i:r[i]=e},O.hg=function(t){if(Vc(t)){var e=t[this.d(t,"x")],t=t[this.d(t,"y")];if("number"==typeof e&&"number"==typeof t)return new Ue(e,t)}return j},O.ja=function(){return this.m.ja()},O.zb=function(){var t=this.m.ja();return t?t.__swiffy_d:j},O.push=function(t){this.Q[s](t)},O.pop=function(){return this.Q[G]>this.ua+this.Ba?this.Q.pop():void 0},O.g=function(){return this.cb(this.pop())},O.F=function(){return this.Qa(this.pop())},O.rd=function(){return this.yg(this.pop())},O.tg=function(){return this.fe(this.pop())},O.fe=function(t){return t instanceof V?t:this.lg(""+t)},O.Hc=function(t,e){if(!e||!t)return e;for(var t=Ph(t),i=e,n=t[bc]("."),r=0;r<n[G]&&i;r++)i=i[this.d(i,n[r])];return i},O.lg=function(t){return this.Hc(t,this.ja())},O.jh=function(t,e,i,n){if(this.Xd||this[Ac](i),i=this.Od(t,i.S()),i[Db]&&i[Db].__swiffy_d){var t=i[Db].__swiffy_d,r=i[Db],i=this.hb(r,i.Sc);if(P(t.Pc[i])||(t.Pc[i]=[]),t.Pc[i][s](e),i in r&&(e.Rc(""+r[i]),n=r[i],m[lc](r,i).get))return;m[x](r,i,Uh(n,t.Pc[i]))}};var Uh=function(t,e){var i=t;return{get:function(){return i},set:function(t){i=t;for(var n=0;n<e[G];n++)e[n].Rc(t)},configurable:h}};X[H].xh=function(t,e,i){i=this.Od(t,i.S()),i[Db]&&(t=i[Db].__swiffy_d,i=this.d(i[Db],i.Sc),ld(t.Pc[i],e))};var Eh=function(t,e){if(delete t[e],t instanceof W){var i=t.__swiffy_d.n.Xh(e);i&&vf(t,i,e)}};X[H].Ua=function(t){for(var e=[],i=0;i<t[G];++i)e[i]=this.Di(t[i]);return e},X[H].Di=function(t){var e=$__[t[A]];return e?e.da?e(t,this):e:R(Vh,this,t[A])};var Th="_x,_y,_xscale,_yscale,_currentframe,_totalframes,_alpha,_visible,_width,_height,_rotation,_target,_framesloaded,_name,_droptarget,_url,_highquality,_focusrect,_soundbuftime,_quality,_xmouse,_ymouse".split(","),$__={4:function(t){return this.oe(),t}};X[H].oe=function(){var t=this.zb();t&&t.oe()},$__[5]=function(t){return this.Ni(),t},X[H].Ni=function(){var t=this.zb();t&&t.Ng()},$__[6]=function(t){return this[Bb](),t},X[H].play=function(){var t=this.zb();t&&t[Bb]()},$__[7]=function(t){return this[Ob](),t},ta(X[H],function(){var t=this.zb();t&&t[Ob]()}),$__[9]=function(t){return this.Qi(),t},X[H].Qi=function(){var t=this.zb();t&&t.jc().li()},$__[10]=function(t){var e=this.g();return this[s](this.g()+e),t},$__[11]=function(t){var e=this.g();return this[s](this.g()-e),t},$__[12]=function(t){var e=this.g();return this[s](this.g()*e),t},$__[13]=function(t){var e=this.g();return this[s](this.g()/e),t},$__[14]=function(t){var e=this.g();return this[s](this.Rh(this.g(),e)),t},$__[15]=function(t){var e=this.g();return this[s](this.g()<e),t},$__[16]=function(t){var e=this.rd();return this[s](this.rd()&&e),t},$__[17]=function(t){var e=this.rd();return this[s](this.rd()||e),t},$__[18]=function(t){return this[s](!this.rd()),t},$__[19]=function(t){var e=this.F();return this[s](this.F()==e),t},$__[20]=function(t){return this[s](this.F()[G]),t},$__[21]=function(t){var e=this.pop(),i=this.pop();return this[s](this.gi(this.F(),i,e)),t},X[H].gi=function(t,e,i){return t=this.Qa(t),i=p(i),e=o.max(0,p(e)-1),t.substr(e,i)},$__[23]=function(t){return this.pop(),t},$__[24]=function(t){var e=this.g(),e=0>e?o[Xa](e):o[ab](e);return this[s](e),t},$__[28]=function(t){return this[s](this.fi(this.F())),t},X[H].fi=function(t){var t=Ph(t),t=t[bc]("."),e=this.m.get(t[0]);if(1<t[G]){var i;for(i=1;P(e)&&i<t[G]-1;++i)e=e[this.d(e,t[i])];P(e)&&(e=e[this.d(e,t[i])])}return e},$__[29]=function(t){var e=this.pop();return this.ff(this.F(),e),t},X[H].ff=function(t,e){var t=Ph(t),i=t[bc](".");if(1==i[G])this.m.set(t,e);else{var n,r=this.m.get(i[0]);for(n=1;P(r)&&n<i[G]-1;++n)r=r[this.d(r,i[n])];P(r)&&(r[this.hb(r,i[n])]=e)}},$__[33]=function(t){var e=this.F();return this[s](this.F()+e),t},$__[34]=function(t){var e=this.g();return this[s](this.Qh(this.pop(),e)),t},X[H].Qh=function(t,e){var i=this.fe(t),n=Th[e];return i?i[n]:void 0},$__[35]=function(t){var e=this.pop(),i=this.g();return this.setProperty(this.pop(),i,e),t},X[H].setProperty=function(t,e,i){e=Th[e],(t=this.fe(t))&&e&&(t[e]=i)},$__[36]=function(t){var e=this.g(),i=this.F(),n=this.tg(),r=this.zb();return n&&r&&n.__swiffy_d.duplicate(r,i,e),t},$__[37]=function(t){var e=this.tg();return e instanceof W&&e.removeMovieClip(),t},$__[38]=function(t){return this.trace(this.pop()),t},X[H].trace=function(t){this.ni(P(t)?this.Qa(t):"undefined")};var Vh=function(t,e){return e};$__[51]=function(t){var e=this.g();return this[s](String.fromCharCode(e)),t},$__[50]=function(t){return this[s](this.F()[sc](0)),t},$__[52]=function(t){return this[s](this.getTime()),t},X[H].getTime=function(){return this.mg()-this.zh},$__[48]=function(t){return this[s](this.random(this.g())),t},X[H].random=function(t){var e;do e=o[ab](o.random()*t);while(e==t&&t>0);return e},$__[60]=function(t){var e=this.pop();return this.m.Ja(this.pop(),e),t},$__[65]=function(t){return this.m.dd(this.pop()),t},$__[59]=function(t){return this.Fi(this.pop()),t},X[H].Fi=function(t){var t=this.Qa(t),t=Ph(t),e=t[bc](".");if(1==e[G])this.m.xb(t);else{var i,t=this.m.get(e[0]);for(i=1;P(t)&&i<e[G]-1;++i)t=t[this.d(t,e[i])];P(t)&&Eh(t,this.d(t,e[i]))}},$__[62]=function(){return Ea(this,this.pop()),p.MAX_VALUE},$__[63]=function(t){var e=this.g();return this[s](this.g()%e),t},$__[71]=function(t){var e=this.pop();return this[s](this.add(this.pop(),e)),t},$__[72]=function(t){var e=this.pop();return this[s](this.Qg(this.pop(),e)),t},X[H].Qg=function(t,e){return"object"==typeof t&&t!==j&&(t=t[Ka](),"object"==typeof t)||"object"==typeof e&&e!==j&&(e=e[Ka](),"object"==typeof e)?k:"string"==typeof t&&"string"==typeof e?e>t:("number"!=typeof t&&(t=this.cb(t)),"number"!=typeof e&&(e=this.cb(e)),ca(t)||ca(e)?f:e>t)},$__[103]=function(t){var e=this.pop(),i=this.pop();return this[s](this.Qg(e,i)),t},$__[73]=function(t){var e=this.pop();return this[s](this.vc(this.pop(),e)),t},X[H].vc=function(t,e){if(!(typeof t==typeof e&&6<=this.p.Z)){if("object"==typeof t&&t!==j&&(t=t[Ka]()),"object"==typeof e&&e!==j&&(e=e[Ka]()),"object"==typeof t||"object"==typeof e)return t===f||t===j?e===f||e===j:t===e;"string"!=typeof t||"boolean"!=typeof e&&"number"!=typeof e?"string"!=typeof e||"boolean"!=typeof t&&"number"!=typeof t||""!=e[jb]()||(e=p.NaN):""==t[jb]()&&(t=p.NaN)}return t==e},$__[102]=function(t){var e=this.pop();return this[s](this.pop()===e),t},$__[41]=function(t){var e=this.F();return this[s](this.F()<e),t},$__[42]=function(){throw this.pop()},$__[104]=function(t){var e=this.F();return this[s](this.F()>e),t},$__[105]=function(t){var e=this.pop(),i=this.pop();return S(i,e),t},$__[74]=function(t){return this[s](this.g()),t},$__[75]=function(t){return this[s](this.F()),t},$__[76]=function(t){var e=this.pop();return this[s](e),this[s](e),t},$__[77]=function(t){var e=this.pop(),i=this.pop();return this[s](e),this[s](i),t},$__[78]=function(t){var e=this.pop();return this[s](this.Ii(this.pop(),e)),t},X[H].Ii=function(t,e){if(t!=j){if("number"!=typeof e)return t[this.d(t,this.Qa(e))];if("string"!=typeof t)return t[e]}},$__[79]=function(t){var e=this.pop(),i=this.pop();return this.Oi(this.pop(),i,e),t},X[H].Oi=function(t,e,i){t!=j&&("number"==typeof e?t[e]=i:t[this.hb(t,this.Qa(e))]=i)},$__[80]=function(t){var e=this.g();return this[s](++e),t},$__[81]=function(t){var e=this.g();return this[s](--e),t},$__[96]=function(t){var e=this.g(),i=this.g();return this[s](e&i),t},$__[97]=function(t){var e=this.g(),i=this.g();return this[s](e|i),t},$__[98]=function(t){var e=this.g();return this[s](this.g()^e),t},$__[99]=function(t){var e=this.g();return this[s](this.g()<<e),t},$__[100]=function(t){var e=this.g();return this[s](this.g()>>e),t},$__[101]=function(t){var e=this.g();return this[s](this.g()>>>e),t},$__[58]=function(t){var e=this.F(),i=this.pop();return i&&Eh(i,this.d(i,e)),t},$__[129]=function(t,e){return R(Wh,e,t.frame)},$__[129].da=h;var Wh=function(t,e){var i=this.zb();return i&&i.od(t,k),e};$__[140]=function(t,e){return R(Xh,e,t.label)},$__[140].da=h;var Xh=function(t,e){return this.Ji(t),e};X[H].Ji=function(t){var e=this.zb();e&&(t=e.$c(t),t!=f&&e.od(t,k))},$__[136]=function(t,e){return R(Yh,e,t.constants)},$__[136].da=h;var Yh=function(t,e){return this.wb=t,e};$__[32]=function(t){return this.jb(this.pop()),t},X[H].jb=function(t){t instanceof V||(t=this.Hc(""+t,this.m.Nb())),this.m.jb(t)},$__[69]=function(t){var e=this.pop(),i=f;return e instanceof V&&(i=e[Ka]()),this[s](i),t},$__[305]=function(t,e){return R(Zh,e,t.value)},$__[305].da=h;var Zh=function(t,e){return this[s](t),e};$__[306]=function(t){return this[s](f),t},$__[307]=function(t){return this[s](p.POSITIVE_INFINITY),t},$__[308]=function(t){return this[s](p.NEGATIVE_INFINITY),t},$__[309]=function(t){return this[s](p.NaN),t},$__[304]=function(t,e){return R($h,e,t[Xb])},$__[304].da=h;var $h=function(t,e){return this[s](this.wb[t]),e};$__[303]=function(t,e){return R(ai,e,t[Xb])},$__[303].da=h;var ai=function(t,e){return t>=0&&t<this.Ba?this[s](this.Q[this.ua+t]):this[s](f),e};$__[135]=function(t,e){return R(bi,e,t[Xb])},$__[135].da=h;var bi=function(t,e){return t>=0&&t<this.Ba&&(this.Q[this.ua+t]=this.Q[this.Q[G]-1]),e};$__[154]=function(t,e){return R(ci,e,t[Eb])},$__[154].da=h;var ci=function(t,e){var i=this.F(),n=this.F();return Tg(this.ja(),n,i,t),e};$__[148]=function(t,e){return R(di,e,e.Ua(t[jc]))},$__[148].da=h;var di=function(t,e){var i=this.pop();if(!(i instanceof cf))return e;var n=this.m;this.m=new Dh(this,n,i),i=0;try{for(;i<t[G];)i=t[i][L](this,i+1)}finally{this.m=n}return e};$__[155]=function(t,e){return R(ei,e,t.args,e.Ua(t[jc]),[],1,4)},$__[155].da=h,$__[142]=function(t,e){return R(ei,e,t.args,e.Ua(t[jc]),t.preloads,t.suppress,t.registerCount)},$__[142].da=h;var ei=function(t,e,i,n,r,a){var o=this,c=this.wb;return this[s](this.Eh(function(){var n=o.ua,s=o.Ba,a=o.wb;o.wb=c,o.ua=o.Q[G],o.Ba=r,wa(o.Q,o.Q[G]+o.Ba);for(var h=0;h<i[G]&&r>h+1;++h)o.Q[o.ua+h+1]=o.m.get(i[h]);for(h=0;h<t[G];++h)Q(t[h])?o.m.Ja(t[h],arguments[h]):o.Q[o.ua+t[h]]=arguments[h];Ea(o,f),h=0;try{for(;h<e[G];)h=e[h][L](o,h+1)}finally{wa(o.Q,o.ua),o.ua=n,o.Ba=s,o.wb=a}return o.returnValue},n)),a};X[H].Eh=function(t,e){var i=this,n=this.m,r=function(){var r=i.m,s=i.m.ja();if(5<i.p.Z)i.m=new Ch(i,n);else{var a=new Fh(i,i.Ke,this);i.m=new Ch(i,a)}if(4&e||i.m.Ja("this",this),1&e||i.m.Ja("super",new Bh(this,arguments.callee)),!(2&e)){for(var a=arguments.callee.caller,o=10;a&&!(a[H]instanceof cf);)if(a=a.caller,0>=--o){a=j;break}o=da[H][Ta][L](arguments),o.callee=arguments.callee,o.caller=a,i.m.Ja("arguments",o)}var c;try{c=t[N](this,arguments)}finally{i.m=r,i.m.jb(s)}return c};return S(r,cf),r},$__[143]=function(t,e){return R(fi,e,e.Ua(t.tryBlock),t.catchBlock?e.Ua(t.catchBlock):j,t.finallyBlock?e.Ua(t.finallyBlock):j,t.register,t[Zb])},$__[143].da=h;var fi=function(t,e,i,n,r,s){var a;try{for(a=0;a<t[G];)a=t[a][L](this,a+1)}catch(o){if(e==j)throw o;var c;P(r)?(c=this.m.get(r),this.m.Ja(r,o)):n>=0&&n<this.Ba&&(this.Q[this.ua+n]=o),a=0;try{for(;a<e[G];)a=e[a][L](this,a+1)}finally{P(r)&&(P(c)?this.m.Ja(r,c):this.m.xb(r))}}finally{if(i!=j)for(a=0;a<i[G];)a=i[a][L](this,a+1)}return s};$__[61]=function(t){for(var e=this.F(),i=this.g(),n=[],r=0;i>r;++r)n[r]=this.pop();return this[s](this.m[L](e,n)),t},Ca(X[H],function(t,e){return this.m[L](t,e)}),$__[82]=function(t){for(var e=this.pop(),i=this.pop(),n=this.g(),r=[],a=0;n>a;a++)r[a]=this.pop();return this[s](this.Oh(e,i,r)),t},X[H].Oh=function(t,e,i){if(e!=j){if(t==j||""===t){if(e instanceof Bh){if(t=e[Eb].r[cc],Uc(t))return t[N](e.object,i);return}return(t=this.m.ja())||(t=this.m.Nb()),e[N](t,i)}var n,r=f;if(e instanceof Bh){n=e.object;for(var s=k,a=n[cc];a;a=a.r&&a.r[cc]){if(s){r=a[H][""+t];break}for(var o=m[Na](a[H]),c=0;c<o[G]&&!s;c++)a[H][o[c]]===e[Eb]&&(s=h)}}else r=e[this.d(e,""+t)],n=e;if(r)return r[N](n,i)}},$__[64]=function(t){for(var e=this.m.get(this.F()),i=this.g(),n=[],r=0;i>r;++r)n[r]=this.pop();return Uc(e)||(e=cf),"__swiffy_constructor"in e?i=e.__swiffy_constructor[N](j,n):(i=m[Tb](e[H]),e[N](i,n)),this[s](i),t},$__[83]=function(t){for(var e=this.pop(),i=this.pop(),n=this.g(),r=[],a=0;n>a;a++)r[a]=this.pop();return n=f,i!=j&&(n=e==j||""===e?i:i[this.d(i,""+e)]),Uc(n)||(n=cf),"__swiffy_constructor"in n?e=n.__swiffy_constructor[N](j,r):(e=m[Tb](n[H]),n[N](e,r)),this[s](e),t},$__[67]=function(t){for(var e=new cf,i=this.g(),n=0;i>n;n++){var r=this.pop(),a=this.F();e[a]=r}return this[s](e),t},$__[66]=function(t){for(var e=[],i=this.g(),n=0;i>n;n++){var r=this.pop();e[n]=r}return this[s](e),t},$__[68]=function(t){var e=this.pop();return this[s](e instanceof W?"movieclip":e==j||e==f?""+e:typeof e),t},$__[85]=function(t){var e=this.pop();if(this[s](f),"string"!=typeof e)for(var i in e)this[s](i);return t},$__[153]=function(t,e){return R(gi,e,t[mc])},$__[153].da=h;var gi=function(t){return t};$__[157]=function(t,e){return R(hi,e,t[mc])},$__[157].da=h;var hi=function(t,e){return ga(this.pop())?t:e};$__[158]=function(t){var e=this.Od(this.F());if(e[Db]&&e[Db].__swiffy_d){var i=e[Db].__swiffy_d,e=i.$c(e.Sc);if(e!=f&&(e=i.wh(e))){for(var n=this.m,r=this.ua,s=this.Ba,a=this.wb,o=this.Q,c=0;c<e[G];c++)e[c].Ud(i);this.Q=o,this.m=n,this.ua=r,this.Ba=s,this.wb=a}}return t},$__[159]=function(t,e){return R(ii,e,t.frameBias,t[Bb])},$__[159].da=h;var ii=function(t,e,i){var n=this.Od(this.F());if(n[Db]&&n[Db].__swiffy_d){var r=n[Db].__swiffy_d,n=r.$c(n.Sc);n!=f&&r.od(n+t,e)}return i};$__[44]=function(t){var e,i=this.pop(),n=this.g(),i=(i=i?i[H]:j)?i:{};i[ic]("__swiffy_if")?e=i.__swiffy_if:(e=new Se,i.__swiffy_if&&e.jd(i.__swiffy_if),m[x](i,"__swiffy_if",{value:e}));for(var r=0;n>r;++r){var s=this.pop();(i=s?s[H]:j)&&(e.add(s),i.__swiffy_if&&e.jd(i.__swiffy_if))}return t};var ji=function(t,e){if(Uc(e)){if("__swiffy_wrapped_type"in e&&(e=e.__swiffy_wrapped_type),t instanceof e)return t;if(t instanceof m){var i=t.__swiffy_if;if(i&&i[yc](e))return t}}return j};$__[43]=function(t){var e=this.pop(),i=this.pop();return this[s](ji(e,i)),t},$__[84]=function(t){var e=this.pop(),i=this.pop();return this[s](!!ji(i,e)),t},O=X[H],O.cb=function(t){return 7<=this.p.Z?!P(t)||t===j||Q(t)&&""===t[jb]()?p.NaN:p(t):5<=this.p.Z&&7>this.p.Z?P(t)&&t!==j?Q(t)&&""===t[jb]()?p.NaN:p(t):0:P(t)&&this.p.Z!==j?Q(t)?(t=p(t),ca(t)?0:t):p(t):0},O.Qa=function(t){return 5>this.p.Z&&"boolean"==typeof t&&(t=t?"1":"0"),7>this.p.Z&&!P(t)?"":t+""},O.yg=function(t){return ga(7<=this.p.Z?t:"string"==typeof t?p(t):t)},O.Rh=function(t,e){return 5>this.p.Z?t==e?1:0:t==e},O.add=function(t,e){return Q(t)||Q(e)?this.Qa(t)+this.Qa(e):this.cb(t)+this.cb(e)}}}();var ns=window.ns=function(t,e,i){e=e||{},i=i||window;for(var n=t.split("."),r=i,s="";s=n.shift();)0!==n.length?r[s]=r[s]||{}:r[s]=_.extend(e,r[s]),r=r[s];return r};window.console||(window.console={},window.console.log=function(){}),ns("bugherd",{config:{debug:!1,parentPageOffset:null,blankImageUrl:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",text:{unassigned:"Unassigned",unreported:"Unknown",unurl:"None",ajaxError:"An AJAX request failed: ",uploadError:"Bad news. The upload failed. Likely the file was bigger than 10MB or there was a connection issue.",screenshotError:"Bad news. Something went wrong when saving the screenshots, we're not sure what it was, but we're looking into it. Sorry about that.\nHere's the error: ",saveExitWarning:"BugHerd is saving some data in the background. Would you like to exit anyway, and risk losing data?",saveExitCompleted:"BugHerd has finished saving its data. Would you still like to exit?",deleteTaskConfirm:"Are you sure you would like to delete this task?",deleteCommentConfirm:"Are you sure you would like to delete this comment?",cancelEditCommentConfirm:"You will lose the changes you have made to this comment"},flagCSS:{"box-sizing":"content-box",overflow:"visible",display:"block",position:"absolute",padding:"0",height:"26px",width:"30px","margin-left":"-10px","margin-top":"-24px","-webkit-transform":"none"},flagFlippedCSS:{"margin-top":"0","-webkit-transform":"rotate(180deg) scaleX(-1)"},tooltipCSS:{"box-sizing":"content-box",display:"block","font-family":"Open Sans,lucida grande,lucida sans unicode,lucida sans,sans-serif","line-height":"1.5",position:"absolute",background:"rgba(0,0,0,.8)",color:"#fff","font-size":"12px","font-weight":"700",padding:"10px","-webkit-border-radius":"2px","-moz-border-radius":"2px","-ms-border-radius":"2px","-o-border-radius":"2px","border-radius":"2px","margin-top":"10px","margin-left":"20px","-webkit-box-shadow":"0 0 2px rgba(0,0,0,.7)","-moz-box-shadow":"0 0 2px rgba(0,0,0,.7)","-o-box-shadow":"0 0 2px rgba(0,0,0,.7)","-ms-box-shadow":"0 0 2px rgba(0,0,0,.7)","box-shadow":"0 0 2px rgba(0,0,0,.7)","max-width":"400px","white-space":"pre-wrap","word-wrap":"break-word"},extension:{supportedBrowser:/Chrome|Firefox|Safari/.test(navigator.userAgent),chromeLink:"https://chrome.google.com/webstore/detail/popigpemobhbfkhnnkllkjgkaabedgpb",firefoxLink:"https://www.bugherd.com/extensions/firefox/bugherd-plus.xpi",safariLink:"https://www.bugherd.com/extensions/safari/bugherd-plus.safariextz"},screenshot:{extension:"jpeg",quality:85,delay:200},uiQueueDelay:200},getText:function(t){return bugherd.config.text[t]||t},getConfigOption:function(t,e){var i=!1;return t=t||"metadata",i=e?parent.BugHerdConfig&&parent.BugHerdConfig[t]&&parent.BugHerdConfig[t][e]||!1:parent.BugHerdConfig&&parent.BugHerdConfig[t]||!1},views:{},initialize:function(){$(function(){bugherd.domReady()})},domReady:function(){var t=this,e=window._bugHerd||window.parent._bugHerd||null;if(null==e)throw new Error("Did not get the data we need from the server to initialize bugherd properly");if(!bugherd.application){var i=bugherd.application=new BugHerd.Shared.Models.Application,n=e.data.activeTask,r=e.data.active_task;i.parseSettings(e.data).fetch().set({activeTask:n||i.get("activeTask"),displayTask:r||i.get("displayTask"),showGuiders:e.settings&&e.settings.showGuiders,projectPath:e.settings&&e.settings.projectPath,tasks:e.data.tasks,pusherApiKey:e.data.pusherApiKey,bugherdUrl:e.data.bugherdUrl,url:e.data.bugherdUrl,screenshotServerUrl:e.data.screenshotServerUrl}),i.set("experiments",e.data.experiments),i.live();var s=function(){t.initializeSidebar(),bugherd.applicationView=new BugHerd.Sidebar.Views.Application(i),bugherd.applicationView.render().$el.appendTo(document.body).topZIndex(),bugherd.applicationView.afterInsert()};if(i.isAdminView())bugherd.applicationRouter=new BugHerd.Admin.Routers.Application(bugherd),Backbone.history.start({pushState:"pushState"in window.history,root:i.get("projectPath")});else{var a;if("reporter"===bugherd.application.get("mode"))a="reporter";else{if("anonymous"===bugherd.application.get("mode"))return s();a="open"}bugherd.application.tasksCollection.fetch({reset:!0,data:"mode="+a+"&updated_at="+bugherd.application.get("updatedAt")+"&src="+encodeURIComponent(location.origin),success:s})}return i.on("change",function(){i.save()}),this}},initializeSidebar:function(){var t=this;this.extensionExistanceQueue=[],this.extensionScreenshotQueue=[],this.extensionScreenshotDataURIQueue={};var e=bugherd.parentPage={};e.window=window.parent,e.$window=$(e.window),e.document=e.window.document,e.$document=$(e.document,e.$window),e.body=e.document.body,e.$body=$("body",e.$document),e.$head=$("head",e.$document),e.$frame=$("#_BH_frame",e.$body),bugherd.config.flagCSS.background="url("+bugherd.application.get("bugherdUrl")+"/images/sidebar/bug-p0.png) no-repeat";var i=$("<div>").css({position:"absolute",left:0,top:0}).appendTo(e.$body);bugherd.config.parentPageOffset=i.offset(),i.remove(),$.browser.msie&&$(document.body).addClass("ie ie"+parseInt($.browser.version,10)),bugherd.application.get("displayTask")&&bugherd.application.set({sidebarOpen:!0,tasksOpen:!1,detailsOpen:!1}),bugherd.onEvent("bugherdScreenshotDataURIResponse",function(e){var i=t.extensionScreenshotDataURIQueue[e.token];_.isFunction(i)&&i(e),delete i}),bugherd.onEvent("bugherdExistanceResponse",function(e){for(;0!==t.extensionExistanceQueue.length;)t.extensionExistanceQueue.shift()(e)}),bugherd.onEvent("bugherdScreenshotGenerateResponse",function(e){for(;0!==t.extensionScreenshotQueue.length;)t.extensionScreenshotQueue.shift()(e)}),bugherd.onEvent("bugherdTidy",function(){delete window.parent._bugHerd}),bugherd.onEvent("bugherdScreenshotUploadResponse",function(t){if(t.response.err)return bugherd.error("screenshotError",t.response.err);if("anonymous"!==bugherd.application.get("mode")){var e;e=bugherd.application.tasksCollection.get(t.request.taskID),e.fetch({url:e.url()+".json"})}})},error:function(t,e){return message=bugherd.config.text[t]||t,e&&(message+=e.message),alert(message),this},hasVariation:function(t){return _.find(bugherd.application.get("experiments"),function(e){return e==t})},getParentHost:function(t){var e;return e=window.parent&&0==bugherd.application.isAdminView()?window.parent.location.protocol+"//"+window.parent.location.host:t===!0?window.location.protocol+"//"+window.location.host:""},getParentPath:function(){var t;return t=window.parent?window.parent.location.pathname+window.parent.location.search+window.parent.location.hash:""},redirectUrl:function(t){window.parent.location.href=t},openUrl:function(t){return window.open(t,"_blank")},getBrowserName:function(){return BugHerd.Util.BrowserDetect.browser.toLowerCase()},getExtensionLink:function(){var t,e;return t=bugherd.getBrowserName(),e=bugherd.config.extension[t+"Link"]},requestScreenshot:function(t,e){var i,n,r,s,a,o;if(!bugherd.application.get("testing"))return a=function(t){i=bugherd.parentPage.$body,n=bugherd.parentPage.$frame,r=i.children(".bhFader"),n.css("visibility","hidden"),r.css("visibility","hidden"),s=i.find("bug:visible").css("visibility","hidden"),i.redraw(),setTimeout(t,bugherd.config.screenshot.delay)},o=function(t){n.css("visibility",""),r.css("visibility",""),s.css("visibility",""),t&&t()},bugherd.requestExtensionExistance(t,function(i){return i?i.request&&i.response?i.response.version<1?void console.log("extension version outdated"):i.request.checkRelevanceCallback&&i.request.checkRelevanceCallback(i)===!1?void console.log("no longer applicable"):(a(function(){bugherd.requestExtensionScreenshot(t,function(t){return t?t.response.version<1?void console.log("extension version outdated"):void o(function(){e&&e(t)}):void console.log("not supported on this browser")})}),void setTimeout(o,2e4)):void console.log("invalid response"):void console.log("not supported on this browser")}),this},requestScreenshotDataURI:function(t,e){return t=t||{},t.extension=bugherd.config.screenshot.extension,t.quality=bugherd.config.screenshot.quality,t.domainURL=bugherd.application.get("bugherdUrl"),t.backgroundColor=bugherd.parentPage.$body.css("background-color"),t.projectID=bugherd.application.get("projectId"),t.token="x"+Math.random(),this.extensionScreenshotDataURIQueue[t.token]=e,bugherd.emitEvent("bugherdScreenshotDataURI",t),this},setupScreenshot:function(){return opts={},opts.pageURL=window.parent.location.href,opts.token=Math.random(),bugherd.emitEvent("bugherdScreenshotSetupRequest",opts),opts.token},requestExtensionExistance:function(t,e){if(bugherd.config.extension.supportedBrowser===!1)return e(null),this;var i;return i=bugherd.parentPage.$document,t=t||{},bugherd.extensionExistanceQueue.push(e),bugherd.emitEvent("bugherdExistanceRequest",t),this},requestExtensionScreenshot:function(t,e){var i,n;return i=bugherd.parentPage.document,n=bugherd.parentPage.$document,t=t||{},t.extension=bugherd.config.screenshot.extension,t.quality=bugherd.config.screenshot.quality,t.domainURL=bugherd.application.get("bugherdUrl"),t.backgroundColor=bugherd.parentPage.$body.css("background-color"),t.projectID=bugherd.application.get("projectId"),bugherd.extensionScreenshotQueue.push(e),bugherd.emitEvent("bugherdScreenshotRequest",t),this},onEvent:function(t,e){if(bugherd.config.extension.supportedBrowser!==!1){var i;return i=bugherd.parentPage.document,i.addEventListener(t,function(t){var i=(t||{}).detail||{};"string"==typeof i&&(i=JSON.parse(i)),e.call(this,i)}),this}},emitEvent:function(t,e){if(bugherd.config.extension.supportedBrowser!==!1){var i,n;return i=bugherd.parentPage.document,n=i.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,JSON.stringify(e)),i.dispatchEvent(n),this}},stateChangeTimeout:null,stateChangeSetTimeout:function(){null!==bugherd.stateChangeTimeout&&clearTimeout(bugherd.stateChangeTimeout),bugherd.stateChangeTimeout=setTimeout(function(){bugherd.stateChangeTimeout=null},500)},stateChange:function(){return null!==bugherd.stateChangeTimeout?(bugherd.stateChangeSetTimeout(),this):(bugherd.stateChangeSetTimeout(),bugherd.applicationView&&bugherd.applicationView.stateChange(),this)}}),bugherd.initialize(),ns("BugHerd.Util",{}),$.fn.redraw=function(){return $(this).each(function(){var t=document.createTextNode(" ");$(this).append(t),setTimeout(function(){t.parentNode.removeChild(t)},0)})},$.fn.flash=function(t,e){var i=$(this);return t=t||{},i.clearQueue().stop(!0,!0).queue(function(){var i=$(this),n=t.duration||200,r=t.times||3,s=i.css("-webkit-transition");i.css("-webkit-transition","none");var a;for(a=0;r-1>a;++a)i.animate({opacity:.25},{duration:n}).animate({opacity:1},{duration:n});i.animate({opacity:.25},{duration:n}).animate({opacity:1},{duration:n,complete:function(){i.css("-webkit-transition",s),e&&e.call(this)}}).dequeue()}),this},$.fn.outerHTML=function(){return this.length?this[0].outerHTML||function(t){var e=document.createElement("div");e.appendChild(t.cloneNode(!0));var i=e.innerHTML;return e=null,i}(this[0]):this},$.fn.countText=function(t){t=t||{};var e=$(this),i=e.parent().find(".count"),n=e.add(i),r=t.minLength||1,s=t.maxLength||255,a=null,o=function(e){t.callback&&t.callback(e)},c=function(){var t=e.val().replace(/^\s+|\s$/g,""),a=t.length;i.text(a+" / "+s),r>a?i.data("valid")!==!1&&(n.data("valid",!1),o(!1)):a>s?i.data("valid")!==!1&&(n.addClass("invalid"),n.data("valid",!1),o(!1)):i.data("valid")!==!0&&(n.removeClass("invalid"),n.data("valid",!0),o(!0))};return e.bind("keyup copy paste cut blur change",function(){a&&(clearTimeout(a),a=null),a=setTimeout(c,100)}),this},$.fn.preventScrollBubbling=function(){return $(this).bind("mousewheel",function(t,e,i,n){t.stopPropagation(),this.offsetHeight+this.scrollTop>=this.scrollHeight&&t.preventDefault(),this.scrollTop<=0&&t.preventDefault(),this.scrollTop-=20*n}),this},$.fn.showScrollability=function(){var t=$(this),e=$(this).children();if(t.off("mousewheel"),$(".scroll-helper-top").remove(),$(".scroll-helper-bottom").remove(),t.parent(".scroll-helper-wrap").length>0&&t.unwrap(),t.wrap('<div class="scroll-helper-wrap"/>'),e.outerHeight()>t.height()){var i=t.parent(),n=$('<div class="scroll-helper-top"/>'),r=$('<div class="scroll-helper-bottom"/>');i.prepend(n),i.append(r),t.on("mousewheel",function(){this.offsetHeight+this.scrollTop>=this.scrollHeight?r.remove():i.prepend(r),this.scrollTop<=0?n.remove():i.prepend(n)}),t.trigger("mousewheel")}return this},String.prototype.startsWith=function(t){return this.match("^"+t)==t},function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+r)},r);return t=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),$.fn.inDOM=$.fn.inDOM||function(){var t=$(this).parents("body");return 0!==t.length},BugHerd.Util.validEmail=function(t){return/^([\w\.%\+\-]+)@([\w\-]+\.)+([\w]{2,})$/.test(t)},BugHerd.Util.wordLetterPairs=function(t){var e,i,n=BugHerd.Util.letterPairs,r=[],s=t.split(" ");for(e=0;e<s.length;e++)if(null!==s[e]&&""!==s[e]){var a=n(s[e]);for(i=0;i<a.length;i++)r.push(a[i])}return r},BugHerd.Util.setFlexHeights=function(){var t;$(".app-wrap").hasClass("fixed")||(t=$(".flex-height, .flexHeight").filter(":visible"),t.each(function(){var t,e,i,n,r,s;if(i=$(this),t=i.parent(),e=i.siblings().filter(":visible").not(".flex-height, .flexHeight, .flex-ignore"),r=t.height(),s=0,n=0,minFlex=i.data("minflex"),i.data("flexignore")!==!0){n="border-box"===i.css("box-sizing")?i.height()-i.outerHeight():i.innerHeight()-i.height(),e.each(function(){i.hasClass("app-wrap")===!1&&("absolute"!==$(this).css("position")||"fixed"!==$(this).css("position"))&&(s+=$(this).outerHeight(!0))});var a=r/(s-n)-1;return a<minFlex?(t.css("overflow","auto"),i.css({height:"auto",overflow:"hidden"}),i.children().each(function(){$(this).css("height","auto"),$(this).data("flexignore",!0)}),void 0):(t.css("overflow","hidden"),i.css("overflow","auto"),i.children().each(function(){$(this).data("flexignore",!1)}),i.height(r-s-n))}}))},BugHerd.Util.getBrowserSpecs=function(){var t=screen.colorDepth+" bit",e=screen.width+" x "+screen.height+" px",i=$(window).width()+" x "+$(window).height()+" px",n={};n.colours=t,n.resolution=e,n.window_size=i;var r=new UAParser;return r.setUA(navigator.userAgent),n.browser=r.getBrowser().name+" "+r.getBrowser().version,n.os=r.getOS().name+" "+r.getOS().version,n.user_agent=navigator.userAgent,n},BugHerd.Util.BrowserDetect={browser:function(){var t=new UAParser;return t.setUA(navigator.userAgent),t.getBrowser().name}()},BugHerd.Util.browserSubmitShortcutKey=function(t){var e=new UAParser;return e.setUA(navigator.userAgent),e.getOS().name.indexOf("Mac")>0?t.metaKey&&13===t.which:t.ctrlKey&&13===t.which},BugHerd.Util.isTouch={listen:function(t){document.addEventListener("touchstart",t,!1)},mute:function(t){document.removeEventListener("touchstart",t,!1)},value:!1},BugHerd.Util.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return BugHerd.Util.isMobile.Android()||BugHerd.Util.isMobile.BlackBerry()||BugHerd.Util.isMobile.iOS()||BugHerd.Util.isMobile.Opera()||BugHerd.Util.isMobile.Windows()}},BugHerd.Util.letterPairs=function(t){var e,i=t.length-1,n=[];for(e=0;i>e;e++)n[e]=t.substring(e,e+2);return n},BugHerd.Util.compareStrings=function(t,e){var i,n,r=BugHerd.Util.wordLetterPairs,s=r(t.toUpperCase()),a=r(e.toUpperCase()),o=0,c=s.length+a.length;for(i=0;i<s.length;i++)for(n=0;n<a.length;n++)if(s[i]==a[n]){o++,a.splice(n,1);break}return 2*o/c},Array.prototype.remove=function(t,e){
var i=this.slice((e||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,i)};var newTabSchemes=["http","https","ftp","file"];_.mixin({encodeHTML:function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},linkify:function(t){var e=/\b([A-Z][A-Z0-9\+\.\-]*):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,\.;]*[\-A-Z0-9+&@#\/%=~_|]/gi;return String(t).replace(e,function(t,e){var i=-1!==newTabSchemes.indexOf(e.toLowerCase());return"<a "+(i?'target="_blank" ':"")+'href="'+t+'">'+t+"</a>"})},newlineify:function(t){return String(t).replace(/\n/g,"<br/>")},textToSafeHTML:function(t){return t=String(t),t=_.encodeHTML(t),t=_.newlineify(t),t=_.linkify(t)},textToSafeText:function(t){return t=String(t),t=_.encodeHTML(t),t=_.newlineify(t)}});var URLify=function(t){function e(t){switch(t){case"\xe4":return"ae";case"\xe5":return"aa";case"\xe1":case"\xe0":case"\xe3":case"\xe2":return"a";case"\xe7":case"\u010d":return"c";case"\xe9":case"\xea":case"\xe8":return"e";case"\xef":case"\xed":return"i";case"\xf6":return"oe";case"\xf3":case"\xf5":case"\xf4":return"o";case"\u015b":case"\u0161":return"s";case"\xfc":return"ue";case"\xfa":return"u";case"\xdf":return"ss";case"\u0451":return"\u0435";default:return t}}var i,n,r="";for(t=t.toLowerCase(),i=0,n=t.length;n>i;i+=1)r+=e(t.charAt(i));return r=r.replace(/[^-\w\s]/g," "),r=r.replace(/^\s+|\s+$/g,""),r=r.replace(/[-\s]+/g,"-")};ns("BugHerd.Shared.Models.Application",Backbone.Model.extend({usersCollection:null,tagsCollection:null,eventsCollection:null,unreadEventsCollection:null,anonUser:null,defaults:{priorities:{0:"not set",1:"critical",2:"important",3:"normal",4:"minor"},statuses:{0:"backlog",1:"todo",2:"doing",4:"done",5:"closed"},currentUserId:null,pusherChannelId:null,tasks:null,sortAscending:!0,sidebar_pageFiltered:!1,sortAttribute:"priority_id"},initialize:function(){return window._bugHerd&&"admin"==window._bugHerd.settings.location&&this.set("location","admin"),this.attributes=this.attributes||{},this.attributes.tags=this.attributes.tags||[],this.anonUser=new Backbone.Model({id:-1,name:"anonymous",email:"support@bugherd.com",avatar:"https://www.bugherd.com/images/sidebar/avatar-generic.svg"}),this.usersCollection=new BugHerd.Shared.Collections.User,this.tasksCollection=new BugHerd.Shared.Collections.Task,this},isAdminView:function(){return"admin"===this.get("location")},currentUser:function(){return this.getUser(this.get("currentUserId"))},parseSettings:function(t){var e=null,i=null;if(_.isObject(t.project_data)){if(t.project_data.organization&&_.isArray(t.project_data.organization.users)){i=t.project_data.organization.is_debug;var n=_.map(t.project_data.organization.users,function(e){var i=_.first(_.where(t.project_data.collaborators,{organization_member_id:e.id})),n=e.user;return n.role=e.role,n.is_on_project=!1,_.isObject(i)&&(n.is_disabled=i.is_disabled,n.is_on_project=!0),n});this.usersCollection.reset(n)}_.isObject(t.user_data)&&this.set("currentUserId",t.user_data.id);var r=this.currentUser();return e=-1==r.id?"anonymous":t.accessTo.project_view_tasks?"developer":"reporter",this.set({projectId:t.project_data.id,updatedAt:t.project_data.updated_at,pusherChannelId:t.project_data.pusher_channel_name,customBrand:t.project_data.custom_brand,isDebug:i,attachmentsDisabled:t.project_data.organization&&t.project_data.organization.attachments_disabled,screenshotsDisabled:t.project_data.organization&&t.project_data.organization.screenshots_disabled,csrf:t.csrf,assets:t.assets,access_to:t.accessTo,services:t.services,activeTask:t.active_task,currentUserId:r.id,currentUser:r,mode:e})}return t=t||{},this.set(t)},showErrorNotification:function(t,e){var i=humane.create({container:$(".detailbarWrapper")[0]});e=e||{timeout:0,clickToClose:!1},i.log(t,e)},live:function(){var t,e,i=this,n="anonymous"!==bugherd.application.get("mode");if(n&&(null==this.pusher?(t=new Pusher(this.get("pusherApiKey"),{encrypted:!0,disableStats:!0}),t.channel_auth_endpoint=this.get("bugherdUrl")+"/pusher/auth",t.connection.bind("connected",function(){i.set("socketId",t.connection.socket_id)}),this.pusher=t):t=this.pusher,null==this.projectChannel)){e=t.subscribe(this.get("pusherChannelId"));var r=function(t){if(_.isObject(t.assets)){var e=i.isAdminView()?"admin":"sidebar",n={admin:"<span class='ss-icon'>&#x26A0;</span> BugHerd has been updated. <br>Please <a onclick='window.location.reload();'>refresh</a> your browser.",sidebar:"<span class='ss-icon'>&#x26A0;</span> BugHerd has been updated. <br>Please <a onclick='window.parent.location.reload();'>refresh</a> your browser."};t.assets[e]!==i.get("assets")[e]&&i.showErrorNotification(n[e])}},s=function(t){r(t),bugherd.application.tasksCollection.updatePositions(t)},a=function(t){var e=t.task;r(t),_.isString(e)&&(e=$.parseJSON(e)),bugherd.application.tasksCollection.add(e)},o=function(t){var e=t.task;r(t),_.isString(e)&&(e=$.parseJSON(e));var i=bugherd.application.tasksCollection.get(e.id);i?i.set(e):(bugherd.application.tasksCollection.add(e),i=bugherd.application.tasksCollection.get(e.id));var n=t.task_log;if(n&&_.isString(n.text))if(i.getEventsCollection().get(n.id)){var s=i.getEventsCollection().get(n.id);s.set(n)}else i.getEventsCollection().add(n)},c=function(t){var e=t.task;r(t),bugherd.application.tasksCollection.remove(e.id)};e.bind("task_create",a),e.bind("task_update",o),e.bind("task_delete",c),this.isAdminView()&&e.bind("task_sort",s),this.projectChannel=e}var h=Backbone.sync;Backbone.sync=function(e,r,s){if(s||(s={}),"patch"===e&&(s.type="PUT"),!i.isAdminView())if("withCredentials"in new XMLHttpRequest&&!i.get("jsonp_fallback"))s.crossDomain=!0,s.xhrFields={withCredentials:!0};else{s.emulateJSON=!0;var a={create:"POST",update:"PUT","delete":"DELETE",read:"GET",patch:"PUT"}[e];s.url=r.url()+"?_method="+a,s.timeout=3e4,s.dataType="jsonp"}return s.headers=_.extend({"X-CSRF-Token":i.get("csrf")},s.headers),n&&(s.headers=_.extend({"X-Pusher-Socket-ID":t.connection.socket_id},s.headers)),h(e,r,s)};var l=Backbone.ajax;return Backbone.ajax=function(t){return this.ajax.queue(t)},Backbone.ajax.pending=!1,Backbone.ajax.requests=[],Backbone.ajax.requestNext=function(){var t=this.requests.shift();return t?this.request(t[0],t[1]):(this.pending=!1,this.pending)},Backbone.ajax.request=function(t,e,i){var n,r=this;null==i&&(i=!0);var s,a,o;return s=t.complete,a=t.success,o=t.error,n={complete:function(t,e){return 200<=t.status&&t.status<300?(s&&s.apply(r,arguments),i?r.requestNext():void 0):(r.pending=!1,r.pending)},success:function(){return a&&a.apply(this,arguments),e.resolveWith(this,arguments)},error:function(t,i,n){return o&&o.apply(this,arguments),e.rejectWith(this,arguments)}},n=_.extend(t,n),l(n)},Backbone.ajax.queue=function(t){var e,i;return i=t.type||"GET",e=$.Deferred(),"GET"===i?this.request(t,e,!1):this.pending?this.requests.push([t,e]):(this.pending=!0,this.request(t,e)),e},this},accessTo:function(t){return this.get("access_to")?!!this.get("access_to")[t]:!1},getUser:function(t){var e;return e=this.usersCollection.get(t)||null,e||(e=this.getAnonymousUser()),e},addUser:function(t){var e;return e=new BugHerd.Shared.Models.User(t),this.usersCollection.add(e),e},getAnonymousUser:function(){return this.anonUser},fetch:function(){var t=this.get("projectId"),e=JSON.parse(localStorage.getItem("projectSettings_"+t))||{};return this.parseSettings(e),this},getSettings:function(t){var e={},i="settings_bar_closed search_facets kanban_sortAttribute sidebar_pageFiltered kanban_sortAscending triage_sortAttribute triage_sortAscending archive_sortAttribute archive_sortAscending sidebar_sortAttribute sidebar_sortAscending displayTask activeTask sidebarOpen tasksOpen detailsOpen topFilter subFilter".split(" ");return _.each(i,function(t){e[t]=this.get(t)},this),e},unsave:function(){var t=this.get("projectId");return localStorage.setItem("projectSettings_"+t,null),this},save:function(){var t=this.get("projectId"),e=this.getSettings();return localStorage.setItem("projectSettings_"+t,JSON.stringify(e)),this},getSubCollection:function(t,e){var i,n,r,s=this;if(i=this.tasksCollection,null!=t){switch(r=t,n=null,t){case"mine":case"user":case 0:n=function(t){var e=s.get("currentUserId"),i=t.get("assignee_ids");return-1!==i.indexOf(e)};break;case"watching":case 1:n=function(t){var e=s.get("currentUserId"),i=t.get("assignee_ids");return-1!==(t.get("watcher_user_ids")||[]).indexOf(e)&&-1===i.indexOf(e)};break;case"all":case 2:n=function(t){return!0};break;case"reported":n=function(t){var e=s.get("currentUserId"),i=t.get("requester_id")==e;return i}}i=this.tasksCollection.subcollection({filter:n})}return null!=e&&(n=function(t){var i,n;return n=t.get("status_id"),_.isArray(e)?(e=_.flatten(e),i=_.contains(e,String(n))||_.contains(e,n)):i=n==e,i},i=i.subcollection({filter:n})),i.setSortAttribute(this.tasksCollection.getSortAttribute()),i.setSortAscending(this.tasksCollection.getSortAscending()),i}})),ns("BugHerd.Shared.Models.Event",Backbone.Model.extend({defaults:{id:null,created_at:null,user_id:null,user:null,task_id:null,text:null,unread:!1,commit_url:null,changes_html:null,updated_at:null},initialize:function(t,e){var i=this,n=function(){!i.get("changes_html")&&i.get("text")&&i.set({changes_html:"posted a comment"})},r=function(){var t=i.get("created_at");t&&!_.isDate(t)&&i.set({created_at:new Date(t)})};i.set("user",bugherd.application.getUser(i.get("user_id"))),n(),r(),this.on("change:text",n),this.on("change:created_at",r)},isComment:function(){return!!this.get("text")},toJSON:function(t){return _.clone(_.omit(this.attributes,"user"))}})),ns("BugHerd.Shared.Models.Task",Backbone.Model.extend({eventsCollection:null,defaults:{visible:!0,assigned_by_id:null,assigned_to_id:null,assignee_ids:[],attachments:null,browser_info:null,closed_at:null,coordinates:null,created_at:null,data:null,description:null,dirty_user_ids:null,due_at:null,id:null,local_task_id:null,next:null,position:null,prev:null,priority_id:null,requester_email:null,requester_id:null,requester_name:null,selector_info:null,site:null,status_id:null,tags:null,target_screenshot_url:null,updated_at:null,url:null,watcher_user_ids:null,window_screenshot_url:null},initialize:function(){this.set("local_task_id",this.get("local_task_id")||null)},updatePosition:function(t,e){var i={};"withCredentials"in new XMLHttpRequest||(i.timeout=1e4,i.dataType="jsonp"),i.crossDomain=!0,i.headers=_.extend({"X-Pusher-Socket-ID":bugherd.application.get("socketId")},i.headers),i.xhrFields={withCredentials:!0},i.type="POST",i.data={position:t,id:this.id},_.isNumber(e)&&e!=this.get("status_id")&&(i.data.status_id=e,this.set({status_id:e})),i.url=bugherd.application.tasksCollection.url()+"/update_position",$.ajax(i)},getData:function(){var t=this.get("data")||{};return _.isString(t)&&(t=JSON.parse(t)),t},getCoordinates:function(){var t=this.getData();_.isString(t)&&(t=JSON.parse(t));var e=t.coordinates||null;return e},getScreenshotsUrls:function(){var t={screenshotTargetUrl:this.get("target_screenshot_url"),screenshotWindowUrl:this.get("window_screenshot_url")};return t.screenshotWindowUrl&&t||null},getSelectorData:function(){var t=this.get("selector_info")||{};return _.isString(t)&&(t=JSON.parse(t)),t},getBrowserData:function(){var t=this.get("browser_info")||{};return _.isString(t)&&(t=JSON.parse(t)),t},getAttachment:function(t){var e,i=this.getAttachments();return _.each(i,function(i){return i.id==t?(e=i,!1):void 0}),e},getAttachments:function(){var t=this.get("attachments")||[];return _.isString(t)&&(t=JSON.parse(t)||[]),t},deleteAttachment:function(t,e){var i=this.getAttachments();return _.isObject(t)||(t=this.getAttachment(t)),i=_.without(i,t),this.setAttachments(i,e),i},addAttachment:function(t,e){var i=this.getAttachments();return i.push(t),this.setAttachments(i,e),i},setAttachments:function(t,e){return _.isObject(t)&&(t=JSON.stringify(t)),this.set({attachments:t},e),this},getAssignee:function(){return console.error("Warning in models/task.js@getAssignee: Single-assignee methods are deprecated. Please update callers to use `getAssignees`."),this.getFirstAssignee()},getFirstAssignee:function(){var t=this.get("assigned_to_id");return t||(t=this.get("assignee_ids")[0]),t&&bugherd.application.getUser(t)},getAssignees:function(){var t=this.get("assignee_ids"),e=[];if(t&&t.length>0)var e=t.map(function(t){return bugherd.application.getUser(t)});return e},getCreator:function(){var t=this.get("requester_id"),e=t&&bugherd.application.getUser(t);return e},getTagsNames:function(){return this.get("tag_names")||[]},setTagsNames:function(t){return this.save("tag_names",t,{patch:!0}),this},hasLogMethod:function(t){return-1!==_.indexOf(this.getLogMethods(),t)},getLogMethods:function(){var t,e;if(t=this,e=[],t.get("url")){e.push("sidebar");var i=t.getSelectorData();i&&_.has(i,"path")?e.push("element"):e.push("page")}else e.push("admin");return e},isOpen:function(){return 5!=this.get("status_id")},isVisible:function(){return this.get("visible")},isCurrentPage:function(){return this.get("url")===bugherd.getParentPath()},isApplicable:function(){var t,e;return t=this,e=t.isOpen()&&t.get("url")===bugherd.getParentPath()},getEventsCollection:function(){return this.eventsCollection||(this.eventsCollection=new BugHerd.Shared.Collections.Event,this.eventsCollection.setTask(this),this.eventsCollection.fetch()),this.eventsCollection},getPriority:function(){var t=bugherd.application,e=t.get("priorities"),i={};return i.id=this.get("priority_id"),i.name=e[i.id]||"not set",i},taskFlag:null,destroyFlag:function(){return this.taskFlag&&(this.taskFlag.remove(),this.taskFlag=null),this},getFlag:function(t){var e=null;if(null!==this.taskFlag)e=this.taskFlag;else if(t!==!1){var i=this.getSelectorData();2==i.version?(e=new BugHerd.Shared.Views.Task.Flag({data:i,task:this}),e.render()):e=!1}return this.taskFlag=e,e},updateFlag:function(){return this.getFlag(),this},sendToService:function(t){var e=this,i=bugherd.application.get("projectId"),n=e.id,r=bugherd.application.get("bugherdUrl"),s=null;s=r+"/projects/"+i+"/tasks/"+n+"/send_to_service.json?service_id="+t,jQuery.ajax(s).complete(function(){e.set("status_id",5)})}})),ns("BugHerd.Shared.Models.Tag",Backbone.Model.extend({tasksCollection:null,defaults:{activeCount:0,count:0,inactiveCount:0,name:null}})),ns("BugHerd.Shared.Models.User",Backbone.Model.extend({url:"/users",defaults:{is_member:!1,is_disabled:!1},initialize:function(t,e){_.bindAll(this);var i=this;return null!=t.avatar&&(this.attributes.avatar=t.avatar=this.prepareAvatar(t.avatar)),this.on("change:avatar",function(t,e){var n;return n=i.prepareAvatar(e),n!==e&&(t.attributes.avatar=n),null}),this},prepareAvatar:function(t){return/^https\:\/\/secure\.gravatar\.com/.test(t)&&(/s=|size=/.test(t)||(t+="?s=32")),t},addToProject:function(t,e){var i=this;return $.ajax({type:"POST",url:"/projects/"+bugherd.application.get("projectId")+"/add_collaborator",data:this.toJSON(),success:function(e,n){return i.set(e),"function"==typeof t?t(e,n):void 0},error:function(t,i){return"function"==typeof e?e(t,i):void 0}}),this},resendEmail:function(){return $.ajax({type:"POST",url:"/projects/"+bugherd.application.get("projectId")+"/resend_collaborator_email?user_id="+this.id,data:this.toJSON(),success:function(t,e){return window.alert(t)},error:function(t,e,i){return window.alert("ERROR: "+i)}}),this},revokeAccess:function(){var t=this;return $.get("/projects/"+bugherd.application.get("projectId")+"/remove_user?user_id="+this.id,function(e,i){t.set(e)}),this},hasRole:function(t){return{member:"member"==this.get("role")||"manager"==this.get("role")||"billing"==this.get("role")||"billing_manager"==this.get("role"),collaborator:"collaborator"==this.get("role"),guest:"guest"==this.get("role"),billing:"billing"==this.get("role")||"billing_manager"==this.get("role"),manager:"manager"==this.get("role")||"billing_manager"==this.get("role")}[t]}})),ns("BugHerd.Shared.Collections.Event",Backbone.Collection.extend({setTask:function(t){this.taskId=t.id},url:function(){return bugherd.application.get("bugherdUrl")+"/projects/"+bugherd.application.get("projectId")+"/tasks/"+this.taskId+"/comments"},model:BugHerd.Shared.Models.Event,comparator:function(t){return new Date(t.get("created_at")).getTime()}})),ns("BugHerd.Shared.Collections.Task",Backbone.Collection.extend({model:BugHerd.Shared.Models.Task,collectionName:null,excludedModels:[],url:function(){return bugherd.application.get("bugherdUrl")+"/projects/"+bugherd.application.get("projectId")+"/tasks"},initialize:function(){if(!this.tagsCollection){var t=window._bugHerd||window.parent._bugHerd,e=new BugHerd.Shared.Collections.Tag;e.setTasksCollection(this),this.tagsCollection=e,this.tagsCollection.reset((t.data.project_data.tags||[]).map(function(t){return{name:t.name,id:t.id,activeCount:t.active_count,inactiveCount:t.inactive_count}}))}this.on("add change remove",function(){bugherd.application.set("updatedAt",(new Date).toISOString())}).on("add",this.updateTagCount).on("change:tag_names change:status_id",this.updateTagCount).on("change",this.checkIfSortRequired)},updatePositions:function(t,e){var i=_.map(t,function(t){var e=this.get(t.id).toJSON();return e.position=t.position,e},this);this.add(i,{merge:!0,silent:!0}),e||this.trigger("reset")},updateTagCount:function(t,e,i){var n=_.contains([0,1,2,4],t.get("status_id")),r=function(t,e){var i={};i[e]=t.get(e)-1,t.set(i)},s=function(t,e){var i={};i[e]=t.get(e)+1,t.set(i)};t.get("tag_names").forEach(function(e){var i=this.tagsCollection.get(e);return i?void(t.hasChanged("tag_names")&&t.previous("tag_names")&&!_.contains(t.previous("tag_names"),e)&&s(i,n?"activeCount":"inactiveCount")):void(i=this.tagsCollection.add({id:e,name:e,count:1,activeCount:n?1:0,inactiveCount:n?0:1}))},this);var a=t.hasChanged("tag_names")&&t.previous("tag_names")?t.previous("tag_names"):[];if(a.forEach(function(e){var i=this.tagsCollection.get(e);_.contains(t.previous("tag_names"),e)&&!_.contains(t.get("tag_names"),e)&&r(i,n?"activeCount":"inactiveCount")},this),t.hasChanged("status_id")){var o=_.contains([0,1,2,4],t.previous("status_id")),c=null===t.get("status_id"),h=null===t.previous("status_id");c||h?h?t.get("tag_names").forEach(function(t){var e=this.tagsCollection.get(t);n?s(e,"activeCount"):s(e,"inactiveCount")},this):t.get("tag_names").forEach(function(t){var e=this.tagsCollection.get(t);o?r(e,"activeCount"):r(e,"inactiveCount")},this):o&&!n?t.get("tag_names").forEach(function(t){var e=this.tagsCollection.get(t);r(e,"activeCount"),s(e,"inactiveCount")},this):n&&!o&&t.get("tag_names").forEach(function(t){var e=this.tagsCollection.get(t);s(e,"activeCount"),r(e,"inactiveCount")},this)}},checkIfSortRequired:function(t){_.contains(Object.keys(t.changedAttributes()),this.sortAttribute)&&this.sort()},renameFilters:function(t){var e={id:"local_task_id",status:"status_id",assigned:"assignee_ids",severity:"priority_id",created:"requester_id"};_(e).chain().keys().each(function(i){if(_.has(t,i)){if(t[e[i]]=t[i],delete t[i],"priority_id"==e[i]){var n={"not set":"0",critical:"1",important:"2",normal:"3",minor:"4"};t[e[i]]=n[t[e[i]]]}if("status_id"==e[i]){var r={backlog:"0",todo:"1",doing:"2",done:"4"};t[e[i]]=r[t[e[i]]]}if(("assignee_ids"==e[i]||"requester_id"==e[i])&&"unassigned"!==t[e[i]]){var s=t[e[i]];t[e[i]]=bugherd.application.usersCollection.findWhere({email:s}).id}}})},filterTasks:function(t){this.each(function(e){e.set({visible:_.contains(t,e.id)},{silent:!0})})},parseFilters:function(t){this.renameFilters(t);var e=_.reject(_.keys(t),function(t){var e="_id";return t.slice(t.length-e.length)!==e});return _.each(e,function(e){_.has(t,e)&&(t[e]=parseInt(t[e],10))}),t},filterByFacets:function(t){var e=this;if(0===t.length)return void this.showAll();this.hideAll(!0);var i=new BugHerd.Shared.Collections.Task,n={filter:function(t,e){return"page"==e.filter?t.isCurrentPage():"unassigned"==e.filter?0===_.compact(t.get("assignee_ids")).length:void 0},assignee_ids:function(t,e){var i=t.get("assignee_ids");return"unassigned"==e.assignee_ids?0==_.compact(i).length:_.contains(i,e.assignee_ids)},tag:function(t,e){var i=t.get("tag_names"),n=function(t){return t.replace(/^\s+|\s+$/gm,"")};return _.every(e.tag.split(","),function(t){return _.contains(i,n(t))})},text:function(t,e){var i=new RegExp(e.text,"gi"),n=!1;try{n=i.test(t.get("description"))}catch(r){}return n},url:function(t,e){var i=e.url.trim(),n=!1,r=t.get("url");if(r){r=r.trim(),0===i.indexOf("*")&&(i=i.replace("*",""),i+="$",n=!0),"*"==i.substr(i.length-1)&&(i=i.replace("*",""),i="^"+i,n=!0);var s=!1;if(n)try{var a=new RegExp(i,"gi");s=a.test(r)}catch(o){}else s=r==i;return s}}},r=0,s=_.reduce(t,function(t,s){s=e.parseFilters(s);var a=_(s).chain().keys().first().value();if(_.has(n,a)){var o=e.select(function(t){return n[a](t,s)});return i.add(o),r++,t}return t.concat(s)},[]);0===r&&(i=this.clone()),_.isEmpty(s)||(s=_(s).groupBy(function(t){return _(t).keys()}),_(s).each(function(t){var e=[];_(t).each(function(t){e.push(i.where(t))}),i.reset(_.flatten(e))})),i.showAll(!0),this.add(i.models,{merge:!0,silent:!0}),this.trigger("reset")},hideAll:function(t){this.invoke("set",{visible:!1},{silent:!0}),t||this.trigger("reset")},showAll:function(t){this.invoke("set",{visible:!0},{silent:!0}),t||this.trigger("reset")},getVisibleCount:function(){return _.size(this.where({visible:!0}))},setCollectionName:function(t){return this.collectionName=t,this},getCollectionName:function(){return this.collectionName},getSortAttribute:function(){return"undefined"==typeof this.sortAttribute&&this.superset&&(this.sortAttribute=this.superset.getSortAttribute()),this.sortAttribute},setSortAttribute:function(t){return this.superset&&this.superset.setSortAttribute(t),this.sortAttribute=t,this.trigger("change:sortAttribute",this,t),this},getSortAscending:function(){return"undefined"==typeof this.sortAscending&&this.superset&&(this.sortAscending=this.superset.getSortAscending()),this.sortAscending},setSortAscending:function(t){return this.superset&&this.superset.setSortAscending(t),this.sortAscending=t,this.trigger("change:sortAscending",this,t),this},getTagsCollection:function(){return this.tagsCollection},comparator:function(t,e){var i,n=this.getSortAttribute(),r=this.getSortAscending();switch(n){case"id":i=function(t,e){return r?t.get("id")<e.get("id"):t.get("id")>e.get("id")};break;case"created_at":i=function(t,e){return r?t.get("created_at")>e.get("created_at"):t.get("created_at")<e.get("created_at")};break;case"updated_at":i=function(t,e){return t.get("updated_at")==e.get("updated_at")?r?t.get("local_task_id")<e.get("local_task_id"):t.get("local_task_id")>e.get("local_task_id"):r?t.get("updated_at")>e.get("updated_at"):t.get("updated_at")<e.get("updated_at")};break;case"priority_id":i=function(t,e){return t.get("priority_id")==e.get("priority_id")?r?t.get("local_task_id")<e.get("local_task_id"):t.get("local_task_id")>e.get("local_task_id"):r?t.get("priority_id")<e.get("priority_id"):t.get("priority_id")>e.get("priority_id")};break;case"status_id":i=function(t,e){return t.get("status_id")==e.get("status_id")?r?t.get("local_task_id")<e.get("local_task_id"):t.get("local_task_id")>e.get("local_task_id"):r?t.get("status_id")<e.get("status_id"):t.get("status_id")>e.get("status_id")};break;case"position":i=function(t,e){return t.get("position")<e.get("position")};break;case"assignee_ids":i=function(t,e){var i,n;return i=t.getAssignees().map(function(t){return t.get("name").toLowerCase()}).sort().join(", ")||"zzzzzzz",n=e.getAssignees().map(function(t){return t.get("name").toLowerCase()}).sort().join(", ")||"zzzzzzz",i==n?r?t.get("local_task_id")<e.get("local_task_id"):t.get("local_task_id")>e.get("local_task_id"):r?n>i:i>n};break;default:i=function(t,e){return r?t.get("priority_id")<e.get("priority_id"):t.get("priority_id")>e.get("priority_id")}}return i(t,e)?-1:1}})),ns("BugHerd.Shared.Collections.KanbanTasks",BugHerd.Shared.Collections.Task.extend({initialize:function(){this.taskType="kanban"}})),ns("BugHerd.Shared.Collections.TriageTasks",BugHerd.Shared.Collections.Task.extend({initialize:function(){this.taskType="triage"}})),ns("BugHerd.Shared.Collections.ArchiveTasks",BugHerd.Shared.Collections.Task.extend({initialize:function(){this.taskType="archive"}})),ns("BugHerd.Shared.Collections.Tag",Backbone.Collection.extend({model:BugHerd.Shared.Models.Tag,tasksCollection:null,comparator:function(t){var e=t.get("activeCount");return e},setTasksCollection:function(t){return this.tasksCollection=t,this}})),ns("BugHerd.Shared.Collections.User",Backbone.Collection.extend({model:BugHerd.Shared.Models.User,comparator:function(t){return t.get("name")},hasRole:function(t){return this.subcollection({filter:function(e){return e.hasRole(t)}})}})),ns("BugHerd.Shared.Views.Application.DetailBar",Backbone.View.extend({template:"#detailPanel-template",className:"panelWrap panelDetail panel",timer:null,displayed:!0,events:{"click .taskDescriptionHolder":"startEditingDescription","focus .taskDescription":"storePreviousDescription","blur .taskDescription":"stopEditingDescription","change .taskDescription":"updateDescription","change .taskDetailPriority":"updatePriority","change .taskDetailAssignee":"updateAssignees","keydown .taskDescription":"updateShortcut","keydown .taskComment .bh":"handleShortcuts","keydown .taskComment .editField":"handleEditShortcuts","click .taskComment .bh":"activateComment","click .taskComment .cancelLink":"cancelComment","click .taskComment .submit:not(.disabled)":"submitComment","click .detailToggle":"toggleDetails","click .taskDetailMainAction .button":"doAction","click .activityToggle":"toggleActivity","click .taskDetailSubActions a":"doSubAction","click .external-service":"sendTaskToExternal","click .delete":"deleteTask","click .projectList .move":"moveTask","click .button-closePanel button":"close","click .button-fullscreenTaskView button":"toggleExpanded","click .taskDetailRelativeUrl":"gotoTask","click .taskDetailAbsoluteUrl":"gotoTask","click .attachBlock .delLink":"deleteAttachment","click .taskComment .editComment":"editComment","click .taskComment .deleteComment":"deleteComment","click .taskComment .saveComment":"saveComment","change .attachButton":"uploadButton",dragover:"uploadDragOver",drop:"uploadDrop","click #attachFile":"clickBrowse","change #detailDueDate":"updateDueDate","click .screenshotMissing":"screenshotMissing"},initialize:function(){_.bindAll(this,"toggleExpanded","gotoTask","render","refresh","show","hide","hotkey","refreshHandler","deleteAttachment","uploadAttachment"),this.template=_.template($(this.template).html()),this.uploadCallback={},this.eventList=new BugHerd.Shared.Views.Event.TaskList(this.model,!1),this.commentList=new BugHerd.Shared.Views.Event.TaskList(this.model,!0),this.users=bugherd.application.usersCollection,this.users.on("reset add remove change",this.refreshHandler)},$focused:null,screenshotMissing:function(t){"admin"==bugherd.application.get("location")&&(t.preventDefault(),window._elev.openArticle("84832"))},toggleExpanded:function(t){this.trigger("expandDetails")},refreshHandler:function(t){return this.model&&this.model.id===t.id&&this.visible()&&this.refresh(),this},hotkey:function(t){return},setTask:function(t){window.analytics&&window.analytics.track("View Task",{kind:"admin"});var e=this.$el.find(".panelContent");return this.model?(e.fadeTo(0,.5),this.model.off("change",this.refreshHandler)):e.hide(),!this.visible()&&t&&$(".app-wrap").removeClass("details-hidden"),this.visible()&&!t&&$(".app-wrap").addClass("details-hidden"),this.model=t,this.model.on("change",this.refreshHandler),this.eventList.setCollection(this.model.getEventsCollection()),this.commentList.setCollection(this.model.getEventsCollection()),this.cancelComment(),this.refresh(),e.show(),e.fadeTo(0,1),BugHerd.Util.setFlexHeights(),this},deleteTask:function(t){if(t.stopPropagation(),window.confirm(bugherd.config.text.deleteTaskConfirm)){var e=this.model;e.destroy(),this.$el.hide()}return this},moveTask:function(t){t.preventDefault();var e=this.model.attributes;if(window.confirm("Moving a task will move the description, priority, tags, meta data and creator. Comments, attachments and assignment will not be moved.")){var i=t.target.href.split("/").pop(),n=bugherd.application.get("bugherdUrl")+"/projects/"+bugherd.application.get("projectId")+"/tasks/move";$("#task_"+e.id).hide(),$(".panel").hide(),$.post(n,{id:e.id,destination_project_id:i},function(){}).fail(function(){$("#task_"+e.id).show(),$(".panel").show(),alert("Looks like something went wrong. Refresh the page and try again.")})}},sendTaskToExternal:function(t){t.stopPropagation();var e=this.model;return e.sendToService($(t.target).parents(".external-service").data("service-id")),this.$el.hide(),this},getTask:function(){return this.model},render:function(){var t=this;this.$el.html(this.template());var e=this.$(".commentBlock"),i=this.$(".eventBlock");this.eventList.render().$el.appendTo(i),this.commentList.render().$el.appendTo(e);var n=this.$("textarea.taskDescription");n.is(":input")&&n.countText({maxLength:1e3}),window.setTimeout(function(){n.autosize()},1e3);var r=this.$(".taskComment textarea");return r.countText({maxLength:1e3,callback:function(e){t.$(".commentActions .btn").toggleClass("disabled",!e)}}),this.model?(this.refresh(),this.$el.show()):this.$el.hide(),this},gotoTask:function(t){t.preventDefault(),bugherd.applicationView.gotoTask(this.model)},clickBrowse:function(t){t.preventDefault(),$(".attachButton").click()},addAttachment:function(t){var e=this.$(".attachList");if(t&&t.id){var i=$('<li><a class="attachLink" target="_blank">some file</a> <a class="delLink">remove</a></li>').data("attachment-id",t.id);i.find(".attachLink").text(t.name).attr("href",t.url),i.appendTo(e)}return this},removeAttachment:function(t){var e=this.$(".attachList");return e.children("li").each(function(e){e.data("attachment-id")===t&&e.remove()}),this},deleteAttachment:function(t){t.preventDefault();var e=this.model,i=$(t.target),n=i.parents("li:first"),r=n.data("attachment-id");this.$(".attachList");return n.stop(!0,!0).fadeOut(4e3),$.ajax({url:bugherd.application.get("bugherdUrl")+"/sidebar/projects/"+bugherd.application.get("projectId")+"/tasks/"+e.id+"/attachments/"+r+"/destroy.json",dataType:"jsonp",xhrFields:{withCredentials:!0},success:function(){e.deleteAttachment(r,{silent:!0}),n.remove()},error:function(t,e,i){n.stop(!0,!0).show()}}),this},uploadDrop:function(t){t.preventDefault();var e=t.originalEvent.dataTransfer.files,i=this;$.each(e,function(e,n){i.uploadAttachment(t,n)})},uploadDragOver:function(t){t.preventDefault()},uploadButton:function(t){t.preventDefault();var e=t.originalEvent.target.files,i=this;$.each(e,function(e,n){i.uploadAttachment(t,n)})},uploadAttachment:function(t,e){var i=this,n=i.getTask(),r=this.$(".attachButton").clone(),s=$('<div class="detailProgressOut" style="height:12px; width:100; padding: 3px;display:none;" />'),a=$('<div class="detailProgressBlock" style="background:#718894; width:0%; height:100%; -webkit-border-radius: 3px 3px;" />');a.appendTo(s),s.appendTo(this.$(".progressBars"));var o,c,h,l,u=a,d=this.$(".attachButton"),p={},f="iframe json",g=function(t){var e={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"},i=t.split(".").pop();return _.has(e,i)?e[i]:"application/octet-stream"};return!$.browser.msie&&(e=e||d[0].files[0],e.size>20485760)?void window.alert("Sorry, the file you selected is too large. Maximum file size is 20mb."):(e?(h=e.name,l=e.type||g(h)):(h=d.val().replace(/C:\\fakepath\\/i,""),l=g(h)),$.ajax({url:bugherd.application.get("bugherdUrl")+"/projects/"+bugherd.application.get("projectId")+"/tasks/"+n.id+"/attachments/new.json"+($.browser.msie?"?redirect=true":""),dataType:"jsonp",xhrFields:{withCredentials:!0},data:{filename:h},success:function(t){var r=h.split("."),s=r.pop(),a=t.key+"/"+URLify(r.join("."))+"."+s;o=t.success,p={key:a,AWSAccessKeyId:"AKIAIK2PYU6R3QKHBZDA",acl:"public-read",redirect:t.success,policy:t.policy,signature:t.signature,"Content-Type":l||"application/octet-stream"},$.browser.msie||(c=new FormData,delete p.redirect,$.each(p,function(t,e){c.append(t,e)}),c.append("file",e),f="xml"),$.ajax({dataType:f,paramName:"file",fileInput:d,processData:!1,contentType:!1,type:"POST",url:t.S3URL,formData:p,data:c,success:function(t){$.browser.msie?(n.addAttachment(t,{silent:!0}),i.refresh()):$.ajax({headers:{"X-Pusher-Socket-ID":bugherd.application.get("socketId")},url:o,dataType:"json",xhrFields:{withCredentials:!0},data:{key:a,filename:h},success:function(t){n.addAttachment(t,h,{silent:!0}),i.refresh()}})},complete:function(t){u.css("width","0%").parent().hide()},xhr:function(){var t=$.ajaxSettings.xhr();
return t.upload&&t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=parseInt(t.loaded/t.total*100,10);u.css("width",e+"%").parent().show()}},!1),t}})}}),void d.replaceWith(r))},refresh:function(){var t=this,e=this.getTask(),i=e.get("status_id"),n=e.get("priority_id"),r=e.getSelectorData();if(this.model.getBrowserData()){if(this.browserData=this.model.getBrowserData(),this.browserData.user_agent){var s=new UAParser;s.setUA(this.browserData.user_agent),this.browserData.browser=s.getBrowser().name+" "+s.getBrowser().version||"unknown",this.browserData.os=s.getOS().name||"unknown"}else this.browserData.browser=this.browserData.browser||"unknown",this.browserData.os=this.browserData.os||"unknown";this.browserData.colours=this.browserData.colours||"unknown",this.browserData.resolution=this.browserData.resolution||"unknown",this.browserData.window_size=this.browserData.window_size||"unknown"}this.userMetaData=this.model.getData().userMetaData;var a=t.$(".taskDetailAssignee");a.empty(),this.users.each(function(t){t.get("is_on_project")&&t.hasRole("member")&&a[bugherd.application.currentUser().get("id")===t.id?"prepend":"append"]('<option value="'+t.id+'">'+t.get("name").replace("<","&lt;").replace(">","&gt;")+"</option>")}),$.browser.msie||(this.$(".attachButton").hide(),this.$(".detailAction").show());var o=(this.$(".attachList").empty(),e.getAttachments());o&&_.each(o,function(e){t.addAttachment(e)});var c=$(".projects-dropdown-list").find("a:not(:has(.flag))");c.length?(this.$(".taskDetailActions .moveTask").show(),this.$(".taskDetailActions .moveDivider").show()):(this.$(".taskDetailActions .moveTask").hide(),this.$(".taskDetailActions .moveDivider").hide());var h=this,l=[];this.$(".moveTask .projectList").empty(),_.each(c,function(t){var e=$(t),i=Number(e.attr("href").split("/").pop());e.hasClass("current")||-1!==$.inArray(i,l)||(h.$(".moveTask .projectList").append('<li><a class="move" href="'+e.attr("href")+'">'+e.text()+"</a></li>"),l.push(i))});var u=this.$(".screenshotBlock"),d=this.$(".screenshotToggle"),p=this.$(".thumbToggle"),f=this.$(".screenshotMissing"),g=this.$(".screenshotProcessing"),m=this.$(".screenshotWindowHolder").clone(),v=m.children(".screenshotOverlay"),y=m.children(".screenshotImage"),b=m.children(".screenshotFlag"),w=$(".thumbHolder").children(".screenshotFlag"),x=e.getScreenshotsUrls(),k=e.getCoordinates();if(d.removeClass("loaded"),p.attr("src",""),x){if(x.screenshotWindowUrl){var T,S;_.isObject(k)&&(T=k.screenshotWindowWidth,S=k.screenshotWindowHeight),m.css({position:"relative",padding:0,width:T,height:S}),_.isEmpty(r)||_.isEmpty(k)?b.hide():(b.css(bugherd.config.flagCSS).css({background:"url("+bugherd.application.get("bugherdUrl")+"/images/sidebar/bug-p"+n+".png) no-repeat",position:"absolute","z-index":60,left:k.screenshotWindowFlagX,top:k.screenshotWindowFlagY}).show(),w.css(bugherd.config.flagCSS).css({background:"url("+bugherd.application.get("bugherdUrl")+"/images/sidebar/bug-p"+n+".png) no-repeat",position:"absolute","z-index":60,left:k.screenshotWindowFlagX/T*100+"%",top:k.screenshotWindowFlagY/S*100+"%"}).hide()),v.css({"z-index":50}),v.add(y).css({position:"absolute",width:T,height:S,margin:0,padding:0,top:0,left:0})}p.on("load",function(){d.addClass("loaded"),p.off("load"),w.show()}),p.attr("src",x.screenshotWindowUrl),d.off("click").click(function(e){e.preventDefault(),t.trigger("expand"),y.css({"z-index":40}).attr("src",bugherd.config.blankImageUrl).attr("src",x.screenshotWindowUrl),$.fancybox(m.show(),{helpers:{title:null},openEffect:"none",autoSize:!1,width:T,height:S,padding:0,fitToView:!0,fixed:!0,aspectRatio:!1,topRatio:.5,scrolling:"yes",arrows:!1,closeBtn:!0,closeClick:!0,nextClick:!1,mouseWheel:!1,afterClose:function(){t.trigger("shrink")},afterShow:function(){setTimeout(function(){b.ScrollTo({duration:0,onlyIfOutside:!0}).flash({times:3,duration:300})},100)}})}),d.show(),f.hide(),g.hide(),u.show()}else{const C=(new Date).getTime()-new Date(this.model.get("created_at")).getTime();d.hide(),e.get("url")?u.show():u.hide(),12e4>C&&bugherd.application.accessTo("task_mobile_screenshot")?(f.hide(),g.show()):(f.show(),g.hide())}var A=this.$(".taskDetailMainAction").children(".button");A.removeClass("active").hide(),A.each(function(t,e){var n=$(e),r=_(n.data("status_id"));(r.isArray()&&r.include(i)||r.isEqual(i))&&n.addClass("active").show()}),this.$(".taskDetailMainAction").css({visibility:"visible"});var O=this.$(".taskDetailState");O.hide().filter("[data-status_id="+i+"]").show();var P=this.$(".taskDetailSubActions a");if(P.removeClass("active"),P.each(function(t,e){var n=$(e),r=_(n.data("status_id"));(r.isArray()&&r.include(i)||r.isEqual(i))&&n.addClass("active")}),this.tagsList=_.map(bugherd.application.tasksCollection.tagsCollection.models,function(t){return{id:t.get("id"),name:t.get("name")}}),this.taskTags=_.map(this.getTask().getTagsNames(),function(t){return{id:t,name:t}}),bugherd.application.accessTo("task_edit_tags")){$("<input>").attr({id:"detailTags",type:"text"}).appendTo(this.$(".detailBlockTags .detailText").empty()),$(".token-input-dropdown-bh").remove();var D=this.$(".detailBlockTags input"),E=function(e){var i=t.getTask().getTagsNames();i&&-1===_.indexOf(i,e.name)&&t.getTask().setTagsNames(D.val().split(",")),bugherd.application.tasksCollection.trigger("change:tags")},H=function(e){""!==D.val()?t.getTask().setTagsNames(D.val().split(",")):t.getTask().setTagsNames([]),bugherd.application.tasksCollection.trigger("change:tags")};D.tokenInput(this.tagsList,{theme:"bh",preventDuplicates:!1,animateDropdown:!1,allowFreeTagging:!0,allowTabOut:!0,noResultsText:"No results. Type comma to add.",onAdd:E,onDelete:H,prePopulate:this.taskTags,searchDelay:0})}else{var D=this.$("#detailTags");D.empty(),_.each(this.taskTags,function(t){var e=$("<span></span>");e.text(t.name),D.append(e,$("<span>, </span>"))})}var j=this.$(".taskDetailPriority");if(j.is(":input"))j.val(n).trigger("liszt:updated");else{var F=bugherd.application.get("priorities")[n];j.text(F)}this.$(".taskPriority").attr("class","taskPriority p"+n);var M=e.getAssignees(),N=M.map(function(t){return t.get("name")}),L=M.map(function(t){return t.get("id")}),I=this.$(".taskDetailAssignee");if(I.is(":input"))I.val(L).trigger("liszt:updated"),I.next().find(".search-choice-close").toggle(!!L.length);else{var B="unassigned";(L.length>0||_.intersection(this.users._byIds,L).length>0)&&(B=N.join(" , ")),I.text(B)}var R=e.get("created_at");this.$(".taskAge").attr("datetime",R).attr("title",new Date(R).toString()).text($.timeago(R));var U=bugherd.application.get("bugherdUrl")+"/projects/"+bugherd.application.get("projectId")+"/tasks/"+e.get("local_task_id");this.$(".taskLinkExternal").attr("href",U);var z=this.$(".taskDetailCreator").empty(),V="anonymous",G=e.getCreator(!0);G?V=G.get("name"):e.get("requester_name")&&(V=e.get("requester_name")),BugHerd.Util.validEmail(V)?$("<a>",{"class":"link",href:"mailto:"+V,title:"Email: "+V,text:V}).appendTo(z):$("<span>",{text:V}).appendTo(z);var W=this.$("#detailDueDate");if(W.is(":input")){W.blur(),W.datepicker("destroy"),W.datepicker(),W.datepicker("option","dateFormat","d M yy");var q=e.get("due_at");q&&W.datepicker("setDate",new Date(q))}else{var q=e.get("due_at");q?W.text($.datepicker.formatDate("d M yy",new Date(q))):W.text("")}$servicesMenu=this.$(".taskDetailSuppMenu"),$servicesMenu.find(".external-service").each(function(){$(this).remove()});var Y=bugherd.application.get("services"),X=$servicesMenu.find(".divider.serviceDivider");Y&&Y.length>0?(X.show(),_.each(Y,function(t){$('<li class="external-service" data-service-id="'+t.id+'"><a>send to '+t.name+"</a></li>").insertAfter(X)})):X.hide(),_.each(e.attributes,function(e,i){t.$("."+i+".value").text(e)});var J=this.$(".taskDescriptionHolder"),K=this.$(".taskDescription"),Q=e.get("description"),Z=_.textToSafeHTML(Q);J.html(Z).show(),K.is(":input")?K.val(e.get("description")).hide():K.text(e.get("description")),_.isObject(this.browserData)&&_.each(this.browserData||{},function(e,i){t.$(".browserData-"+i+".value").text(e)}),t.$(".detailBlock table.additionalInfo tr.userMetaData").remove(),_.each(this.userMetaData||{},function(e,i){e=e?""+e:"",i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),t.$(".detailBlock table.additionalInfo").append(_.template($("#userMetaData-template").html(),{key:i,value:e}))});var tt=this.$(".taskDetailAbsoluteUrlRow"),et=this.$(".taskDetailAbsoluteUrl"),it=this.$(".taskDetailRelativeUrlRow"),nt=this.$(".taskDetailRelativeUrl"),rt=this.$(".taskDetailSelector");this.$(".detailBlockDetails");if(e.hasLogMethod("element")){var st=_.encodeHTML(r.path);st=st.replace(/&gt;/g," <small>&gt;</small> "),rt.html(st).parent().show(),nt.addClass("withPin")}else rt.parent().hide(),nt.removeClass("withPin");var at=e.get("url"),ot=e.get("site");if(at&&ot){var ct=bugherd.application.isAdminView()?ot:bugherd.getParentHost(),ht=ct+at,lt=ot+at;it.show(),nt.attr("href",ht).attr("title",ht).text(at),ot?(tt.show(),et.attr("href",lt).attr("title",lt).text(lt)):tt.hide()}else it.hide(),tt.hide();return this.model?this.$el.show():this.$el.hide(),this},doAction:function(t){var e=parseInt(this.$(t.currentTarget).data("set_id"),10);e>5?e=2:_.isNaN(e)&&(e=null),this.model.save({status_id:e,position:0},{patch:!0})},doSubAction:function(t){var e=parseInt(this.$(t.currentTarget).data("status_id"),10);e>5?e=2:_.isNaN(e)&&(e=null),this.$(t.currentTarget).closest(".taskDetailSubActions").find("a").removeClass("active"),this.$(t.currentTarget).addClass("active"),this.model.save({status_id:e,position:0},{patch:!0})},updateAssignees:function(t){var e=$(t.currentTarget).val(),i=[];if(e)if(_.isArray(e))var i=e.map(function(t){return parseInt(t,10)});else var i=[parseInt(e,10)];this.model.save({assignee_ids:i||[]},{patch:!0})},updateDueDate:function(t){var e=t.currentTarget.value;this.model.save({due_at:new Date(e).toUTCString()},{patch:!0})},updatePriority:function(t){var e=t.currentTarget.value;this.model.save({priority_id:parseInt(e,10)},{patch:!0})},startEditingDescription:function(){this.$(".taskDescriptionHolder").hide(),this.$("textarea.taskDescription").trigger("paste").show().focus();var t=this.$(".taskDescriptionHolder").innerHeight();return this.$("textarea.taskDescription").height(t+2),this},stopEditingDescription:function(){var t=this.$(".taskDescriptionHolder"),e=this.$(".taskDescription"),i=e.val(),n=_.textToSafeHTML(i);return e.hide(),t.html(n).show(),this},storePreviousDescription:function(){var t=this.$(".taskDescription");t.val();return t.data("previous-description",t.val()),this},updateDescription:function(){var t=this.$(".taskDescriptionHolder"),e=this.$(".taskDescription"),i=e.val();return e.hasClass("invalid")||!$.trim(i)?(e.flash(),e.val(e.data("previous-description")).hide(),t.show(),this):(this.model.save({description:i},{patch:!0}),this)},updateShortcut:function(t){BugHerd.Util.browserSubmitShortcutKey(t)&&this.$(".taskDescription").blur()},handleShortcuts:function(t){t.target===this.$(".taskComment textarea")[0]&&(27===t.which&&(this.$(".taskComment textarea").blur(),this.cancelComment()),BugHerd.Util.browserSubmitShortcutKey(t)&&(this.submitComment(),this.cancelComment()))},handleEditShortcuts:function(t){27===t.which&&this.cancelEdit(t),BugHerd.Util.browserSubmitShortcutKey(t)&&this.saveComment(t)},visible:function(){return this.$el.is(":visible")},show:function(){return this.$el.show(),$(document).off("keydown",this.hotkey).on("keydown",this.hotkey),this},hide:function(){return this.$el.hide(),$(document).off("keydown",this.hotkey),this},open:function(){return this.visible()||this.trigger("openDetailbar"),this},close:function(){return this.visible()&&($(".taskItem.active").removeClass("active"),bugherd.application.isAdminView()?($(".app-wrap").addClass("details-hidden"),this.trigger("contractDetails"),BugHerd.Util.setFlexHeights(),bugherd.applicationRouter.navigate(bugherd.applicationView.getMode())):this.trigger("closeDetailbar")),this},editComment:function(t){t.preventDefault();var e=this.$(t.currentTarget),i=e.closest(".itemComment"),n=$('<div class="itemEditComment"/>'),r=JSON.parse(e.closest(".itemContent").attr("data-comment-text")),s=e.closest(".itemContent").attr("data-comment-id"),a=$('<textarea class="editField" data-comment-id='+s+">"+r+"</textarea>"),o=$('<button class="saveComment btn">save</button>'),c=$('<a href="#" class="deleteComment">delete</a>'),h=$('<span class="count"><strong>'+r.length+"</strong> / 1000</span>");e.closest(".itemContent").find("p, .editComment").hide(),i.addClass("editing").append(n),n.append(a,o," or ",c,h),a.countText({maxLength:1e3,callback:function(t){self.$(".itemComment .btn").toggleClass("disabled",!t)}}),a.focus()},saveComment:function(t){t.stopPropagation();var e=this.$(t.currentTarget),i=e.hasClass("editField")?e:e.siblings(".editField"),n=Number(i.attr("data-comment-id")),r=_.find(this.model.eventsCollection.models,function(t){return t.id===n});return i.hasClass("invalid")||!r?(i.flash(),this):void r.set({text:i.val(),updated_at:new Date}).save()},deleteComment:function(t){if(t.stopPropagation(),window.confirm(bugherd.config.text.deleteCommentConfirm)){var e=Number(this.$(t.currentTarget).siblings(".editField").attr("data-comment-id")),i=_.find(this.model.eventsCollection.models,function(t){return t.id===e});i.destroy(),this.$(t.currentTarget).parent().parent(".itemComment").hide()}return this},cancelEdit:function(t){if(window.confirm(bugherd.config.text.cancelEditCommentConfirm)){var e=this.$(t.currentTarget).parent(),i=e.siblings(".itemContent").find("p, .editComment");e.remove(),i.show()}},activateComment:function(t){return t.preventDefault(),this.$(".taskComment").removeClass("inactive").addClass("active"),this},cancelComment:function(t){return _.isUndefined(t)||t.preventDefault(),this.$(".taskComment").removeClass("active").addClass("inactive"),this.$(".taskComment textarea").val("").blur(),this},submitComment:function(t){t&&t.preventDefault();var e=this.$(".taskComment textarea"),i=e.val();return e.hasClass("invalid")||!i?(e.flash(),this):(this.model.getEventsCollection().create({comment:i,user_id:bugherd.application.currentUser().id,text:i,created_at:new Date,task_id:this.model.id}),this.cancelComment(),this)},toggleDetails:function(t){t.preventDefault();var e=$(t.target),i=e.next();"hide details"===e.text()?(e.text("show details"),i.hide()):(e.text("hide details"),i.show())},toggleActivity:function(t){t.preventDefault();var e=$(t.target),i=$(".activityBlock>.label"),n=$(".taskComment"),r=$(".eventBlock");"view comments"===e.text()?(e.text("view log"),i.text("comments"),n.show(),r.hide()):(e.text("view comments"),i.text("event log"),n.hide(),r.show())}})),ns("BugHerd.Shared.Views.Application.SearchBar",Backbone.View.extend({template:"#searchbar-template",tagName:"div",className:"searchList search",searchId:null,visualSearch:null,initialize:function(t){t&&t.Events&&(this.Events=t.Events,this.listenTo(this.Events,"addFacet",this.addFacet));var e=function(t){t&&t.target&&"blur"===t.type&&$(t.target).off("blur",e),this.facets&&this.facets.length>0&&(window.document.activeElement&&"TEXTAREA"===window.document.activeElement.tagName?$(window.document.activeElement).on("blur",e.bind(this)):this.updateSearch(this.facets))};this.listenTo(bugherd.application.tasksCollection,"add change:priority_id change:status_id change:description change:assignee_ids change:tag_names",e,this),this.template=_.template($(this.template).html())},addFacet:function(t,e){this.visualSearch.searchBox.addFacet(t,e),this.visualSearch.searchBox.searchEvent({})},fetchCompletions:function(t,e,i,n){var r=new Backbone.Collection([]),s=0;t.any(function(t){var i=t.get(n||"name");if(i)return i=i.toString(),i.length>=e.length&&i.slice(0,e.length)===e&&(r.add(t),s++),s>=20}),r=_(r.sortBy(n||"name")),i(r.map(function(t){return{label:t.get(n||"name"),value:t.get(n||"name").toString()}}))},updateSearch:function(t){var e=this;return this.facets=t,_.isUndefined(this.visualSearch)||_.isNull(this.visualSearch)?this:(this.visualSearch.searchQuery.reset(),_(t).each(function(t,i){_(t).each(function(t,i){e.visualSearch.searchBox.addFacet(i,t)})}),this.visualSearch.searchBox.searchEvent({}),this)},render:function(){var t=this,e=new BugHerd.Shared.Collections.User(bugherd.application.usersCollection.hasRole("member").where({is_on_project:!0})),i=new BugHerd.Shared.Collections.User(bugherd.application.usersCollection.hasRole("collaborator").where({is_on_project:!0})),n=new BugHerd.Shared.Collections.User(bugherd.application.usersCollection.hasRole("guest").where({is_on_project:!0})),r=new BugHerd.Shared.Collections.User(e.toJSON().concat(n.toJSON()).concat(i.toJSON()));return this.$el.html(this.template()),this.$searchBox=this.$el.find(".search-container")[0],this.facets||bugherd.application.isAdminView()||(this.searchFacets=bugherd.application.get("search_facets")),this.visualSearch=VS.init({container:this.$searchBox,showFacets:!0,query:this.searchFacets,callbacks:{search:function(e,i){var n=i.facets();bugherd.application.isAdminView()&&bugherd.applicationRouter.appendSearch(n),bugherd.application.tasksCollection.filterByFacets(n),e?bugherd.application.set("search_facets",t.visualSearch.searchBox.value()):(t.facets=[],bugherd.application.set("search_facets",t.visualSearch.searchBox.value()),bugherd.application.unsave("search_facets"))},facetMatches:function(t){t(["tag","status","assigned","created","severity","text","id","url","filter"])},valueMatches:function(i,n,s){switch(i){case"filter":s(bugherd.application.isAdminView()?["unassigned"]:["unassigned","page"]);break;case"tag":t.fetchCompletions(bugherd.application.tasksCollection.tagsCollection,n,s);break;case"assigned":var a=function(t){s([{label:"unassigned",value:"unassigned"}].concat(t))};t.fetchCompletions(e,n,a,"email");break;case"created":t.fetchCompletions(r,n,s,"email");break;case"id":t.fetchCompletions(bugherd.application.tasksCollection,n,s,"local_task_id");break;case"status":s([{label:"backlog",value:"backlog"},{label:"todo",value:"todo"},{label:"doing",value:"doing"},{label:"done",value:"done"}]);break;case"severity":s(["not set","critical","important","normal","minor"])}}}}),this.visualSearch.searchQuery.on("add",function(t,e){var i=e.where({category:t.get("category"),value:t.get("value")});i.length>1&&e.remove(t)}),bugherd.application.isAdminView()||this.visualSearch.searchBox.searchEvent({}),this}})),ns("BugHerd.Shared.Views.Event.TaskList",Backbone.View.extend({template:"#eventlist-template",tagName:"ul","class":"eventList",initialize:function(t,e){_.bindAll(this,"refresh","addEvent"),this.subViews=_.extend({},this.subViews||{}),this.forComments=e,this.template=_.template($(this.template).html())},setCollection:function(t){return this.collection&&this.collection.off("reset",this.refresh).off("add",this.addEvent),this.collection=t,this.collection.on("reset",this.refresh).on("add",this.addEvent),this.refresh(),this},addEvent:function(t){if(t.isComment()&&this.forComments||!t.isComment()&&!this.forComments){var e=t.isComment()?BugHerd.Shared.Views.Event.TaskList.Comment:BugHerd.Shared.Views.Event.TaskList.Item,i=new e({model:t});i.render(),i.$el.prependTo(this.$el),this.trigger("resize")}return this},refresh:function(){return this.$el.empty(),this.collection&&this.collection.each(this.addEvent),this},render:function(){return this.$el.html(this.template()),this.refresh(),this}})),ns("BugHerd.Shared.Views.Event.TaskList.Item",Backbone.View.extend({template:"#eventitem-template",className:"itemEvent",tagName:"li",initialize:function(){_.bindAll(this,"render"),this.template=_.template($(this.template).html()),this.model.on("change",this.render)},render:function(){return null==this.model.get("created_at")?this.$el.html("updating..."):this.$el.html(this.template(this.model.attributes)),this}})),ns("BugHerd.Shared.Views.Event.TaskList.Comment",BugHerd.Shared.Views.Event.TaskList.Item.extend({template:"#commentitem-template",className:"itemComment"})),ns("BugHerd.Shared.Views.Task.Create",Backbone.View.extend({template:"#taskcreate-template",tagName:"div",className:"taskCreate",dragging:null,memberList:null,tagsList:null,events:{"click .button-feedback":"submit","click .button-task":"submit","click .button-admin":"submit","click .submitTask":"start","click .entry-close":"finish","click .stopTasks":"finish","click .button-close":"finish","click .extension-message":"openUrl","change #bh-reporter-consent":"setConsent"},initialize:function(t){this.options=_.extend({},this.options||{},t),this.template=_.template($(this.template).html()),_.bindAll(this,"render","start","submit","hotkey","finish","openUrl")},getActivePane:function(){return this.$(".createBlock.active,.confirmBlock.active")},hotkey:function(t){var e,i;switch(!0){case BugHerd.Util.browserSubmitShortcutKey(t):this.submit(),t.preventDefault();break;case 27===t.which:this.finish(t),t.preventDefault();break;case 13===t.which:e=this.getActivePane(),e.is(".confirmBlock")?this.finish(t):(i=e.find(".hover"),i.length&&(i.trigger("click"),t.preventDefault()));break;case 38===t.which:e=this.getActivePane(),i=e.find("li.hover"),i.length||(i=e.find("li.active")),i.length?i.length&&(i.prev().length?i.removeClass("hover").prev().click():e.find("li:last").click(),t.preventDefault()):(i=e.find("li:last").click(),i.length&&t.preventDefault());break;case 40===t.which:e=this.getActivePane(),i=e.find("li.hover"),i.length||(i=e.find("li.active")),i.length?i.length&&(i.next().length?i.removeClass("hover").next().click():(i.removeClass("hover"),e.find("li:first").click()),t.preventDefault()):(i=e.find("li:first").click(),i.length&&t.preventDefault())}},createTask:function(t,e,i){if(null===t.url){var n=new BugHerd.Shared.Models.Task(t,e);return this.setTask(n),n}var r=!1;return hideBeforeScreenshot=function(t){$parentBody=bugherd.parentPage.$body,$frame=bugherd.parentPage.$frame,$fader=$parentBody.children(".bhFader"),$frame.css("visibility","hidden"),$fader.css("visibility","hidden"),$flags=$parentBody.find("bug:visible").css("visibility","hidden"),$parentBody.redraw(),setTimeout(t,200)},showAfterScreenshot=function(n){if(r){if(r=!1,$frame.css("visibility",""),$fader.css("visibility",""),$flags.css("visibility",""),n.failure&&bugherd.application.accessTo("task_mobile_screenshot")){var s=this,a=function(){var i=null;bugherd.parentPage.$document[0].getElementsByTagName("base").length||(i=bugherd.parentPage.$document[0].createElement("base"),i.href=bugherd.parentPage.$window[0].location.origin,bugherd.parentPage.$document[0].head.appendChild(i));for(var n=bugherd.parentPage.$document[0].getElementsByTagName("*"),r={},a={},o=0,c=n.length;c>o;o++){var h={x:0,y:0};n[o].scrollLeft&&(h.x=n[o].scrollLeft),n[o].scrollTop&&(h.y=n[o].scrollTop),(h.x||h.y)&&(r[o]=h),"value"in n[o]&&(a[o]={value:n[o].value}),"checked"in n[o]&&(a[o]?a[o].checked=n[o].checked:a[o]={checked:n[o].checked})}var l=function(){if(bugherd.parentPage.window._bugHerd.visualViewport){var t=bugherd.parentPage.window._bugHerd.visualViewport;return{scale:t.scale,pageLeft:t.pageLeft,pageTop:t.pageTop,offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,width:t.width,height:t.height}}return 0},u=bugherd.parentPage.window,d=bugherd.parentPage.document,p=function(){var t="BackCompat"==d.compatMode?d.body:d.documentElement;if(t&&Math.abs(t.scrollHeight-t.clientHeight)){var e=d.createElement("div");e.style.visibility="hidden",e.style.position="absolute",e.style.top="-99999px",e.style.width="100px",d.body.appendChild(e);var i=e.offsetWidth;e.style.overflow="scroll";var n=d.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),i-r}return 0};t.screenshotPolyfill={properties:{url:u.location.href,innerWidth:d.documentElement.clientWidth,innerHeight:d.documentElement.clientHeight,scrollTop:u.scrollY,scrollLeft:u.scrollX,userAgent:u.navigator.userAgent,devicePixelRatio:u.devicePixelRatio,offsets:r,viewport:l(),scrollbarWidth:p(),inputs:a},documentElement:bugherd.parentPage.$document[0].documentElement.innerHTML.replace(/(\r\n|\n|\r)/gm,"")};var f=new BugHerd.Shared.Models.Task(t,e);s.setTask(f),$frame.css("visibility",""),$fader.css("visibility",""),$flags.css("visibility",""),i&&bugherd.parentPage.$document[0].head.removeChild(i)};hideBeforeScreenshot(function(){a()})}else if(n.dataURI){t.dataURI=n.dataURI;var o=new BugHerd.Shared.Models.Task(t,e);this.setTask(o)}else{var o=new BugHerd.Shared.Models.Task(t,e);this.setTask(o)}i()}}.bind(this),void hideBeforeScreenshot(function(){r=!0,bugherd.requestScreenshotDataURI({},showAfterScreenshot),setTimeout(showAfterScreenshot.bind(null,{failure:!0}),2e3)})},setTask:function(t){return this.options.task=t,this},getTask:function(){return this.options.task},resetTask:function(){var t=this.getTask();return t&&(t.isNew()&&t.destroy(),this.setTask(null)),this},setConsent:function(){var t=this.$("#bh-reporter-consent")[0];t.checked?this.reporterConsent=!0:this.reporterConsent=!1,this.showValidity()},initializeInputs:function(){this.descriptionValid=!1,this.validEmailRequired="anonymous"==bugherd.application.get("mode")&&bugherd.getConfigOption("reporter","required"),this.emailValid=null,this.reporterConsent=null;var t=this,e=(this.$("#bh-assignee"),this.$("#bh-reporter")),i=(this.$("#bh-tags"),this.$("#bh-description"));this.$(".entry-actions").children();this.$("ul").remove();var n=function(t){return this.validEmailRequired?/([\w\.%\+\-]+)@([\w\-]+\.)+([\w]{2,})/i.test(t):!0}.bind(this);this.validEmailRequired?this.emailValid=n(e.val()):this.emailValid=!0,this.validEmailRequired&&e.countText({callback:function(i){t.emailValid=i&&n(e.val()),t.showValidity()}}),i.countText({maxLength:1e3,callback:function(e){t.descriptionValid=e,t.showValidity()}})},showValidity:function(){$actions=this.$(".entry-actions").children(),$actions.toggleClass("disabled",!(this.descriptionValid&&this.emailValid&&(this.reporterConsent||bugherd.application.accessTo("user_has_consented")))).prop("disabled",!(this.descriptionValid&&this.emailValid&&(this.reporterConsent||bugherd.application.accessTo("user_has_consented"))))},render:function(){var t=bugherd.application.usersCollection,e=localStorage.getItem("bh-reporter")||"";this.$el.html(this.template({users:t.toJSON(),bhReporter:e}));var i=this.$(".taskCreateAssignee"),n=this.$(".taskCreateAssigneeSearch");n.quicksearch(i,{selector:".assigneeName"});var r=this.$(".confirm-loading .confirm-icon"),s={lines:11,length:4,width:3,radius:4,rotate:0,color:"#fff",speed:1,trail:30,shadow:!1,hwaccel:!1,className:"spinner",zIndex:200,top:11,left:11};new Spinner(s).spin(r[0]);return this.initializeInputs(),this.$fader=this.$fader||$('<div class="bhAdminFader" />').css({top:"0",left:"0",width:"100%",height:"100%",position:"fixed",background:"#1d313a",opacity:".7",cursor:"crosshair",zIndex:"199"}).hide().appendTo("body"),this},openUrl:function(t){bugherd.openUrl(bugherd.getExtensionLink())},receiveExtensionExistance:function(t){var e;return e=this.$(".extension-message"),null===t?e.hide():t&&t.response&&1==t.response.version?e.hide():e.show(),this},show:function(){var t=this,e=bugherd.getConfigOption("tags")||[];this.$fader.css("opacity",".7").show(),this.$el.css({position:"absolute"}),this.dragging=null,this.$el.show(),"admin"!==bugherd.application.get("location")&&bugherd.requestExtensionExistance({},this.receiveExtensionExistance),$(".token-input-dropdown-bh").remove();var i=$("<select>").attr({id:"bh-assignee",multiple:!0,"data-placeholder":"unassigned"}).appendTo(this.$(".assigneeHolder").empty());bugherd.application.usersCollection.each(function(t){t.get("is_on_project")&&i.append('<option value="'+t.id+'">'+t.get("name").replace("<","&lt;").replace(">","&gt;")+"</option>")}),i.chosen({allow_single_deselect:!0,no_results_text:"Can't find developer:"});var n=$("<input>").attr({id:"bh-tags",type:"text"}).appendTo(t.$(".tagHolder").empty());n.tokenInput(bugherd.application.tasksCollection.tagsCollection.toJSON(),{theme:"bh",preventDuplicates:!0,animateDropdown:!1,allowFreeTagging:!0,allowTabOut:!0,noResultsText:"No results. Type comma to add.",alphaSort:!0,createNew:!0,prePopulate:e.map(function(t){return{id:t,name:t}})});return $(document).off("keydown",this.hotkey).on("keydown",this.hotkey),$("label.inline").inFieldLabels(),this},hide:function(){return this.$el.hide(),this.$fader&&this.$fader.hide(),this.dragging=null,$(document).off("keydown",this.hotkey),this},visible:function(){return this.$el.is(":visible")},start:function(t){var e=this.$("#bh-description"),i=(this.$("#bh-reporter"),this.$("#bh-report-to"),this.$("#bh-severity").val(0));this.$("#bh-assignee"),this.$("#bh-tags"),bugherd.application.tasksCollection;this.$(".bh-entry").removeClass("entry-success").removeClass("entry-error"),this.$(".confirm-message").hide(),this.$(".entry-content, .entry-actions").show(),this.resetTask(),e.val("").trigger("change"),bugherd.application.accessTo("user_has_consented")?($("#bh-reporter-consent").prop("checked",!0).trigger("change"),$("#bh-reporter-consent").parent().hide()):($("#bh-reporter-consent").prop("checked",!1).trigger("change"),$("#bh-reporter-consent").parent().show()),i.length>0&&i.val(0);var n;if("admin"===bugherd.application.get("location"))n=this.createTask({url:null,selector_info:null,browser_info:null,data:null},void 0,function(){e.show()});else{var r=this.prepareTagInfo(t),s={},a=this.generateCoordinates(t);s.coordinates=a;var o=bugherd.getConfigOption("metadata")||{};s.userMetaData=o,n=this.createTask({url:bugherd.getParentPath(),selector_info:r,site:bugherd.getParentHost(),browser_info:BugHerd.Util.getBrowserSpecs(),data:s},void 0,function(){e.focus()})}return this.show(),this},prepareTagInfo:function(t){var e=bugherd.parentPage.$document,i={};if(t&&t.get(0)!==e.get(0)){var n=this.getSelector(t);t.removeClass("bugherd_highlight").filter('[class=""]').removeAttr("class");var r=t.outerHTML().substring(0,500);i.path=n,i.html=r,i.version=2,i.data={bugOffsetX:t.data("bugOffsetX")/t.width(),bugOffsetY:t.data("bugOffsetY")/t.height()}}else;return i},getSelector:function(t,e){if(e=e||"",t.is("html"))return"html"+e;var i=t.attr("id"),n=(t.attr("class")||"").replace(/([.#>])/g,"\\\\$1").split(/[\s\n]+/).join("."),r=t.get(0).nodeName.toLowerCase();return i&&(r+="#"+i),n&&(r+="."+n),r=r.replace(".bugherd_highlight",""),this.getSelector(t.parent(),">"+r+e)},generateCoordinates:function(t){var e=bugherd.config.parentPageOffset,i=bugherd.parentPage.$window,n=bugherd.parentPage.$document,r=bugherd.parentPage.$body,s=t.offset()||{top:0,left:0},a={pageOffsetLeft:e.left,pageOffsetTop:e.top,pageWidth:n.width(),pageHeight:n.height(),bodyWidth:r.width(),bodyHeight:r.height(),windowWidth:i.prop("innerWidth"),windowHeight:i.prop("innerHeight"),scrollX:i.prop("scrollX"),scrollY:i.prop("scrollY"),flagX:null,flagY:null,flagRelativeX:t.data("bugOffsetX")||0,flagRelativeY:t.data("bugOffsetY")||0,targetX:s.left,targetY:s.top,targetWidth:t.width(),targetHeight:t.height(),screenshotWindowX:null,screenshotWindowY:null,screenshotWindowWidth:null,screenshotWindowHeight:null,screenshotWindowFlagX:null,screenshotWindowFlagY:null,screenshotTargetX:null,screenshotTargetY:null,screenshotTargetWidth:319,screenshotTargetHeight:200,screenshotTargetFlagX:null,screenshotTargetFlagY:null};a.flagX=a.targetX+a.flagRelativeX,a.flagY=a.targetY+a.flagRelativeY,a.screenshotWindowX=a.scrollX,a.screenshotWindowY=a.scrollY,a.screenshotWindowFlagX=a.flagX-a.screenshotWindowX,a.screenshotWindowFlagY=a.flagY-a.screenshotWindowY,a.screenshotWindowWidth=a.windowWidth,a.screenshotWindowHeight=a.windowHeight;var o=this.generatePosition(a,a.screenshotTargetWidth,a.screenshotTargetHeight,0,"screenshot");return a.screenshotTargetX=o.x,a.screenshotTargetY=o.y,a.screenshotTargetFlagX=a.flagX-a.screenshotTargetX,a.screenshotTargetFlagY=a.flagY-a.screenshotTargetY,a},generatePosition:function(t,e,i,n,r){var s,a,o=bugherd.parentPage.window,c=t.flagX,h=t.flagY;return"screenshot"===r?(s=t.pageWidth,a=t.pageHeight,c-=e/2,h-=i/2):(s=t.windowWidth,a=t.windowHeight,c-=o.scrollX,h-=o.scrollY,"center"===r&&(c-=e/2,h-=i/2)),c+e+n>s&&(c=s-e-n),n>c&&(c=n),h+i+n>a&&(h=a-i-n),n>h&&(h=n),{x:c,y:h}},finish:function(t){return this.resetTask(),this.$(".confirmBlock.active").removeClass("active"),this.hide(),t&&$(t.target).hasClass("cancelLink")&&this.trigger("cancelTagging"),this.trigger("endTagging"),bugherd.isExtension&&"anonymous"==bugherd.application.get("mode")&&bugherd.emitEvent("removeBugherd",{}),this},submit:function(){var t=this.getTask(),e=this;bugherd.application.isAdminView()||bugherd.application.get("screenshotDisabled")?t.unset("dataURI"):(this.screenshotDataURI=t.get("dataURI"),
t.unset("dataURI"),this.screenshotDataURI||(this.token=bugherd.setupScreenshot()));var i=this.$("#bh-description").val(),n=this.$("#bh-reporter").val(),r=this.$("#bh-report-to").val(),s=this.$("#bh-severity").val(),a=this.$("#bh-assignee").val(),o=(new XDate).toISOString(),c=$("#bh-tags").val()?$("#bh-tags").val().split(","):null,h=0;return n&&localStorage.setItem("bh-reporter",n),t.set({description:i,requester_email:n,report_to:r,priority_id:s,assignee_ids:a||[],created_at:o,tag_names:"anonymous"==bugherd.application.get("mode")?bugherd.getConfigOption("tags")||[]:c||[],status_id:h}),window.onbeforeunload=function(t){var e="A task is still being created.";return(t||window.event).returnValue=e,e},this.showLoading(),bugherd.application.tasksCollection.create(t,{success:function(){t.collection.trigger("reset"),bugherd.application.isAdminView()?(window.onbeforeunload=null,e.finish()):e.showSuccess(),bugherd.application.get("access_to").user_has_consented=!0},error:function(t,i,n,r){var s="Create task error: "+i.statusText+"\n"+JSON.stringify(n)+"\n"+r+"\n"+i.status+"\n"+JSON.stringify(t.toJSON())+"\n\n"+i.responseText;Bugsnag.notify(s);var a;a=_.isObject(i.responseText)&&_.isString(i.responseText.error)?i.responseText.error:""!==i.responseText?JSON.parse(i.responseText).error:"Could not connect to our servers, please check your network configuration",e.showError(a),window.onbeforeunload=null}}),this},showLoading:function(t){return this.$(".entry-content, .entry-actions, .confirm-message").hide(),this.$(".confirm-loading").show(),this},showError:function(t){return this.$(".bh-entry").removeClass("entry-success").addClass("entry-error"),this.$(".entry-content, .entry-actions, .confirm-message").hide(),this.$(".confirm-error").show(),t&&this.$(".confirm-error").find("p").text(t),this},showSuccess:function(t){function e(t){for(var e=t.split(","),i=atob(e[1]),n=e[0],r=[],s=0;s<i.length;s++)r.push(i.charCodeAt(s));return new Blob([new Uint8Array(r).buffer],{type:n})}function i(t){var i,r,s;xhr=new XMLHttpRequest,xhr.onload=function(){$.ajax({url:r,dataType:"jsonp",async:!1,data:{key:i},error:function(){window.onbeforeunload=null},success:function(t){window.onbeforeunload=null,attachment={id:t.id,name:t.name,url:t.url}}})};var a=new FormData;$.ajax({url:bugherd.application.get("bugherdUrl")+"/projects/"+bugherd.application.get("projectId")+"/tasks/"+n.id+"/attachments/new.json?screenshot=true",dataType:"jsonp",xhrFields:{withCredentials:!0},data:{filename:"screenshot.jpg"},success:function(n){s=n.S3URL,i=n.key+"/screenshot.jpg",a.append("key",i),a.append("AWSAccessKeyId","AKIAIK2PYU6R3QKHBZDA"),a.append("acl","public-read"),a.append("policy",n.policy),a.append("signature",n.signature),a.append("Content-Type","image/jpeg"),r=n.success,a.append("file",e(t)),xhr.open("POST",s,!0),xhr.send(a)}})}var n=this.getTask();if(bugherd.application.get("screenshotDisabled"))window.onbeforeunload=null;else if(n.get("screenshotPolyfill")&&bugherd.application.accessTo("task_mobile_screenshot")){var r=n.get("screenshotPolyfill");window.onbeforeunload=function(t){var e="A screenshot is still being uploaded";return(t||window.event).returnValue=e,e},$.ajax({url:bugherd.application.get("bugherdUrl")+"/projects/"+bugherd.application.get("projectId")+"/tasks/"+n.id+"/attachments/new.json?screenshot=true",dataType:"jsonp",xhrFields:{withCredentials:!0},data:{filename:"screenshot.jpg"},success:function(t){var e=function(){window.onbeforeunload=null},i=new XMLHttpRequest;i.addEventListener("load",e),i.addEventListener("error",e),i.addEventListener("abort",e),i.open("POST",bugherd.application.get("screenshotServerUrl"),!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify({metadata:r,s3:t}))}})}else this.screenshotDataURI?(window.onbeforeunload=function(t){var e="A screenshot is still being uploaded";return(t||window.event).returnValue=e,e},i(this.screenshotDataURI)):(window.onbeforeunload=null,bugherd.requestScreenshot({taskID:n.id,token:this.token,taskCoordinates:n.getCoordinates(),checkRelevanceCallback:function(t){return n.id===t.request.taskID&&this.$(".confirmBlock .success").is(":visible")===!0}}));if("anonymous"==bugherd.application.get("mode")){if(this.$(".bh-entry").removeClass("entry-error").addClass("entry-success"),this.$(".entry-content, .entry-actions, .confirm-message").hide(),bugherd.isExtension){var s=this.getTask().get("secret_link");this.$(".confirm-success").addClass("confirm-extension").find("p").find("a").empty().end().append('<a href="'+s+'" target=_blank>'+s+"</a>")}bugherd.application.accessTo("task_mobile_screenshot")&&this.$(".extension-message").hide(),this.$(".confirm-success").show()}else this.finish();return this}})),ns("BugHerd.Shared.Views.Task.Flag",Backbone.View.extend({template:"#flag-template",tagName:"bug",className:"_BH_flag",initialize:function(){var t=this,e=this.$el;_.bindAll(this,"isPositionOutdated","setPosition"),this.getMatchedElement();var i=this.options.tooltip=$("<tooltip>").css(bugherd.config.tooltipCSS);e.css(bugherd.config.flagCSS).css({cursor:"pointer"}).mouseenter(function(){var t=e.offset();i.css({top:t.top-bugherd.config.parentPageOffset.top,left:t.left-bugherd.config.parentPageOffset.left}),i.stop(!0,!0).topZIndex().fadeIn(200)}).mouseleave(function(){i.stop(!0,!0).fadeOut(200)}).on("click",function(e){t.trigger("openTask",t.getTask())}),this.getTask().on("change",function(){t.refresh()})},getTooltip:function(){return this.options.tooltip},getTask:function(){return this.options.task},hide:function(t){var e=this.$el.stop(!0,!0);return t!==!1?e.fadeOut("fast"):e.hide(),this},visible:function(){return this.$el.is(":visible")},show:function(t){var e=this.$el.stop(!0,!0);return t!==!1?e.fadeIn("fast"):e.show(),this},refresh:function(){var t,e=bugherd.application.get("bugherdUrl"),i=this.getTask(),n=i.get("local_task_id")||null,r=i.get("description")||"",s=i.get("priority_id")||0;return this.$el.css({background:"url("+e+"/images/sidebar/bug-p"+s+".png) no-repeat"}),4==i.get("status_id")?this.$el.css("background-position","-30px 0"):this.$el.css("background-position","0 0"),t=n?n+": "+r:r?r:"",this.options.tooltip.text(t),this},render:function(){var t=this.getTask(),e=this.$el,i=this.options.tooltip,n=(bugherd.parentPage.$document,bugherd.parentPage.$body);"anonymous"!=bugherd.application.get("mode")&&(e.attr("id","bugflag_"+t.id),e.appendTo(n),i.appendTo(n).hide(),this.refresh(),this.setPosition(),this.$el.topZIndex())},isPositionOutdated:function(){var t,e,i,n;return t=this.getMatchedElement(),i=this.lastOffset||{},e=t&&t.offset()||{},n=i.left!=e.left||i.top!=e.top},getParentElement:function(t){try{return $(t,bugherd.parentPage.$document)}catch(e){}return[]},setPosition:function(){var t,e,i,n,r;if(e=this.getMatchedElement(),!e||e.is(":visible")===!1)return this.hide(!1),!1;if(this.$el.show(!1),t=this.options.data||{},n=this.lastOffset||{},i=e.offset()||{},r=n.left!=i.left||n.top!=i.top){var s,a,o=e.width(),c=e.height(),h=bugherd.config.parentPageOffset;s=o*(t.data.bugOffsetX||0),a=c*(t.data.bugOffsetY||0);var l=i.left+s-h.left,u=i.top+a-h.top;this.$el.css({left:l+"px",top:u+"px"}),(1>=l||1>=u)&&this.$el.hide(),this.lastOffset=i}return r},pickBestFit:function(t,e){var i,n=0;return $.each(t,function(){var t=$(this),r=BugHerd.Util.compareStrings($(this).outerHTML().substring(0,500).replace(/\u2029/,"/r").replace(/\u2028/,"/r"),e.html);r>n&&(i=t,n=r)}),i},getMatchedElement:function(){var t=this.$matchedElement||null;if(!t||t.inDOM()===!1){var e=this.matchElement();e&&(t=e,this.$matchedElement=t)}return t},matchElement:function(){var t;t=this.options.data;var e=null,i=t.path.replace(/([ !"$%&'()*+,\/:;=?@[\\\]^`{|}~])/g,"\\\\$1"),n=i.substring(i.lastIndexOf(">")+1),r=this.getParentElement(n),s=[];r.length>0&&r.each(function(){var e=($(this),BugHerd.Util.compareStrings($(this).outerHTML().substring(0,500).replace(/\u2029/,"/r").replace(/\u2028/,"/r"),t.html));e>.8&&s.push($(this))});var a=[],o=[];return s.length>1?(a=this.getParentElement(i),a.length>1?($.each(s,function(){var t=$(this)[0];a.each(function(){var e=$(this);e[0]===t&&o.push(e)})}),o.length>1?e=$(this.pickBestFit(o,t)):1==o.length&&(e=$(o[0]))):1==a.length&&$.each(s,function(){$(this)[0]===a[0]&&(e=$(a[0]))}),null===e&&(e=$(this.pickBestFit(s,t)))):1==s.length?e=$(s[0]):0===s.length&&(a=this.getParentElement(i),a.length>0&&(e=$(a[0]))),e}})),ns("BugHerd.Shared.Views.Task.List",Backbone.View.extend({template:"#tasklist-template",tagName:"ul",className:"taskList",subViews:{},savedScrollTop:null,events:{"click .archive":"archiveTask","click .move":"moveTask"},initialize:function(t){_.bindAll(this,"render","refresh","hotkey","moveTask","clearAndRefresh"),t&&(t.statusId&&(this.statusId=t.statusId),t.hideTopHeader&&(this.hideTopHeader=!0)),this.taskTemplate=_.template($("#taskitem-template").html()),this.template=_.template($(this.template).html())},hotkey:function(t){if(document.body===document.activeElement||$(document.activeElement).hasClass("panelList")!==!1)switch(!0){case 38===t.which:this.selectPrevTask()&&t.preventDefault();break;case 40===t.which:this.selectNextTask()&&t.preventDefault()}},setCollection:function(t){return this.collection&&this.collection.off("sort reset add remove",this.clearAndRefresh),this.collection=t,this.collection.on("sort reset add remove",this.clearAndRefresh),this.clearAndRefresh(),this},show:function(){var t=this;return this.$el.show(),$(document).off("keydown",this.hotkey).on("keydown",this.hotkey),setTimeout(function(){t.showSelectedTask()},0),this},hide:function(){return this.$el.hide(),$(document).off("keydown",this.hotkey),this},render:function(){return this.$el.html(this.template()),this},moveTask:function(t){t.stopPropagation();var e=$(t.target).parents(".task").data("task"),i=$(t.target).parents("li").data("status");return e.save({status_id:i},{patch:!0}),this},archiveTask:function(t){t.stopPropagation();var e=$(t.target).parents(".task").data("task");return e.save({status_id:5},{patch:!0}),this},checkScroll:function(t){this.refresh()},clearAndRefresh:function(t){for(var e=this.$el.parent().scrollTop();this.$el.children().length>0;)this.$el.empty();this.refresh(e)},refresh:function(t){var e=this,i=this.collection,n=null,r=0,s=52,a=this.$el,o=30;return t&&(o=Math.floor((a.parent().height()+t+250)/s)+1),i.every(function(t){var c,h=i.getSortAttribute();switch(h){case"priority_id":c=t.getPriority().name||"not set";break;case"updated_at":case"created_at":var l=new Date(t.get(h)),u=new Date,d=new Date;c=l>d.setDate(u.getDate()-1)?"today":l>d.setDate(u.getDate()-7)?"last 7 days":l>d.setDate(u.getDate()-30)?"last 30 days":l>d.setDate(u.getMonth()-12)?"older":"prehistoric";break;case"assignee_ids":var p=t.getAssignees();c="Unassigned",c=p.map(function(t){return t.get("name")}).join(", ")||"Unassigned";break;case"status_id":c=t.getStatus().name}if(r++,!(o>r||s*(r+1)<a.parent().height()+a.parent().scrollTop()+250))return!t.isVisible()&&t.view&&(t.view.$el.hide(),r--),!1;if(0===a.find(".taskItem-"+t.id).length)if(t.isVisible()){if(c!=n){var f=$("<li class='listHeading'><span>"+c+"</span></li>");f.appendTo(a)}var g,m;g=new BugHerd.Admin.Views.Kanban.Task({model:t,template:e.taskTemplate}),g.render(),t.view=g,m=g.$el,m.addClass("taskItem-"+t.id).data("task",t).appendTo(a)}else r--;return n=c,!0}),t&&(a.parent().scrollTop(t),this.collection.scrollPosition=null),this.hideTopHeader&&this.$(".listHeading:first").hide(),this}})),ns("BugHerd.Admin.Views.Kanban.Task",Backbone.View.extend({tagName:"li",className:"taskItem task",initialize:function(t){return this.template=t.template,_.bindAll(this),this.listenTo(this.model,"change:description",this.refreshDescription),this.listenTo(this.model,"change:task_id",this.refreshId),this.listenTo(this.model,"change:priority_id",this.refreshPriority),this.listenTo(this.model,"change:status_id",this.refreshStatus),this.listenTo(this.model,"change:tag_names",this.refreshTags),this.listenTo(this.model,"change:due_at",this.refreshDueDate),this.listenTo(this.model,"change:assignee_ids",this.refreshAssigneeAvatar),this.listenTo(this.model,"refresh",this.refresh),this.listenTo(bugherd.application,"change:activeTask",this.setActive),this},rendered:!1,render:function(){var t;return this.$el.attr("id","task_"+this.model.get("id")),this.$el.data("task",this.model).off("click",".archive-task").off("click",".triage-task").off("click",".backlog").off("click").on("click",".archive-task",this.archive).on("click",".backlog",this.sendTaskToBacklog).on("click"," .triage-task",this.triage).on("click",this.showDetails),this.setActive(bugherd.application),this.rendered?this:(this.rendered=!0,t=this.model.attributes,this.$el.html(this.template(t)),this.refresh(),this)},hide:function(){this.$el.hide()},show:function(){this.$el.show()},refresh:function(){return this.refreshAssigneeAvatar().refreshDescription().refreshId().refreshPriority().refreshStatus().refreshTags().refreshDueDate()},setActive:function(t){var e=t.get("activeTask");e==this.model.id?this.$el.addClass("active selected"):this.$el.removeClass("active selected")},refreshAssigneeAvatar:function(){var t=this.$(".assignees"),e=this.model.getAssignees().slice(0,3),i=this.model.get("tag_names");return 0===i.length?t.addClass("spread"):t.removeClass("spread"),t.empty(),_.each(e,function(e){-1!==e.id&&t.append($('<span class="assignee-avatar"><img src="'+e.get("avatar")+'" class="assignee-avatar-img" width="32" height="32" /></span>'))}),this},refreshDescription:function(){var t,e;return t=this.model.get("description"),t&&(e=t.length>110?""+t.slice(0,110)+"...":t,this.$(".truncated_description").text(e)),this},refreshId:function(){var t;return t=this.model.get("local_task_id"),null!=t&&this.$(".task-id").text(t),this},refreshDueDate:function(){var t=this.model.get("due_at");return t?this.$(".task-duedate").text($.datepicker.formatDate("d M yy",new Date(t))):this.$(".task-duedate").text(""),this},refreshPriority:function(){var t;return t=this.model.get("priority_id"),this.$(".task-severity").removeClass("p0 p1 p2 p3 p4 p5").addClass("p"+t),this},refreshStatus:function(){var t;return t=this.model.get("status_id"),this.$(".archive-task").toggle(4===t),this.$(".triage-task").toggle(0===t&&bugherd.application.accessTo("task_move_to_feedback")),(1==this.$(".archive-task").length||1==this.$(".triage-task").length)&&(this.$(".archive-task, .triage-task").tooltip({container:"body"}),this.$(".archive-task, .triage-task").on("click",function(){$(this).tooltip("hide")})),this},refreshTags:function(){var t,e,i;return t=this.model.get("tag_names"),t&&(_.isArray(t)&&t.length>0&&(e=t.join(", ")),i=t.length>0?"tags: "+e:"(no tags)",this.$(".task-tags").attr("title",i).text(e||"")),this},showDetails:function(t){return $("textarea.taskDescription").trigger("blur"),$(".taskItem.active").removeClass("active"),$(t.currentTarget).addClass("active"),bugherd.application.isAdminView()&&bugherd.applicationRouter.navigate("tasks/"+this.model.get("local_task_id").toString()),bugherd.applicationView.openTask(this.model),this},sendTaskToBacklog:function(t){t.stopPropagation();var e=this.model;return e.save({status_id:0,position:0},{patch:!0}),this},archive:function(t){return t.preventDefault(),t.stopPropagation(),this.model.save({status_id:5,position:0},{patch:!0}),this},triage:function(t){return t.preventDefault(),t.stopPropagation(),this.model.save({status_id:null,position:0},{patch:!0}),this}})),ns("BugHerd.Sidebar.Views.Application",Backbone.View.extend({template:"#app-template",tagName:"div",className:"sidebarApplication",model:null,subViews:{listView:null,sidebar:null,anonymousbar:null,bugbar:null},bubble:function(t){var e=_.toArray(arguments);this.trigger.apply(this,e)},initialize:function(t){visualViewportPolyfill(bugherd),document.body.scroll="no",document.body.style.overflow="hidden",document.height=window.innerHeight,window.scrollTo(0,0);var e,i;e=this,this.model=t,i=bugherd.parentPage.$window,_.bindAll(this,"bubble","resize","handleFlagForTask","showFlagForTask","hideFlagForTask","refreshFlags","startCheckingFlags","stopCheckingFlags"),this.template=_.template($(this.template).html()),this.taskCollection=bugherd.application.tasksCollection;var n=bugherd.application.get("sidebar_sortAttribute"),r=bugherd.application.get("sidebar_sortAscending");_.isUndefined(n)?this.taskCollection.setSortAttribute("priority_id"):this.taskCollection.setSortAttribute(bugherd.application.get("sidebar_sortAttribute")),_.isUndefined(r)?this.taskCollection.setSortAscending(!0):this.taskCollection.setSortAscending(bugherd.application.get("sidebar_sortAscending")),this.taskCollection.sort();var s=this.detailbar=new BugHerd.Shared.Views.Application.DetailBar,a=this.listbar=new BugHerd.Sidebar.Views.Application.ListBarView({collection:this.taskCollection}),o=bugherd.application.accessTo("task_edit_assignees")?{}:{topFilter:"all"},c=this.sidebar=new BugHerd.Sidebar.Views.Application.SideBarView(o),h=this.bugbar=new BugHerd.Sidebar.Views.Application.BugBarView,l=this.taskcreate=new BugHerd.Shared.Views.Task.Create,u=this.anonymousbar=new BugHerd.Sidebar.Views.Application.AnonymousBar,d=bugherd.parentPage.window._bugHerd.visualViewport;d&&(d.onscroll&&(d.onscroll=function(){h.resize(),e.resize()}),d.onresize&&(d.onresize=function(){h.resize(),e.resize()}),d.addEventListener&&(d.addEventListener("scroll",function(){h.resize(),e.resize()}),d.addEventListener("resize",function(){h.resize(),e.resize()}))),e.on("resize",function(){e.resize()}).on("shrink",function(){e.resize("shrink")}).on("expand",function(){e.resize("expand")}).on("openTask",function(t){e.openTask(t)}).on("selectTask",function(i,n){n&&e.showListbar(),s.setTask(i),e.showDetailbar(),this.flashFlag(i),t.set({activeTask:i.id}),t.viewTaskEvents(i)}).on("clearEvents",function(){t.viewEvents()}).on("clearTaskEvents",function(i){e.openTask(i),s.$(".activityBlock").flash({times:2},function(){t.viewTaskEvents(i)})}).on("unselectTask",function(){t.set({activeTask:null})}).on("createTask",function(){guiders.hideAll(),BugHerd.Util.isTouch.value&&u.setTouchInstructionText(),e.showBugbar(),h.startTaggingPin()}).on("createFullPageTask",function(){guiders.hideAll(),BugHerd.Util.isTouch.value&&u.setTouchInstructionText(),e.showBugbar(),h.startTaggingPage()}).on("all",function(t){bugherd.config.debug&&console.log(t,arguments)}),i.on("resize",function(){e.trigger("resize")}).on("mousewheel",function(){e.trigger("scroll")});var p=function(){BugHerd.Util.isTouch.value=!0,BugHerd.Util.isTouch.mute(p)};BugHerd.Util.isTouch.listen(p),this.$el.on("hover","a",function(){$(this).toggleClass("hover")}).on("click",".navNew",function(){e.trigger("createTask"),BugHerd.Util.isTouch.value&&setTimeout(function(){e.bugbar.$instructions.fadeOut(500)},2e3)}).on("click",".navPin",function(){e.trigger("createTask"),setTimeout(function(){e.bugbar.$instructions.fadeOut(500)},2e3)}).on("click",".navFull",function(){e.trigger("createFullPageTask")}).on("click",".navToggle",function(){e.toggleSidebar(!0)});var f=this.model.tasksCollection;return f.on("add",this.showFlagForTask).on("remove",this.hideFlagForTask).on("change:status_id",this.handleFlagForTask),c.on("openSidebar",function(){e.showSidebar()}).on("closeSidebar",function(){e.hideSidebar()}).on("filterTasks",function(t,i){var n=bugherd.application.getSubCollection(t,i);bugherd.application.set({topFilter:t,subFilter:i}),e.listbar.setCollection(n),e.listbar.refresh(),e.showListbar()}).on("all",e.bubble),a.on("openListbar",function(){e.showListbar()}).on("closeListbar",function(){e.hideListbar()}).on("refreshTasks",function(){}).on("all",e.bubble),s.on("openDetailbar",function(){e.showDetailbar()}).on("closeDetailbar",function(){e.hideDetailbar()}).on("openTask",function(t){e.selectFlag(t)}).on("gotoTask",function(){var t=_.toArray(arguments);e.gotoTask.apply(e,t)}).on("all",e.bubble),h.on("openBugbar",function(){e.showBugbar()}).on("closeBugbar",function(){e.hideBugbar()}).on("startTask",function(t){e.resize("expand"),e.hideFlags(!1),l.start(t).show()}).on("stopTaggingPage",function(){l.hide()}).on("stopTaggingPin",function(){l.hide()}).on("all",e.bubble),u.on("openAnonymousbar",function(){e.showAnonymousbar()}).on("closeAnonymousbar",function(){e.hideAnonymousbar()}).on("startTaggingPin",function(){guiders.hideAll(),e.hideAnonymousbar(),e.showBugbar(),h.startTaggingPin()}).on("stopTaggingPin",function(){h.stopTaggingPin()}).on("startTaggingPage",function(){guiders.hideAll(),e.hideAnonymousbar(),e.showBugbar(),h.stopTaggingPin(),h.startTaggingPage()}).on("all",e.bubble),l.on("newPageBug",function(){h.startTaggingPage()}).on("newPinBug",function(){l.hide(),h.stopTaggingPin(),h.startTaggingPin()}).on("submitTask",function(e,i){t.createTask(e,i)}).on("endTagging",function(){l.hide(),"anonymous"===t.get("mode")?(u.restart(),h.hide(),e.showAnonymousbar()):e.hideBugbar()}).on("all",e.bubble),this},startGuiders:function(){var t=this,e=this.model,i=bugherd.parentPage;i.$window;if(!($.browser.msie&&parseInt($.browser.version,10)<=8)){e.set({showingGuiders:!0}),t.trigger("resize");var n,r;n={tags:[{id:1,height:139,width:234,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAACLCAIAAADgXpLmAAAE+0lEQVR42u3dy3LbRhAFUP//r7my\ncFzZJCnrLZF6kF4nmzRFlUohRXAeDQKyTtddOlSXcwyBM9PAl9+//yHyQfPFX4HgK4KvSDPff5Wa\nfeGr8FUKX6XwVfgqha9Sc+H79etvIlXBV/DFV/AVwVfwxVfwxVfwFcFX8MVX8MVX8BV88RV88RV8\nRfAVfPEVfPEVfEXwFXzxFXzxFXwFX3wFX3wFXxF8BV98BV+P6FO/6CP6lMJXKXwVvvgqfJXCVyl8\nFb5K4avGrH+e69P2Vsd3/fOnnDjD///uFsubm9t5dh6NRXv44nuwVuv1+fnF/f3D3NqOlqKxaA9f\nfA9W/IGHh8ezs/PVajWfnqOZaCkaO9o/vp+db+T29u7q+no+PUcz0VJJ//jiu8n5xeXy/n4ODUcb\n0Uxh//jiu8nj49OPH2dPTxPfQkQD0UY0g69U8I0slsuLy6tpu40Goo3y/vHF93967hbLqVqNH73/\n7wdffEv5xlf+nd/dJ8v27mV/AQRffEv5vn5zWq3XJ10pe15+fve744fh++3bd2lILt+ddavTZGDl\nDl986/jGtfB11+AEedk3OXC9xxffOr7bPdsBUrm3DfGDBnat8cW3mu/2xMz19c3YfONHDJ8Zwhff\nFr4DX6cyN9iez+X8CnxlDisPJYtZWedyShbp8MW3ke9mK+FucXk1ymme+Nj48M7+8cW3eiO3P+Ub\n1O593ft28d0eo0k8zVP1gfji28V3e7F8e4ixM/FR5ZdzfPHt5Vt+q5p+M40vvgl8twsFnVtx8Z/X\nLmXgi28C38Jl2vSFZCsPVh5y+JZskqVv4+GLbxrfo0cU0g9R4ItvGt+2wfq3g+/4ypR8Gwbrew4Q\n44tvMt/Nl7DiwfrO8Q188U3mW36aZ3/wHV+Znu+hweD00WV88R2F71GdJb7xlcn4DpzZzTorjC++\nY/E99M2s6rsdvjIZ33fXxRIfWYkvvuPy3dmVyH1gML74jsv37Z5w864yvjIZ39cTOT1nevCVyfjG\ndffPv/6O5D7cBF98T8J3tXrhmzpYjy++p+C7nSZKH6zHF9/R+b6d5ayaxMRXJua7M/ieO1iPL77j\n8t2/3CYO1uOL74h8D93sZg3W44vvWHwHBt9TBuvxxXcsvkcH3zsH6/GVEfmWDL73b8Lhi28+38LB\n9/4jEPjimz2q+XzErBDlC/TWrTh88U3mWzv43nP8F198M/k2fCHreU0GvvjmPSSq9a2xzaNv+OKb\nxrdn8L1t8BhffHP49g++N+jHF98Evtvf/p0HcRoeuoMvvr18Ewffax95hi++vXwTB99r193wxbeL\nb8MLKUqWLwpP8+CLbzvf9MH3qj1nfPHt4rudfR+jscJPxhffRr4pJx47t+LwxbeFb9Z58867anzx\nbeGbNe3TNmuEr7TzzX2Jce2kJ77Szrf/hRQNp3kO7efhi28d39znjJRk4GKPL74VfONmtP+FFI2n\ned671cYX31K+WS+kaN6K279jwRffIr49MxEpeXeZGV98i/i2vfE9N1ebyfpbfKWOb/Mb39O34naO\nWOCL7xG+I53LSTnNgy++R/ju/8qeNtHM6/FifPEd4jvquZz+0zz44nuwmgffT7MVF+3hi+/BihvN\nzje+j3iaZxHX3wd88c1/RN9M+j8pX6VmVfgqfJXCVyl8Fb5K4asUvkrhqz4JX5GPFXwFXxF8Rary\nH21gZnfcCsjTAAAAAElFTkSuQmCC",type:8},{bounds:[{ymin:0,ymax:2780,xmin:0,xmax:4680}],id:2,paths:[{fill:0,data:["mhvhv::780b680d780B680D780b"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:1,type:8}],type:1},{id:2,matrix:0,type:3,depth:1},{id:3,height:139,width:27,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAACLCAIAAAAf0HVBAAAGRElEQVR42u1aa1MaVxjOT+iHdqap\nIvdld4HlJhdBQPECoqIogqiJUQPejUkzSart5Etn+r1/oU2mKh/aTv9f+5yzgAscyO5CJtME55kz\nL2fPPr7nPe9533PZB8HJ+cHiwRfOKHgjFs5N4HDXhXZI9w2aoD/dgUkGo8nmHLPwBFa+LrRDaK+h\nLQ1mh433sBjtTqOVN1oFrQCpjfeqZBSb74yaOJTdGbvqyH7BbHf6glFO8KCD/TKS1g6pUNqpHp9v\nPdrjXX6DmWe0EbxqGdHZQGiyenyxXz05PLmIJmZGjFxfOo6YOLAQxsoxGFPziyNGuybG9h7BcA6n\nb3v3oHJ4urt/6PaGOk2prdcY7ocGW3px9fjscmWt9N2YnW1roYuOYx1NYTUbL60WNtHlYvkx7/Kh\nps2N8NMqqLAjZojJJqbmso/3Kk8PT2FHlE8ODuezK5h5lFRUPzKkKXSZiKfOnn1/dPoMriMDmp5f\nvpxpHZ9evW4bE6cnOD2Xnc0szS/kssv5dDYHGVp7xyeU46PBe/AaNIU6wHe0lEHobKJWRrFjgos9\nI4WWea0u9nTzHrOjS2TsBRofWR7u9E1YHZKV91h5icLTgKQQmLJHGo8zGEOJTDixQJFpliGFTEuC\nUF1oNs6E4hkGoz+ScvqiLpXw1wUnlQPRGQYjEpDBzBFT3gNmcrTWtMNAwHGuAHNkxO7eo3esVWcu\nceCMn9DDmT2SAyIiGwYBaYfZxqqSEWkPRPHp+fXi9nppO79RDkWTBuIAnRFXRVYwkL5Ia8Wtg+pp\nODbFuwNTswsIkZmlPAKPklRtnkEfc/ni6cULEPlDsZ3dp0jWK+ul04vnqFHmWLUjA8allQIYZ9NL\nbl94bWMLSRHlyfnzxHRabQwfU3gP7GV1uPOFcuXoLJFKS/4wMiIS93w212lHDTEc2TEcnYKyK2vF\nhaW8dzxKKi1KPxd7r83YqzJYjZb2bt6jaQWgzsOFgc8ZdTqKfa9xbU6j5QNhphsjexZCc4PmzOWQ\nMxfvDjIYA9FZKZjwECQ9daENSfbTUHKcuZ+h2SdN5HiaCumO3U+jJt76KJ4OKWruGXkphMExE7jM\nLUKzbMLZBpc/xhwZGlHkGUYEZSlXCo2h4wkaj2BH6wdmoU3bcOvLCqLedQ+jNd2D0HwwanLQuNCH\njvKyEyWWoIsr68FIQo5jOqPZKCGKbu48QQAv7+xhr4AwHgjHkXMcLp+hLSuoYcTeCAERC++Jyend\n/epB9WTv6XEkNo0AHE3M6skKMBwSVvXoPJacza0VQY10GJmcxnbB5Qkqd4eqdTTaJX/k6OwSy3ps\nDZFeQI2chW2IXZAaoVd1voaZZtKL6Gl2eQ12XF4tIK8ibcGO6cUVGAHKjja2C70Ym5kL8weblvjU\nHPSCUtjSYHuEEv8jmcrAjpPJuWbH1ebCEeKA3NxCDpvr9eJWsfwIZaG0vbCcx7qyrdca8gwUMbQu\n4rXtXcc0Jxnxgycfgo6prSlSiGr+R6+xNujcIXFsO7r9MTywCz4KbwNtsq+lUvTJJVLN8LRwyDhQ\nxvLrwNWdQx9y1QiDUTedjM+A8bpG0JSJUCNoVt7Xa9JR5pXxL/27uuMoEXdd08hYf4G+jJ+vbkwy\n489/Rd7cWjvp1Pea6PLqxnj221d1xj8nLt998/rWcl3jdel4V+9s59+bW8uVrl5z3RhfvP9WNog2\nRrnjb2+DP74PykS//lN6exP96dZ7VbPrGWvZXTAUl+++lhl/+Tvx8o+RH+7smr1H6Tf4CavJjG9r\nPplOByNHcc/7+sZy+fvDqzu7Ln+stXgPBXetmDNK9T+nSDEYxlxlQjfdXCk+zIVDxiHjkHHIOGQc\nMg4Zv2BGFz2d0QdPMDHoO/a+b3zEj3Ru9lFvcrXenDU+khIHpaMYjac40as8ae3nXoGc7G5s7mw/\n3rc63ExSzToaLDweFcuPNref2AWp8xsxPXYcMXEWu7NydJYvlEdZJ8NWTd8ByD68mFvf3a+6vMHW\nr8NEnV+wLa9u7FeORXeg80MuXb2m5/fQrpVO1HrvKioFDDE9WBeZE6m/u2GbyL4l/YSRQlB5wt6F\nkd5Asr7FJDeNjMhIb+rGetxACp4wufLkXATybSjnar0cbYWimSsQ+19lrv8AokUgYvkcDaUAAAAA\nSUVORK5CYII=",type:8},{bounds:[{ymin:0,ymax:2780,xmin:0,xmax:540}],id:4,paths:[{fill:0,data:["mvhvh:40e780b780B40E780b40e"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:3,type:8}],type:1},{id:4,matrix:"::::140d:",type:3,depth:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{label:"start",type:15},{id:5,height:21,width:19,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAABXUlEQVR42mNgGFKgoaGB5du3z7kg\nmmLDPn/+MLO/v/c/iH779q02RYb9/Pn9P5D6n5GR8f/bty//P3365EOxYSDs4eHx/8OHd/8/fnwX\nQ7FhIGxlZfn/1asXIG9nUGwYCOvp6f5/9OgByMslFBsGwkpKSv/v3LkFdOHHWooNA2FJScn/Fy6c\nIz4M8RkGC8NPnz4cJ9swNja2/4GBAf97err+P3/+7P/lyxcziTLs69fP33h4eMCGiImJ/efn5wez\nz549/X/16pULgMnFBsjnJsqwW7duzAW5YMqUyeA0lpeXCzYsPDwM6KqnG4FsDiBmIsowPT09me3b\nt05dsWLZ1IiIiKRr166ADWNmZgZ57/+zZ880SUkdbEAsAMWCDx8+OOvk5PTfz88XnDQuXz6jTG7u\nYtq7d2/m27evgYZcOrNu3bpEoBgrJXmf283NTQNIywIxD9Hhhct1SHgIAgCZPeo6+ILzywAAAABJ\nRU5ErkJggg==",type:8},{bounds:[{ymin:-210,ymax:210,xmin:-190,xmax:190}],id:6,paths:[{fill:1,data:["mhvhv:0s0U80C20d80c20D"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l0S0U",bitmap:5,type:8}],type:1},{tags:[{id:6,matrix:"::::0s0u",type:3,depth:1},{type:2}],id:7,frameCount:1,type:7},{id:7,ratio:39,matrix:"::::20E80r",type:3,depth:11},{bounds:[{ymin:881,ymax:941,xmin:1328,xmax:1819}],id:8,paths:[{fill:0,data:["mhvhv:28m41i91d0F91D0f"]}],fillstyles:[{color:[3355443],type:1}],type:1},{tags:[{id:8,matrix:"48525g::997696c496P4622E",type:3,depth:1},{type:2}],id:9,frameCount:1,type:7},{id:9,ratio:39,name:"restarter",matrix:"::::79G20E",colortransform:"::::::6Y:",type:3,depth:15},{type:2},{replace:!0,matrix:"::::36C15r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::3O56q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::7b03q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::5t57p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::81c16p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::53e80o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::22g49o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::87h23o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::49j00o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::08l82n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::63m67n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::14o55n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::61p46n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::04r40n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::43s36n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::79t34n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::10v33n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::37w35n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::60x37n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::79y41n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::94z46n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::805b52n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::911b59n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::014c66n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::112c73n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::207c81n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::297c90n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::383c98n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::465c07o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::543c15o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::617c24o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::687c32o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::753c40o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::814c48o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::872c55o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::926c63o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::975c69o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::021d76o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::062d82o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::100d87o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::133d92o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::163d96o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::188d00p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::210d03p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::200d00p",type:3,depth:11},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:1422,ymax:1802,xmin:4200,xmax:4625}],id:10,paths:[{fill:0,data:["mvhvh:200d22n80c25d80C25D"]}],fillstyles:[{color:[-1291845632],type:1}],type:1},{id:10,matrix:0,type:3,depth:3},{type:2},{type:2},{type:2},{type:2},{type:4,depth:2},{type:4,depth:3},{tags:[{id:4,matrix:0,type:3,depth:1},{type:2}],id:11,frameCount:1,type:7},{id:11,ratio:95,matrix:"::::157d:",type:3,depth:2},{bounds:[{ymin:-1315,ymax:1315,xmin:-2265,xmax:2265}],id:12,paths:[{fill:0,data:["mhvhv:65V15m530d30Z530D30z"]}],fillstyles:[{color:[-1325400064],type:1}],type:1},{id:12,matrix:"::::52w85m",colortransform:"::::::6Y:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::237d:",type:3,depth:2},{replace:!0,colortransform:"::::::1Y:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::318d:",type:3,depth:2},{replace:!0,colortransform:"::::::7X:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::399d:",type:3,depth:2},{replace:!0,colortransform:"::::::2X:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::479d:",type:3,depth:2},{replace:!0,colortransform:"::::::8W:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::560d:",type:3,depth:2},{replace:!0,colortransform:"::::::3W:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::641d:",type:3,depth:2},{replace:!0,colortransform:"::::::9V:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::721d:",type:3,depth:2},{replace:!0,colortransform:"::::::4V:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::802d:",type:3,depth:2},{replace:!0,colortransform:"::::::0V:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::883d:",type:3,depth:2},{replace:!0,colortransform:"::::::5U:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::963d:",type:3,depth:2},{replace:!0,colortransform:"::::::1U:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::044e:",type:3,depth:2},{replace:!0,colortransform:"::::::6T:",type:3,depth:4},{type:2},{replace:!0,matrix:"::::125e:",type:3,depth:2},{replace:!0,colortransform:"::::::2T:",type:3,depth:4},{replace:!0,matrix:"::::071d41p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::205e:",type:3,depth:2},{replace:!0,colortransform:"::::::7S:",type:3,depth:4},{replace:!0,matrix:"::::944c79p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::286e:",type:3,depth:2},{replace:!0,colortransform:"::::::3S:",type:3,depth:4},{bounds:[{ymin:960,ymax:2540,xmin:2900,xmax:4e3}],id:13,paths:[{data:["mhvhv:980c20y60J40O60j40o"],line:0}],linestyles:[{color:[16750848],width:[40]}],type:1},{id:13,matrix:0,type:3,depth:5},{replace:!0,matrix:"::::818c11q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::367e:",type:3,depth:2},{replace:!0,colortransform:"::::::8R:",
type:3,depth:4},{replace:!0,matrix:"::::694c40q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::448e:",type:3,depth:2},{replace:!0,colortransform:"::::::4R:",type:3,depth:4},{replace:!0,matrix:"::::573c64q",type:3,depth:11},{type:2},{type:4,depth:1},{type:4,depth:2},{bounds:[{ymin:0,ymax:2780,xmin:0,xmax:5986}],id:14,paths:[{fill:0,data:["mhvhv::780b680d780B680D780b"]},{fill:2,data:["mvhvh:986e780b780B40E780b40e"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:1,type:8},{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l446e:",bitmap:3,type:8}],type:1},{id:14,matrix:0,type:3,depth:2},{replace:!0,colortransform:"::::::9Q:",type:3,depth:4},{replace:!0,matrix:"::::453c84q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::336c01r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::222c13r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::110c21r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::001c27r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::894b28r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::791b27r",type:3,depth:11},{type:2},{type:4,depth:5},{replace:!0,matrix:"::::91z23r",type:3,depth:11},{type:2},{bounds:[{ymin:960,ymax:2540,xmin:240,xmax:2740}],id:15,paths:[{data:["mhvhv:0z80i60x40o60X40O"],line:0}],linestyles:[{color:[16750848],width:[40]}],type:1},{id:15,matrix:0,type:3,depth:5},{replace:!0,matrix:"::::93y16r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::99x07r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::08x95q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::21w82q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::36v67q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::55u50q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::77t32q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::03t13q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::32s94p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::64r73p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::99q52p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::37q31p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::79p10p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::23p90o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::71o69o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::22o49o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::76n29o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::32n09o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::92m90n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::55m72n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::20m55n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::88l39n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::59l24n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::33l11n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::09l98m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::88k87m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::70k77m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::54k68m",type:3,depth:11},{type:2},{bounds:[{ymin:1320,ymax:1480,xmin:440,xmax:2540}],id:16,paths:[{data:["mhvhv:20y60n60T0L60t0l"],line:0}],linestyles:[{color:[16750848],width:[40]}],type:1},{replace:!0,id:16,type:3,depth:5},{replace:!0,matrix:"::::40k60m",type:3,depth:11},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:1320,ymax:1480,xmin:440,xmax:2540}],id:17,paths:[{data:["mhvhv:20y60n60T0L60t0l"],line:0}],linestyles:[{color:[-2130732800],width:[40]}],type:1},{replace:!0,id:17,type:3,depth:5},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:1320,ymax:1480,xmin:440,xmax:2540}],id:18,paths:[{data:["mhhvhv:20y60n7K43S0L60t0l"],line:0}],linestyles:[{color:[16750848],width:[40]}],type:1},{replace:!0,id:18,type:3,depth:5},{type:2},{type:2},{type:2},{id:19,height:44,width:82,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAsCAYAAAD2BO8qAAABbklEQVR42u3bsUrDUBSA4VIJTQiO\nBXEobuYBMkkk0EcQfIFuvoK7+AK+hVvdunXyARwEQRBcxD1zPCeeFrW3uWATCsl/4J+a3sBHmgy9\nGQyYxmcoHUiBFEqRFNOvIrMJzGrogtQPRtKhNJaOpYl0QlUTMxmb0cjMNiawA46Koihpe2pkVoEL\nMjTtBCwvZGJWoQsysks3/fkl5nv+QKZmFbkgY7sPZEB6ITOzirdB6k01B9ILmZsVkEACCSQDJJBA\nAgkkkEACCSSQQAIJJJBAAgkkkPWQ5PwXEci9QT6/L8u7xUV5fX/aSrq2nqPzkDfzs9YQV+k5Og/Z\nNuKq3kG+fj7u/ATUNXoP+fKx3BlS1+g9JD/tf0LePpy3jqjn6Dzk09ui1Se3rq3n6Brkxm40ckLW\n7kZz7o8kJ2Tt/sj1jl1pKl1KM+mKqmZmMvXt2F3vIbcDU7uEc6rKzCTx7SHnrYaG3mrgPZuG3rNh\nmP3PFwGcE0HZYduJAAAAAElFTkSuQmCC",type:8},{bounds:[{ymin:0,ymax:880,xmin:0,xmax:1640}],id:20,paths:[{fill:0,data:["mhvhv::80h40p80H40P80h"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:19,type:8}],type:1},{tags:[{id:20,matrix:0,type:3,depth:1},{type:2}],id:21,frameCount:1,type:7},{id:21,ratio:161,matrix:"::::00k40e",colortransform:"::::::6Y:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k50e",colortransform:"::::::4V:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k60e",colortransform:"::::::2S:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k70e",colortransform:"::::::0P:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k80e",colortransform:"::::::8L:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k90e",colortransform:"::::::6I:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k00f",colortransform:"::::::4F:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k10f",colortransform:"::::::2C:",type:3,depth:6},{type:2},{replace:!0,matrix:"::::00k20f",colortransform:"::::::::",type:3,depth:6},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{replace:!0,matrix:"::::20m19m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::75n63l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::03p00l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::08q37k",type:3,depth:11},{type:2},{replace:!0,matrix:"::::91q80j",type:3,depth:11},{type:2},{replace:!0,matrix:"::::54r32j",type:3,depth:11},{type:2},{replace:!0,matrix:"::::99r95i",type:3,depth:11},{type:2},{replace:!0,matrix:"::::27s71i",type:3,depth:11},{type:2},{replace:!0,matrix:"::::40s60i",type:3,depth:11},{type:2},{type:2},{bounds:[{ymin:781,ymax:841,xmin:1328,xmax:1379},{ymin:781,ymax:841,xmin:1328,xmax:2459}],id:22,paths:[{fill:0,data:["mhvhv:28m81g1e0f1E0F","mhvhv:28m81g31k0f31K0F"],line:0}],fillstyles:[{color:[3355443],type:1}],linestyles:[{color:[-16777216],width:[0]}],type:1},{id:22,matrix:0,type:3,depth:8},{type:2},{replace:!0,ratio:4369,type:3,depth:8},{type:2},{replace:!0,ratio:8738,type:3,depth:8},{type:2},{replace:!0,ratio:13107,type:3,depth:8},{type:2},{replace:!0,ratio:17476,type:3,depth:8},{type:2},{replace:!0,ratio:21845,type:3,depth:8},{type:2},{replace:!0,ratio:26214,type:3,depth:8},{type:2},{replace:!0,ratio:30583,type:3,depth:8},{type:2},{replace:!0,ratio:34953,type:3,depth:8},{type:2},{replace:!0,ratio:39322,type:3,depth:8},{type:2},{replace:!0,ratio:43691,type:3,depth:8},{type:2},{replace:!0,ratio:48060,type:3,depth:8},{type:2},{replace:!0,ratio:52429,type:3,depth:8},{type:2},{replace:!0,ratio:56798,type:3,depth:8},{type:2},{replace:!0,ratio:61167,type:3,depth:8},{type:2},{type:4,depth:8},{id:8,matrix:"5424h:::31Q0J",type:3,depth:8},{bounds:[{ymin:881,ymax:941,xmin:1328,xmax:1379},{ymin:881,ymax:941,xmin:1328,xmax:1819}],id:23,paths:[{fill:0,data:["mhvhv:28m81h1e0f1E0F","mhvhv:28m81h91d0f91D0F"],line:0}],fillstyles:[{color:[3355443],type:1}],linestyles:[{color:[-16777216],width:[0]}],type:1},{id:23,matrix:0,type:3,depth:9},{type:2},{replace:!0,ratio:7282,type:3,depth:9},{type:2},{replace:!0,ratio:14564,type:3,depth:9},{type:2},{replace:!0,ratio:21845,type:3,depth:9},{type:2},{replace:!0,ratio:29127,type:3,depth:9},{type:2},{replace:!0,ratio:36409,type:3,depth:9},{type:2},{replace:!0,ratio:43691,type:3,depth:9},{type:2},{replace:!0,ratio:50972,type:3,depth:9},{type:2},{replace:!0,ratio:58254,type:3,depth:9},{type:2},{type:4,depth:9},{id:8,matrix:0,type:3,depth:9},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{replace:!0,matrix:"::::42r53j",type:3,depth:11},{type:2},{replace:!0,matrix:"::::46q22k",type:3,depth:11},{type:2},{replace:!0,matrix:"::::58p70k",type:3,depth:11},{type:2},{replace:!0,matrix:"::::80o02l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::16o21l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::68n32l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::36n37l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::20n40l",type:3,depth:11},{type:2},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:1180,ymax:1342,xmin:1260,xmax:1775}],id:24,paths:[{fill:0,data:["mhvhv:60l42m15e2P15E2p"]}],fillstyles:[{color:[-1355599053],type:1}],type:1},{id:24,matrix:0,type:3,depth:10},{type:2},{type:2},{type:4,depth:10},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{id:25,height:34,width:70,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAiCAIAAABtKTifAAABWklEQVR42mP4OuwAw6iXRr006qVR\nL416adRLI8lL7z+9Pnht3tyDSZ1bHarXaABJIBsoAhQfkl46d29L22ZroE8wEVAcKDvEvLTn8lSs\nnkFGuy5NGjJeOn1nPUH/QNDZuxuHgJeA+aRjix2RXgKqpG6+oomXDl9fiN8bsw5Ebz7fDOcC1Q92\nL805EI/HP8uO5//99+f///+dW+0hIkD1g91LaKXcgsOp/Ts90fyz//p05NJvsHupbp0u3LnAqAB6\n4Ofvr8DEBvfPwRuzkP0MVD/EYunCo81Ab/z+8+Pfv7+Y/hkasYSWl2rXal98tOU/GGD6B4hm748d\neiUe0FfXn+0/92Ad1gJjCJR4wHoGVzsIa8toCNRLJLUegCqHTBsP2H4bVm08CAC231o3WWL1DFCc\n6q07+vWXDlydAywDIbkLSALZQJGh2l8a7aiPemnUS6NeGvXSqJdIAwB5H3XNYFAcrAAAAABJRU5E\nrkJggg==",type:8},{bounds:[{ymin:680,ymax:1360,xmin:1200,xmax:2600}],id:26,paths:[{fill:1,data:["mhvhv:00l60m00n80F00N80f"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l00l80f",bitmap:25,type:8}],type:1},{id:26,matrix:0,type:3,depth:10},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:-490,ymax:490,xmin:-700,xmax:700}],id:27,paths:[{fill:0,data:["mqhqvqhqv:00G45c:5n5n5n10k5n:5n5N90F:5N5N5N10K5N:5N5n90f"]}],fillstyles:[{color:[50331648],type:1}],type:1},{id:27,matrix:"::::80w11n",colortransform:"::::::6Y:",type:3,depth:13},{bounds:[{ymin:-317,ymax:307,xmin:-280,xmax:280}],id:28,paths:[{data:["mll:w6l1G7g7g4g"],line:0},{data:["mqqqqqqql:8U5fV1DV1J:0J1g0Q0g1G9p1G1j:0q1g0g0g0g0q:0j0G0q9F1g0Q1gUA"],line:1}],linestyles:[{color:[67108863],width:[60]},{color:[67108863],width:[80]}],type:1},{id:28,matrix:"::::80w17n",colortransform:"::::::6Y:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::4X:",type:3,depth:13},{replace:!0,colortransform:"::::::9W:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::2W:",type:3,depth:13},{replace:!0,colortransform:"::::::2V:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::0V:",type:3,depth:13},{replace:!0,colortransform:"::::::5T:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::7T:",type:3,depth:13},{replace:!0,colortransform:"::::::8R:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::5S:",type:3,depth:13},{replace:!0,colortransform:"::::::1Q:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::3R:",type:3,depth:13},{replace:!0,colortransform:"::::::4O:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::1Q:",type:3,depth:13},{replace:!0,colortransform:"::::::7M:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::9O:",type:3,depth:13},{replace:!0,colortransform:"::::::9K:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::7N:",type:3,depth:13},{replace:!0,colortransform:"::::::2J:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::5M:",type:3,depth:13},{replace:!0,colortransform:"::::::5H:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::3L:",type:3,depth:13},{replace:!0,colortransform:"::::::8F:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::0K:",type:3,depth:13},{replace:!0,colortransform:"::::::1E:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::8I:",type:3,depth:13},{replace:!0,colortransform:"::::::4C:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::6H:",type:3,depth:13},{replace:!0,colortransform:"::::::Q:",type:3,depth:14},{type:2},{type:9,actions:[{type:7}]},{replace:!0,colortransform:"::::::4G:",type:3,depth:13},{bounds:[{ymin:-317,ymax:307,xmin:-280,xmax:280}],id:29,paths:[{data:["mqqqqqqql:8U5fV1DV1J:0J1g0Q0g1G9p1G1j:0q1g0g0g0g0q:0j0G0q9F1g0Q1gUA"],line:0},{data:["mll:w6l1G7g7g4g"],line:1}],linestyles:[{color:[15658734],width:[80]},{color:[15658734],width:[60]}],type:1},{replace:!0,id:29,colortransform:"::::::::",type:3,depth:14},{type:4,depth:15},{id:9,ratio:340,name:"restarter",matrix:"::::79G20E",colortransform:"::::::6Y:",type:3,actions:[{events:2048,actions:[{value:40,type:305},{value:1,type:305},{value:"_root",type:305},{type:28},{value:"gotoAndPlay",type:305},{type:82},{type:23}],key:0}],depth:15},{type:2}],v:"4.1.1",backgroundColor:16777215,frameSize:{ymin:0,ymax:2780,xmin:0,xmax:4680},frameCount:341,frameRate:60,code:"",version:10},r={tags:[{id:1,height:139,width:234,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAACLCAIAAADgXpLmAAAE+0lEQVR42u3dy3LbRhAFUP//r7my\ncFzZJCnrLZF6kF4nmzRFlUohRXAeDQKyTtddOlSXcwyBM9PAl9+//yHyQfPFX4HgK4KvSDPff5Wa\nfeGr8FUKX6XwVfgqha9Sc+H79etvIlXBV/DFV/AVwVfwxVfwxVfwFcFX8MVX8MVX8BV88RV88RV8\nRfAVfPEVfPEVfEXwFXzxFXzxFXwFX3wFX3wFXxF8BV98BV+P6FO/6CP6lMJXKXwVvvgqfJXCVyl8\nFb5K4avGrH+e69P2Vsd3/fOnnDjD///uFsubm9t5dh6NRXv44nuwVuv1+fnF/f3D3NqOlqKxaA9f\nfA9W/IGHh8ezs/PVajWfnqOZaCkaO9o/vp+db+T29u7q+no+PUcz0VJJ//jiu8n5xeXy/n4ODUcb\n0Uxh//jiu8nj49OPH2dPTxPfQkQD0UY0g69U8I0slsuLy6tpu40Goo3y/vHF93967hbLqVqNH73/\n7wdffEv5xlf+nd/dJ8v27mV/AQRffEv5vn5zWq3XJ10pe15+fve744fh++3bd2lILt+ddavTZGDl\nDl986/jGtfB11+AEedk3OXC9xxffOr7bPdsBUrm3DfGDBnat8cW3mu/2xMz19c3YfONHDJ8Zwhff\nFr4DX6cyN9iez+X8CnxlDisPJYtZWedyShbp8MW3ke9mK+FucXk1ymme+Nj48M7+8cW3eiO3P+Ub\n1O593ft28d0eo0k8zVP1gfji28V3e7F8e4ixM/FR5ZdzfPHt5Vt+q5p+M40vvgl8twsFnVtx8Z/X\nLmXgi28C38Jl2vSFZCsPVh5y+JZskqVv4+GLbxrfo0cU0g9R4ItvGt+2wfq3g+/4ypR8Gwbrew4Q\n44tvMt/Nl7DiwfrO8Q188U3mW36aZ3/wHV+Znu+hweD00WV88R2F71GdJb7xlcn4DpzZzTorjC++\nY/E99M2s6rsdvjIZ33fXxRIfWYkvvuPy3dmVyH1gML74jsv37Z5w864yvjIZ39cTOT1nevCVyfjG\ndffPv/6O5D7cBF98T8J3tXrhmzpYjy++p+C7nSZKH6zHF9/R+b6d5ayaxMRXJua7M/ieO1iPL77j\n8t2/3CYO1uOL74h8D93sZg3W44vvWHwHBt9TBuvxxXcsvkcH3zsH6/GVEfmWDL73b8Lhi28+38LB\n9/4jEPjimz2q+XzErBDlC/TWrTh88U3mWzv43nP8F198M/k2fCHreU0GvvjmPSSq9a2xzaNv+OKb\nxrdn8L1t8BhffHP49g++N+jHF98Evtvf/p0HcRoeuoMvvr18Ewffax95hi++vXwTB99r193wxbeL\nb8MLKUqWLwpP8+CLbzvf9MH3qj1nfPHt4rudfR+jscJPxhffRr4pJx47t+LwxbeFb9Z58867anzx\nbeGbNe3TNmuEr7TzzX2Jce2kJ77Szrf/hRQNp3kO7efhi28d39znjJRk4GKPL74VfONmtP+FFI2n\ned671cYX31K+WS+kaN6K279jwRffIr49MxEpeXeZGV98i/i2vfE9N1ebyfpbfKWOb/Mb39O34naO\nWOCL7xG+I53LSTnNgy++R/ju/8qeNtHM6/FifPEd4jvquZz+0zz44nuwmgffT7MVF+3hi+/BihvN\nzje+j3iaZxHX3wd88c1/RN9M+j8pX6VmVfgqfJXCVyl8Fb5K4asUvkrhqz4JX5GPFXwFXxF8Rary\nH21gZnfcCsjTAAAAAElFTkSuQmCC",type:8},{bounds:[{ymin:0,ymax:2780,xmin:0,xmax:4680}],id:2,paths:[{fill:0,data:["mhvhv::780b680d780B680D780b"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:1,type:8}],type:1},{id:2,matrix:0,type:3,depth:1},{id:3,height:18,width:21,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAASCAYAAAC0EpUuAAAB7klEQVR42sVUXShDYRheUUrcyG5c\nSLt0N5TtQi5IcUctF4r93KBcrZALVii1FUqY4hqtppnlJ7OYlKQkGi4Wx2Y7cZxzluvje459p9V2\n9nPlq6fenvd5n55zvvccjSbjOByOcp7nx0Xxez+VEuIAanDoaUo9HMe2iaLw+POTknIBPWhKMqTD\nj28X0ubZmDS31yUDNTjaL8oYj0UTHt2tSxPbTTmB3l9i/r6gKREt0ISTOy2qpuhFmEtqPF/AVLiE\ncOV4SDFYPbFIL7FrGagz+fT7PS+UVIRw2tOmDCe5V+UdoqY8NOmkYl5TsjZJCGe9ncpw4iuqmKKm\nPDTgMFMoqQfCnasZZXjjdFhOCKCmPDTppJ68poLwPQghw0akqd1W1YtCDxpoMVPMBgQh3r9dVDVF\nL50yWOTyc93yQIqTlg8HsgzBoQcNy7L94XC4uqjPliTYpBeDL4kaoqYXx7KJA5/P107h9/ubvV5v\ng9vtrsy3sz4MRxN38voAqMHFYu83LpdrVA1Op7OXpK/NMmUYpoYYh2Hy8BqSIadPfNzb7fYtq9W6\nlgmbzTZnNpv7LBZLIxkvU00bj8frifET3VNB4J9NJtOR0Wg8JwgZDAYXQb9er68r6TcYCAQqeP6z\nA9DpdCNarXaJoIe0qjT/dX4BPXpzy2cB6rEAAAAASUVORK5CYII=",type:8},{id:4,height:18,width:21,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAASCAYAAAC0EpUuAAAB7ElEQVR42sVUPUgCYRgWCoKoJXJp\niHBss4J0kIaCqK1AHILwZypoEpodCiJvcCjCoQhqiDKE04Qi+5GLGqQhIciCfqzLLtG7E+frey6/\nQ7DzZ+qDB16e93kfnrvvvTMYKo7P52sVRXFRlguRYlHiAdTg0DM0e/J5wSbL0n2pVFT+AnrQNGVI\nh7nHV2Vh/1IZX4+oQA2O9hsyxmPRhMHEnTKwevAn0PtNLKbqmhLRCk045A/pmqJ3/fRGjZfrmEpX\nEDp3TjUD925cST6/q0BdyZffb6JeUhlCWyCsDWe+c9o7RE15aMpJ5ZqmZG2+IBxbY7XhF+FbM0VN\neWjAYaZe0hCEvuiNNjy3d64mBFBTHppy0lBNU0kqzEKY5r+UYeZQ96LQgwZazDSyAWcQB+K3uqbo\nlVOeNbj8+QkMiEVJmdk+qTIEhx40giA4OI7rbOizJQk26cXgS6KGqOnFCUL2iGXZEYpoNDoYDof7\ngsFge62dZTGceuPV9QFQg/v4eE8yDDOvB7/fP0XSd1eZZjKZLmLMwSSRflWBOpv9THm93i23271R\nCY/Hs+R0OqddLlc/GW/RTcvzfC8xfqB7Kkli2m63H1ut1gTBhcViYQgcZrO5p6nfYCwWaxPF3Chg\nMpnmjEZjgGCStDoM/3V+ABAcehq62Sz+AAAAAElFTkSuQmCC",type:8},{id:5,height:18,width:21,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAASCAYAAAC0EpUuAAAB60lEQVR42sVUTUsCURQVCoKoTeSm\nRcQQBC0ECWJcRItWtQgqrJWh46q2UmsXfYEuahUu6hcEgpkQhJUZEUQEltI3YZkNNb4Zaz29M/lG\noUbHVQ8OHO4993DGd58WS8Xx+/2NhJB5RSlsF4tyDgBHDT1LvUeSxAFFkdNfX0X1L6AHTV2GbPjj\nYF99EAQ1w/MawFFjfVPG+CyW8GVtVb3kuD+B3k9ikqppSkUrLOFld7ehKXofR4fMeLGGqXwM4d3E\nhG5wN+lUpdMTDeCV9dLvm6iVVIEwbbPpw8rTY/mCKGd1aEpJlaqmdG3eIMz095dNH+/LppSzOjSo\nYaZW0i0In+bn9OF7l0tLCICzOjSlpFtVTWW5MA0hyaTVq54ew4tCDxpoMWNmA+IQPy8vGZqiV0oZ\nN7n80jAGPomk3o6O/jJEDT1oRFGcSiaTraaeLU2wwS4GL0m/HMrZxYlificSiQwyRKPRvnA43BUK\nhZqr7WwEw4WLc219AHDttb08nwWDwVkjBAKBMZq+/ZdpNptto8ZJmLzH9zSA5/OvKZ/PtykIwnol\nvF7vgtvtHvd4PL10vMEwbS6X66TG12xPZZncOJ3OXYfDkaA44Hk+SDFlt9s76vobjMViTYS8DwEc\nx81YrdZVihHaarH81/kGYeVjeTca2DoAAAAASUVORK5CYII=",type:8},{bounds:[{ymin:260,ymax:2e3,xmin:1100,xmax:4e3}],id:6,paths:[{fill:1,data:["mhvhv:20o80j20D60c20d60C"]},{fill:3,data:["mhvhv:980b00t20d60C20D60c"]},{fill:5,data:["mhvhv:000d0z20D60c20d60C"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l00k80j",bitmap:5,type:8},{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l980b40p",bitmap:4,type:8},{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l580c0z",bitmap:3,type:8}],type:1},{id:6,matrix:0,type:3,depth:4},{id:7,height:139,width:27,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAACLCAIAAAAf0HVBAAAF3ElEQVR42u1aCVPiSBSev7GDURHI\nRQiXHIKAIAqigiiieF+giDrO7mzt7viHplb/4+6XjsQQGkyCU87UQL3qenSaj3d0v9evOx8i88tv\nSx9+cUQhEJ9hfQpxvmfGSPLLAI3IV194noI47fZOzvAKufhnxkiCsYeMZJycm/fTED3eKRc/5RKs\nEkDdfMAkoqj9ZmKaRTsYcaCM9B84Pd5gJMEKfig4KqIympNrOwet9u3e4SkvhRgnTxkjBMwiQtlw\ndL7VvjtrXV9e3yXSi44pdiQZHdMsUBTEZhuIueVVx5THEqJRIxiO8wb3j8+bl53js0tfINpvSmta\nw92/Me7C6kb75r6yufNx0kO3tTBAxsm+obCam5c3artQud444qUgegzTCF9dggk7YoVMu8XcUuno\ntHlx2YEd0Z6cXy6XKlh5BFQ07xllKGSZS+VuPv1x1fmEqaMSJL29/7LY659hWht84vVHskulfHFt\neaVcWq8WSmXwkDowO6f3j4XZg59BUogD+khalRQ4t2gVUexb4OLQSGFlXZuLPYNmj5MbEBmHEYmP\ntBnuDc65ONnF+128TMjfJVnHUHm/PJuiIEbTxVh6hVBRa6M6nrQKRZ8ZbXAxmipSEEPxnDeYkExS\n6JnxEj6cWKQgIgExTlYx5QvBTFxvj5EYhVhWClM9Iw6ePXZ9bTpziW+O+I4znKqRGhAR2eAEpB3q\nGJdJRKQ9AKWyy1v1/a2d/ep2I5rIMMoE6I+4JrICo+gib9b3zludWHKB94UX8isIkcW1KgKPHtRs\nnoGO5Wq9c/c7gELR5MHxBZJ1ZWunc/cZPfoca9YzQFyr1ICYL6z5grHN7T0kRbTXt5/T2YLZGD6p\nmz2wl4vzVWuN5tVNOleQQzFkRCTu5VK5344WYjiyYyyxAGErm/WVtWpgNqF0zujnuTh8b0bflcFq\npPUMmj2WdgDmZrjw5mvGnIziyHtct3dq5pUwMwiRvgohOWM5c3Fq5uJ9EQpiOJGXI2m/Qhn/M2Og\nDP1pNDNLrWdI9ikofKpAmEJf9dPtSfU+ShWiup4XRF6OwjlOhSRnD6O1GnkNJIWSVM+QiKKuMIXR\nt2qn0HUdr1D3EezoemUVuq25215WEO3ueyijSQ1C8sHENEfiwggyqttOtNiCrla2IvG0GsdsRrMJ\nBSixe3CCAN44OEWtgDAejqWQczgpyBiyghlE1EYIiNh4z81nj89a563r04t2PJlFAE6k83ayAgyH\nhNW6uk1m8uXNOqCRDuPzWZQLkj+irw5NyzjlkUPxq5t7bOtRGiK9ABo5C2WIR5C7odd0voaZFgur\n0LS0vgk7rm/UkFeRtmDHwmoFRoCwE91yYRiilrmwflC0pBaWIBeEQkmD8ggt/iOTK8KO85klTXGz\nudChTEB2aaWM4nqrvldvHKKt7eyvrFexrzRobSHPQBCmdxNvrXadtJxkxFdPPgQbS9tSpBDN/Mcw\nXzM2KySWbkdfKIkHHiFIKNAlAx/s6RSDaotUMz4tHCO+KWLjr/DXR84elVtxCqJtOJXeD/HhiTBP\nCj3z+n7ziA9PPfT3v+4/vzFfH1kCxGr9I2n9H/nY11r9f00KMBqivtMyol59vYz2tdaA+j9dm5pD\n1FQegvhAvG9Ha4Nnvnxz/PPo0f7Pjtb9nhnJ11TP2Pa1YTKzesPZ8vXTTxQpfjDEcnPONtzSTmqc\nC8eIY8Qx4hhxjDhGHCP+wogSOZ2xR/5I+q3v2Ee+8RG/07nZd73JtXpz1n1JSnwrGcVEKseKAf1J\n6yj3CsrJ7vbuwf7RmYvzUUEty8jM8HhUbxzu7p94BLn/HTE7dnRMszMeb/PqplprTNBOhl2W3gNQ\n5/Bqeev4rCUFIr1vh4k232Bb39g+a7ZFX7j/RS5bWpPze0jXCydavXcV9QxcTA7WRepCGu1u2C3S\nb0nfMVIIJk/YByCSG0jau5jKTSMlMpKbuskhN5CCP6ZcebKSQuptKCv1Xo72km6YFE7+VJnrf27h\nIDXhgb9oAAAAAElFTkSuQmCC",type:8},{bounds:[{ymin:0,ymax:2780,xmin:4140,xmax:4680}],id:8,paths:[{fill:1,data:["mvhvh:680d780b780B40E780b40e"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l140d:",bitmap:7,type:8}],type:1},{id:8,matrix:0,type:3,depth:7},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{label:"start",type:15},{id:9,height:21,width:19,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAABXUlEQVR42mNgGFKgoaGB5du3z7kg\nmmLDPn/+MLO/v/c/iH779q02RYb9/Pn9P5D6n5GR8f/bty//P3365EOxYSDs4eHx/8OHd/8/fnwX\nQ7FhIGxlZfn/1asXIG9nUGwYCOvp6f5/9OgByMslFBsGwkpKSv/v3LkFdOHHWooNA2FJScn/Fy6c\nIz4M8RkGC8NPnz4cJ9swNja2/4GBAf97err+P3/+7P/lyxcziTLs69fP33h4eMCGiImJ/efn5wez\nz549/X/16pULgMnFBsjnJsqwW7duzAW5YMqUyeA0lpeXCzYsPDwM6KqnG4FsDiBmIsowPT09me3b\nt05dsWLZ1IiIiKRr166ADWNmZgZ57/+zZ880SUkdbEAsAMWCDx8+OOvk5PTfz88XnDQuXz6jTG7u\nYtq7d2/m27evgYZcOrNu3bpEoBgrJXmf283NTQNIywIxD9Hhhct1SHgIAgCZPeo6+ILzywAAAABJ\nRU5ErkJggg==",type:8},{bounds:[{ymin:-210,ymax:210,xmin:-190,xmax:190}],id:10,paths:[{fill:1,data:["mhvhv:0s0U80C20d80c20D"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:65535,type:8},{transform:"45184l::45184l0S0U",bitmap:9,type:8}],type:1},{tags:[{id:10,matrix:"::::0s0u",type:3,depth:1},{type:2}],id:11,frameCount:1,type:7},{id:11,ratio:39,matrix:"::::20E80r",type:3,depth:11},{bounds:[{ymin:0,ymax:3720,xmin:0,xmax:6099}],id:12,paths:[{fill:0,data:["mhvhv::720c099f720C099F720c"]}],fillstyles:[{color:[3355443],type:1}],type:1},{tags:[{id:12,matrix:0,type:3,depth:1},{type:2}],id:13,frameCount:1,type:7},{id:13,ratio:39,name:"restarter",matrix:"::::79G20E",colortransform:"::::::6Y:",type:3,depth:15},{type:2},{replace:!0,matrix:"::::45D15r",type:3,depth:11},{type:2},{replace:!0,matrix:"::::70C54q",type:3,depth:11},{type:2},{replace:!0,matrix:"::::95B97p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::0V45p",type:3,depth:11},{type:2},{replace:!0,matrix:"::::5N96o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::1G52o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::b11o",type:3,depth:11},{type:2},{replace:!0,matrix:"::::4g74n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::4n40n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::4u10n",type:3,depth:11},{type:2},{replace:!0,matrix:"::::81b83m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::47c59m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::12d37m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::74d19m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::34e02m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::92e88l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::47f75l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::01g65l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::51g56l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::00h48l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::46h42l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::89h36l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::30i32l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::68i29l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::03j26l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::36j24l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::67j22l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::94j21l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::20k20l",type:3,depth:11},{type:2},{bounds:[{ymin:0,ymax:240,xmin:0,xmax:1080}],id:14,paths:[{fill:0,data:["mhvhvmvqhqvqhq:60i0p40H0F40h0f0l0d0P:0D0D0D00J0D:0D0d0p:0d0d0d00j0d:0d0D"]},{fill:1,data:["mhvhv:0l0p40h0F40H0f"]}],fillstyles:[{color:[0],type:1},{color:[16777215],type:1}],type:1},{tags:[{id:14,matrix:0,type:3,depth:1},{type:2}],id:15,frameCount:1,type:7},{id:15,ratio:69,matrix:"::::80n00k",colortransform:"::::::6Y:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::5X:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::5W:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::4V:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::4U:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::3T:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::3S:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::2R:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::2Q:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::1P:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::1O:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::0N:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::0M:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::9K:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::9J:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::8I:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::8H:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::7G:",type:3,depth:8},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:1120,ymax:1360,xmin:1140,xmax:1340}],id:16,paths:[{fill:5,data:["mqqqqqqqq:40m40l:9D9B4H9B6C1G6C2D:1G6c9B5c9B4h:0e9b5h9b5c1g5c2d:1g5C9b5C9b5H"]}],fillstyles:[{color:[16777215],type:1},{color:[0],type:1},{color:[-1409286144],type:1},{color:[-858335530],type:1},{color:[-1277765930],type:1},{color:[-1291845632],type:1}],linestyles:[{color:[0],width:[40]}],type:1},{id:16,matrix:0,type:3,depth:10},{type:2},{type:2},{type:2},{type:2},{type:2},{replace:!0,colortransform:"::::::0I:",type:3,depth:8},{type:2},{type:4,depth:10},{replace:!0,colortransform:"::::::3J:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::5K:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::8L:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::1N:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::4O:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::6P:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::9Q:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::2S:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::5T:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::8U:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::0W:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::3X:",type:3,depth:8},{type:2},{replace:!0,colortransform:"::::::6Y:",type:3,depth:8},{type:2},{type:2},{type:2},{id:17,height:139,width:76,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAACLCAYAAADLen8nAAACVElEQVR42u3aPUtCURjA8Ttpm4NI\ni6OThIOrq0sfpS8QfYI+TptDYJNjoZBYKRhlkm9XMEXI6fQ8laOo93byvvyFP23n4M8859FyHMdJ\nSCkpKxVqtZqhzYmRk5TSUk4qLZdLQ5tTsCMpI+WlMii7gR1LJ9IpKD7AePw8AAMsgGDFYjFWAQZY\nwME4wwADjFtyz7MGMMBiBMYZBhhggAEGGGCAAQZYYMGIP7MBFiiwZt81lzdtc3Z1byVdW/eIDNh5\npWUNa53uERkw21jrIgv2NF74vqJ1jdiAtYZz32C6RmzAeEtuAbuoPFjH0j0iA1Z/nVi9KXVt3YPB\nlUmfAAPsQGCDycTQ5gADDDDAAAOMIgX2Ph6bofz8mM+tzVu69vB3L09gjWbTWvuCvQ0GZr5YWB9S\ndQ/dK/RgL/2+WciT+Y90r9CDPfd6xp1OzWw2s5ruoXuF/gzTV/2x0zHD0ci4rmslXVv38PwbFqT0\nXGl3u9+/nXeNhrmt1/80XVPX1j08n2FBuyX1ieirr28ZG+nauofnW5IAAwywuE36Nm/JSE76Nuew\nSE76tsCY9Jn0mfSZ9JnDGFwBAwwwwADzA/a5WpEEGGCAAQYYYIABBhhggMUajPjwDRhggAEG2KH/\nKThIAQZYSMAIMMC4JQ/4T3uAARZwMAIMMMAAAwwwUAADjM+SfIEIGGCcYRz6gHFL8gUiYIBxhgEG\nGGCAEWCAAcZHI74PAwwwzjAOfcAAA4wAAwwwwAADDLCdwTJSXiqDsh0sKaWlnFQCZTtYQkpJWalw\nXa0a2twX4C1SPysvy7cAAAAASUVORK5CYII=",type:8},{bounds:[{ymin:0,ymax:2780,xmin:0,xmax:1520}],id:18,paths:[{fill:0,data:["mvhvh:20o780b780B20O780b20o"]}],fillstyles:[{transform:"45184l::45184l::",bitmap:17,type:8}],type:1},{tags:[{id:18,matrix:0,type:3,depth:1},{type:2}],id:19,frameCount:1,type:7},{id:19,ratio:119,matrix:"::::280d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::200d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::120d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::043d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::968c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::894c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::823c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::753c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::685c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::619c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::555c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::493c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::432c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::374c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::318c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::263c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::210c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::159c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::110c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::063c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::018c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::974b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::933b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::893b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::855b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::820b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::786b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::754b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::723b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::95z:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::69z:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::44z:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::21z:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::00z:",type:3,depth:5},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{replace:!0,matrix:"::::16l66l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::16m98l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::16n12m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::14o10m",type:3,depth:11},{type:2},{replace:!0,matrix:"::::07p94l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::96p66l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::78q32l",type:3,depth:11},{type:2},{replace:!0,matrix:"::::55r94k",type:3,depth:11},{type:2},{replace:!0,matrix:"::::28s51k",type:3,depth:11},{type:2},{replace:!0,matrix:"::::95s08k",type:3,depth:11},{type:2},{replace:!0,matrix:"::::60t65j",type:3,depth:11},{type:2},{replace:!0,matrix:"::::21u22j",type:3,depth:11},{type:2},{replace:!0,matrix:"::::79u80i",type:3,depth:11},{type:2},{replace:!0,matrix:"::::35v39i",type:3,depth:11},{type:2},{replace:!0,matrix:"::::89v01i",type:3,depth:11},{type:2},{replace:!0,matrix:"::::40w65h",type:3,depth:11},{type:2},{replace:!0,matrix:"::::89w30h",type:3,depth:11},{type:2},{replace:!0,matrix:"::::37x99g",type:3,depth:11},{type:2},{replace:!0,matrix:"::::82x69g",type:3,depth:11},{type:2},{replace:!0,matrix:"::::25y42g",type:3,depth:11},{type:2},{replace:!0,matrix:"::::67y18g",type:3,depth:11},{type:2},{replace:!0,matrix:"::::06z96f",type:3,depth:11},{type:2},{replace:!0,matrix:"::::44z76f",type:3,depth:11},{type:2},{replace:!0,matrix:"::::79z59f",type:3,depth:11},{type:2},{replace:!0,matrix:"::::712b43f",type:3,depth:11},{type:2},{replace:!0,matrix:"::::742b30f",type:3,depth:11},{type:2},{replace:!0,matrix:"::::771b19f",type:3,depth:11},{type:2},{replace:!0,matrix:"::::796b09f",type:3,depth:11},{type:2},{replace:!0,matrix:"::::820b00f",type:3,depth:11},{type:2},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:560,ymax:720,xmin:2740,xmax:3260}],id:20,paths:[{fill:0,data:["mqhqvqhqv:260c06f:6D1D6D37D2D:2D6d8f:6d2d6d37d1d:1d6D8F"]}],fillstyles:[{color:[-872415232],type:1}],linestyles:[{color:[0],width:[40]}],type:1},{id:20,matrix:0,type:3,depth:10},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:4,depth:10},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{type:2},{replace:!0,matrix:"::::701b:",
type:3,depth:5},{type:2},{replace:!0,matrix:"::::799b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::895b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::987b:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::077c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::164c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::248c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::329c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::407c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::482c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::555c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::624c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::691c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::755c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::815c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::873c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::928c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::980c:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::029d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::076d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::119d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::160d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::197d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::232d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::264d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::292d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::318d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::341d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::362d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::379d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::393d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::405d:",type:3,depth:5},{type:2},{replace:!0,matrix:"::::414d:",type:3,depth:5},{type:2},{type:4,depth:5},{type:2},{type:2},{type:2},{type:2},{bounds:[{ymin:-490,ymax:490,xmin:-700,xmax:700}],id:21,paths:[{fill:1,data:["mqhqvqhqv:00G45c:5n5n5n10k5n:5n5N90F:5N5N5N10K5N:5N5n90f"]}],fillstyles:[{color:[-33554432],type:1},{color:[50331648],type:1}],linestyles:[{color:[61911216],width:[60]},{color:[-5197648],width:[60]}],type:1},{id:21,matrix:"::::80w11n",colortransform:"::::::6Y:",type:3,depth:13},{bounds:[{ymin:-317,ymax:307,xmin:-280,xmax:280}],id:22,paths:[{data:["mll:w6l1G7g7g4g"],line:2},{data:["mqqqqqqql:8U5fV1DV1J:0J1g0Q0g1G9p1G1j:0q1g0g0g0g0q:0j0G0q9F1g0Q1gUA"],line:3}],linestyles:[{color:[-1],width:[80]},{color:[-1],width:[60]},{color:[67108863],width:[60]},{color:[67108863],width:[80]}],type:1},{id:22,matrix:"::::80w17n",colortransform:"::::::6Y:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::4X:",type:3,depth:13},{replace:!0,colortransform:"::::::9W:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::2W:",type:3,depth:13},{replace:!0,colortransform:"::::::2V:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::0V:",type:3,depth:13},{replace:!0,colortransform:"::::::5T:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::7T:",type:3,depth:13},{replace:!0,colortransform:"::::::8R:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::5S:",type:3,depth:13},{replace:!0,colortransform:"::::::1Q:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::3R:",type:3,depth:13},{replace:!0,colortransform:"::::::4O:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::1Q:",type:3,depth:13},{replace:!0,colortransform:"::::::7M:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::9O:",type:3,depth:13},{replace:!0,colortransform:"::::::9K:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::7N:",type:3,depth:13},{replace:!0,colortransform:"::::::2J:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::5M:",type:3,depth:13},{replace:!0,colortransform:"::::::5H:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::3L:",type:3,depth:13},{replace:!0,colortransform:"::::::8F:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::0K:",type:3,depth:13},{replace:!0,colortransform:"::::::1E:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::8I:",type:3,depth:13},{replace:!0,colortransform:"::::::4C:",type:3,depth:14},{type:2},{replace:!0,colortransform:"::::::6H:",type:3,depth:13},{replace:!0,colortransform:"::::::Q:",type:3,depth:14},{type:2},{type:9,actions:[{type:7}]},{replace:!0,colortransform:"::::::4G:",type:3,depth:13},{bounds:[{ymin:-317,ymax:307,xmin:-280,xmax:280}],id:23,paths:[{data:["mqqqqqqql:8U5fV1DV1J:0J1g0Q0g1G9p1G1j:0q1g0g0g0g0q:0j0G0q9F1g0Q1gUA"],line:4},{data:["mll:w6l1G7g7g4g"],line:5}],linestyles:[{color:[16777215],width:[80]},{color:[16777215],width:[60]},{color:[13421772],width:[80]},{color:[13421772],width:[60]},{color:[15658734],width:[80]},{color:[15658734],width:[60]}],type:1},{replace:!0,id:23,colortransform:"::::::::",type:3,depth:14},{type:4,depth:15},{id:13,ratio:274,name:"restarter",matrix:"::::79G20E",colortransform:"::::::6Y:",type:3,actions:[{events:2048,actions:[{value:40,type:305},{value:1,type:305},{value:"_root",type:305},{type:28},{value:"gotoAndPlay",type:305},{type:82},{type:23}],key:0}],depth:15},{type:2}],v:"4.1.1",backgroundColor:16777215,frameSize:{ymin:0,ymax:2780,xmin:0,xmax:4680},frameCount:275,frameRate:60,code:"",version:10},guiders.createGuider({buttons:[{name:"Show me how!",onclick:function(){guiders.next();var t=$("#swiffyContainer-1")[0],e=new swiffy.Stage(t,n);e.start()}}],classString:"demo-title",description:"BugHerd turns people into software testing professionals by making reporting issues crazy simple.",id:"first",next:"second",overlay:!0,title:"Thank you for checking out BugHerd.",width:470}).show(),guiders.createGuider({buttons:[{name:"What about managing issues?",onclick:function(){guiders.next();var t=$("#swiffyContainer-2")[0],e=new swiffy.Stage(t,r);e.start()}}],classString:"demo-title",description:'BugHerd lets you report issues in seconds. Simply point, click, and describe, all right from your own website. <div id="swiffyContainer-1" class="swiffyContainer" style="width: 234px; height: 139px; margin: 15px auto 0;"></div>',id:"second",next:"third",overlay:!0,title:"Report issues in less than 10 seconds.",width:520}),guiders.createGuider({buttons:[{name:"Let me try it!",onclick:function(){guiders.next()}}],classString:"demo-title",description:'Bug pins let you see exactly where an issue was reported. You can dive into the details with a single click. <div id="swiffyContainer-2" class="swiffyContainer" style="width: 234px; height: 139px; margin: 15px auto 0;"></div>',id:"third",next:"fourth",overlay:!0,title:"Locate issues with pinpoint accuracy.",width:520}),guiders.createGuider({attachTo:".navNew",highlight:".navNew",buttons:[{name:"End tour",onclick:function(){guiders.hideAll(),$.getJSON(bugherd.application.get("bugherdUrl")+"/actions/completed_sidebar_intro?callback=?"),e.set({showingGuiders:!1}),t.trigger("resize")}}],classString:"mini",description:"Start reporting issues on this site to get a feel for BugHerd.",id:"fourth",next:"fifth",position:9,overlay:!0,title:"Try it out yourself.",width:300})}},hotkey:function(t){var e,i,n;if(e=this,i=this.listbar,n=this.detailbar,document.body===document.activeElement)switch(!0){case 37===t.which:i.visible()?n.visible()||e.showDetailbar():e.showListbar();break;case 39===t.which:n.visible()?e.hideDetailbar():i.visible()&&e.hideListbar()}},waiting:function(t){return null===t?this._waiting:(this._waiting=t,this.$el.toggleClass("waiting",t),this)},toggleSidebar:function(t,e){var i,n;return i=this,n=this.sidebar,n.visible()?i.hideSidebar(t,e):i.showSidebar(t,e),this},showSidebar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.sidebar,r.visible())return i.$el.removeClass("sidebarHidden"),this;var s,a,o,c;return s=i.$(".sidebarWrapper"),a={marginRight:0},o={marginRight:-75},c=function(){i.$(".navOpts").show(),n.set({sidebarOpen:!0}),$(".sidebar *").attr("tabindex","-1"),i.showFlags(t),i.resize("shrink")},e!==!1&&i.resize("expand"),i.$el.removeClass("sidebarHidden"),r.show(),s.stop(!0,!0).css(o).show(),t?s.animate(a,200,c):(s.css(a),c()),this},hideSidebar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.sidebar,!r.visible())return i.$el.addClass("sidebarHidden"),e!==!1&&i.trigger("hideSidebar",t),this;var s,a,o,c;return s=i.$(".sidebarWrapper"),a={marginRight:0},o={marginRight:-75},c=function(){i.$el.addClass("sidebarHidden"),s.hide(),r.hide(),n.set({sidebarOpen:!1}),$(".sidebar *").attr("tabindex","-1"),i.hideListbar(t),i.hideDetailbar(t),i.hideFlags(t),e!==!1&&i.trigger("hideSidebar",t),i.trigger("shrink")},s.stop(!0,!0).css(a).show(),t!==!1?s.animate(o,200,c):(s.css(o),c()),this},showAnonymousbar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.anonymousbar,r.visible())return e!==!1&&i.trigger("showAnonymousbar",t),this;var s,a;return s=i.$(".anonymousbarWrapper"),a=function(){s.show(),r.show(),n.set({anonymousbarOpen:!0,bugbarOpen:!1,sidebarOpen:!1,detailsOpen:!1}),$(".sidebar *").attr("tabindex","-1"),i.$(".navOpts").hide(),i.hideBugbar(!1),i.hideSidebar(!1),i.hideListbar(!1),i.hideDetailbar(!1),e!==!1&&i.trigger("showAnonymousbar",t),i.trigger("shrink")},e!==!1&&i.trigger("expand"),r.show(),s.stop(!0,!0).show(),a(),this},hideAnonymousbar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.anonymousbar,!r.visible())return e!==!1&&i.trigger("hideAnonymousbar",t),this;var s,a;return s=i.$(".anonymousbarWrapper"),a=function(){s.hide(),r.hide(),n.set({anonymousbarOpen:!1}),$(".sidebar *").attr("tabindex","-1"),e!==!1&&i.trigger("hideAnonymousbar",t),i.trigger("shrink")},s.stop(!0,!0).show(),a(),this},showBugbar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.bugbar,r.visible())return e!==!1&&i.trigger("showBugbar",t),this;var s,a,o,c;return s=i.$(".bugbarWrapper"),a={marginRight:0},o={marginRight:-75},c=function(){s.show(),r.show(),n.set({bugbarOpen:!0}),$(".sidebar *").attr("tabindex","-1"),i.$(".navOpts").hide(),i.hideSidebar(),i.hideListbar(),i.hideDetailbar(),e!==!1&&i.trigger("showBugbar",t),i.trigger("shrink")},e!==!1&&i.trigger("expand"),r.show(),s.stop(!0,!0).css(o).show(),t!==!1?s.animate(a,200,c):(s.css(a),c()),this},hideBugbar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.bugbar,!r.visible())return e!==!1&&i.trigger("hideBugbar",t),this;var s,a,o,c;return s=i.$(".bugbarWrapper"),a={marginRight:0},o={marginRight:-75},c=function(){s.hide(),r.hide(),n.set({bugbarOpen:!1}),i.$(".navOpts").show(),$(".sidebar *").attr("tabindex","-1"),i.showSidebar(),e!==!1&&i.trigger("hideBugbar",t),i.trigger("shrink")},s.stop(!0,!0).css(a).show(),t!==!1?s.animate(o,200,c):(s.css(o),c()),this},showListbar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.listbar,r.visible())return e!==!1&&i.trigger("showListbar",t),this;var s,a,o,c;return s=i.$(".listbarWrapper"),a={marginRight:0},o={marginRight:-350},c=function(){n.set({tasksOpen:!0}),e!==!1&&i.trigger("showListbar",t),i.trigger("shrink")},e!==!1&&i.trigger("expand"),r.show(),s.stop(!0,!0).css(o).show(),t!==!1?s.animate(a,200,c):(s.css(a),c()),this},hideListbar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.listbar,!r.visible())return e!==!1&&i.trigger("hideListbar",t),this;var s,a,o,c;return s=i.$(".listbarWrapper"),a={marginRight:0},o={marginRight:-350},c=function(){s.hide(),r.hide(),n.set({tasksOpen:!1}),i.hideDetailbar(t),e!==!1&&i.trigger("hideListbar",t),i.trigger("shrink")},s.stop(!0,!0).css(a).show(),t!==!1?s.animate(o,200,c):(s.css(o),c()),this},showDetailbar:function(t,e){var i,n,r;if(i=this,n=i.model,r=i.detailbar,r.visible())return e!==!1&&i.trigger("showDetailbar",t),this;var s,a,o,c;return s=i.$(".detailbarWrapper"),a={marginRight:0},o={marginRight:-350},c=function(){n.set({detailsOpen:!0}),e!==!1&&i.trigger("showDetailbar",t),i.trigger("shrink")},e!==!1&&i.trigger("expand"),r.show(),s.stop(!0,!0).css(o).show(),t!==!1?s.animate(a,200,c):(s.css(a),c()),this},hideDetailbar:function(t,e){var i,n,r,s;if(i=this,n=i.model,r=i.detailbar,s=i.listbar,!r.visible())return e!==!1&&i.trigger("hideDetailbar",t),this;var a,o,c,h;return a=i.$(".detailbarWrapper"),o={marginRight:0},c={marginRight:-350},h=function(){a.hide(),r.hide(),n.set({detailsOpen:!1}),e!==!1&&i.trigger("hideDetailbar",t),i.trigger("shrink")},a.stop(!0,!0).css(o).show(),t!==!1?a.animate(c,200,h):(a.css(c),h()),this},showFlags:function(t){return this.refreshFlags(t),this.startCheckingFlags(),this},hideFlags:function(t){var e,i;return e=this,i=this.model.tasksCollection,i.each(function(t){e.hideFlagForTask(t)}),this.stopCheckingFlags(),this},refreshFlags:function(t){var e,i;return e=this,i=this.model.tasksCollection,this.model.get("sidebarOpen")&&i.each(function(t){e.handleFlagForTask(t)}),this},handleFlagForTask:function(t){return this.showFlagForTask(t)||this.hideFlagForTask(t),this},showFlagForTask:function(t){var e,i;return e=this,i=null,t.isApplicable()&&(i=t.getFlag(),i&&(i.show(),i.off("all",e.bubble),i.on("all",e.bubble),e.allFlags[i.cid]=i)),i},hideFlagForTask:function(t){var e,i;return e=this,i=t.getFlag(!1),i&&(i.hide(),e.movingFlags[i.cid]&&delete e.movingFlags[i.cid],e.haveMovedFlags[i.cid]&&delete e.haveMovedFlags[i.cid],e.allFlags[i.cid]&&delete e.allFlags[i.cid]),i},flashFlag:function(t){var e=t.getFlag();return e&&e.$el.flash({times:3,duration:300}),this},checkingFlagsHaveMovedTimer:null,checkingFlagsAllTimer:null,haveMovedFlags:{},movingFlags:{},allFlags:{},startCheckingFlags:function(){if(!this.checkingFlagsHaveMovedTimer){var t,e,i,n;t=this,e=t.haveMovedFlags,i=t.movingFlags,n=t.allFlags;var r=function(){window.requestAnimationFrame(function(){var t=!1;_.each(i,function(e){t=!0,e.setPosition()}),t&&r()})};return this.checkingFlagsHaveMovedTimer=setInterval(function(){var t=!1;_.each(e,function(n){n.setPosition()===!0?(t=!0,e[n.cid]=n,i[n.cid]=n):"undefined"!=typeof i[n.cid]&&(t=!0,delete i[n.cid])}),t&&r()},500),this.checkingFlagsAllTimer=setInterval(function(){var t=!1;_.each(n,function(n){"undefined"==typeof e[n.cid]&&n.isPositionOutdated()===!0&&(t=!0,e[n.cid]=n,i[n.cid]=n)}),t&&r()},2e3),this}},stopCheckingFlags:function(){return this.checkingFlagsHaveMovedTimer&&(clearInterval(this.checkingFlagsHaveMovedTimer),this.checkingFlagsHaveMovedTimer=null),this.checkingFlagsAllTimer&&(clearInterval(this.checkingFlagsAllTimer),this.checkingFlagsAllTimer=null),this},repositionAllFlags:function(){var t,e;return t=this,e=t.allFlags,_.each(e,function(t){t.setPosition()}),this},render:function(){var t=this;this.model,this.model.tasksCollection;this.$el.html(this.template()),BugHerd.Util.isMobile.any()||this.setTooltips();var e=this.$(".bugbarWrapper").hide(),i=this.$(".sidebarWrapper").hide(),n=this.$(".listbarWrapper").hide(),r=this.$(".detailbarWrapper").hide(),s=this.$(".anonymousbarWrapper"),a=this.$(".taskcreateWrapper");return"anonymous"==this.model.get("mode")?(this.bugbar.render(),this.anonymousbar.render().hide(!1,!1).$el.appendTo(s),this.taskcreate.render().hide(!1,!1).$el.appendTo(a)):(this.bugbar.render().hide(!1,!1).$el.appendTo(e),this.sidebar.render().hide(!1,!1).$el.prependTo(i),this.listbar.render().hide(!1,!1).$el.appendTo(n),this.detailbar.render().hide(!1,!1).$el.appendTo(r),this.taskcreate.render().hide(!1,!1).$el.appendTo(a)),t.postRender(),bugherd.isExtension&&"click"==bugherd.bugType&&anonymousbar.toggleOptions(),this.trigger("resize"),setTimeout(function(){t.trigger("resize")},500),this},setTooltips:function(){var t=this;this.$el.on("mouseover click","[data-tooltip]",function(e){var i=$(this),n=bugherd.parentPage.$frame.offset(),r=i.offset(),s=i.data("$tooltip");s||(t.trigger("expand"),s=$("<div class='tooltip'>"+i.data("tooltip")+'<span class="tip"></span></div>').css({top:n.top+r.top+"px"}).addClass("fade").appendTo(t.$el),i.data("$tooltip",s))}).on("mouseout","[data-tooltip]",function(e){var i=$(this),n=i.data("$tooltip");n&&(t.trigger("shrink"),n.remove(),i.data("$tooltip",null))})},removeTooltips:function(){this.$el.off("mouseover click","[data-tooltip]").off("mouseout","[data-tooltip]")},resize:function(t){var e,i,n,r,s,a,o,c,h,l,u,d;e=this,i=e.model,n=e.taskcreate,s=e.$(".sidebar"),a=bugherd.parentPage.$frame,h=0,s.children().each(function(){var t=$(this);t.is(":visible")&&(h+=$(this).width())}),75>h&&(h=75),l=bugherd.parentPage.window.innerHeight||bugherd.parentPage.document.documentElement.clientHeight,u=bugherd.parentPage.window.innerWidth||bugherd.parentPage.document.documentElement.clientWidth,BugHerd.Util.isMobile.any()||(i.get("showingGuiders")?this.removeTooltips():this.setTooltips());var p=bugherd.parentPage.window._bugHerd.visualViewport,f=1/p.scale,g=function(t){return p.height+p.offsetTop-t},m=function(t){return p.width+p.offsetLeft-t},v=function(t){return{transform:"scale("+f+")",transformOrigin:t,"-webkit-transform":"scale("+f+")","-webkit-transform-origin":t}},y=function(t){return t*f};if("expand"===t||i.get("showingGuiders")||$(".bh-entry").is(":visible")||$(".fancybox-inner").is(":visible")||n.visible())a.css({width:p.width*p.scale,height:p.height*p.scale,top:p.offsetTop,bottom:"",left:p.offsetLeft}).css(v("top left"));else if(i.get("bugbarOpen")===!0)r=e.$(".bugbarActions"),a.css({width:r.width()+15,height:r.height()+15,top:p.offsetTop,left:m(r.width()+15),bottom:"",position:"fixed"}).css(v("top right"));else if(i.get("anonymousbarOpen")===!0)o=e.$(".anonymousReport").outerWidth(!0),c=e.$(".anonymousReport").outerHeight(!0),a.css({width:o+5,height:c+5,top:g(c+5),right:"",bottom:"",left:m(o+5),position:"fixed"}).css(v("bottom right")),"bottom-left"===bugherd.getConfigOption("feedback","tab_position")&&a.css({left:p.offsetLeft+y(5)}).css(v("bottom left"));else if(i.get("sidebarOpen")!==!1&&i.get("sidebarOpen")){if(i.get("sidebarOpen")!==!0)throw new Error("unknown resize");a.css({width:h+4,height:p.height*p.scale,top:g(p.height*p.scale),left:m(h+4),right:"",bottom:"",position:"fixed"}).css(v("bottom right")),this.repositionAllFlags()}else d=e.$(".navOpts").height(),a.css({width:h,height:d,top:g(d),left:m(h),bottom:"",right:"",position:"fixed"}).css(v("bottom right"));return BugHerd.Util.setFlexHeights(),this.$el.topZIndex(),this},afterInsert:function(){function t(){"static"===n.css("position")?n.show():window.setTimeout(t,1e3)}BugHerd.Util.setFlexHeights(),this.$el.topZIndex();var e=this.$(".taskDetailAssignee");e.is(":input")&&e.chosen({allow_single_deselect:!0,no_results_text:"Can't find user:"});var i=$(".taskDetailPriority");i.is(":input")&&i.chosen();var n=this.$el;return t(),this},postRender:function(t){var e=this,i=this.model,n=(this.bugbar,this.listbar,this.sidebar),r=(this.detailbar,i.tasksCollection,i.get("topFilter")),s=i.get("subFilter"),a=this.getActiveTask(),o=this.getDisplayTask(),c=bugherd.application.currentUser();return c&&c.get("intro")?(e.startGuiders(),i.set({anonymousbarOpen:!1,bugbarOpen:!1,detailsOpen:!1,sidebarOpen:!0})):"anonymous"===i.get("mode")&&e.showAnonymousbar(t),i.get("sidebarOpen")?(e.hideBugbar(t),e.showSidebar(t),i.get("tasksOpen")===!0&&(n.setTopFilter(r).setSubFilter(s).filter(),e.showListbar(t)),o?e.gotoTask(o,null,!1):a&&i.get("detailsOpen")&&e.openTask(a)):e.hideSidebar(!1),this.$el.hide(),e.$el.show(),this},stateChange:function(){return this.refreshFlags(),this},getActiveTask:function(){var t=this.model.get("activeTask"),e=this.model.tasksCollection,i=e.get(t);return i},setActiveTask:function(t){return this.model.set("activeTask",t&&t.id||null),this},getDisplayTask:function(){var t=this.model.get("displayTask"),e=this.model.tasksCollection,i=e.get(t);return i},setDisplayTask:function(t){return this.model.set("displayTask",t&&t.id||null),this},openTask:function(t){return this.model.set({activeTask:t.id}),this.detailbar.setTask(t),this.showDetailbar(),this},gotoTask:function(t,e,i){"undefined"==typeof i&&(i=!0),e||(e=t.get("url")),e===bugherd.getParentPath()?this.selectFlag(t):i?(this.setDisplayTask(t),this.model.save(),bugherd.redirectUrl(e)):(this.setDisplayTask(null),this.openTask(t))},selectFlag:function(t){var e,i=this,n=(bugherd.getParentPath(),this.listbar,bugherd.parentPage.$document);if(e=t.getFlag()){var r=e.$el;this.setDisplayTask(null),i.hideListbar(),n.find("html,body").animate({scrollTop:r.offset().top-100},500),setTimeout(function(){r.trigger("mouseover"),i.flashFlag(t)},500),setTimeout(function(){n.find(".tooltip").fadeOut(200)},5e3)}return this}})),ns("BugHerd.Sidebar.Views.Application.AnonymousBar",Backbone.View.extend({template:"#anonymousbar-template",className:"anonymousReport",events:{"click .feedbackTab":"toggleOptions","click .option-pin":"startTaggingPin","click .option-site":"startTaggingSite","click .entry-close":"restart"},initialize:function(){_.bindAll(this),this.$parentBody=bugherd.parentPage.$body},render:function(){var t;switch(this.$el.html(_.template($(this.template).html())),bugherd.getConfigOption("feedback","tab_position")){case"bottom-left":t="position-bottom-left";break;case"bottom-right":t="position-bottom-right";break;default:t="position-bottom-right"}return this.$el.addClass(t),(bugherd.getConfigOption("feedback","hidden")||bugherd.isExtension&&"errorpage"==bugherd.bugType)&&$(document).ready(function(){$(".feedbackTab").css("display","none")}),this},visible:function(){return this.$el.is(":visible")},hide:function(){return this.$el.hide(),this},show:function(){return this.$el.show(),this},open:function(){return this.visible()||this.trigger("openAnonymousbar"),this},close:function(){return this.visible()&&this.trigger("closeAnonymousbar"),this},toggleOptions:function(){var t,e=this;return this.$fader=this.$parentBody.children(".bhFader"),$(document).on("keyup",function(t){var i;return 27===t.which?(e.$(".bh-entry-wrap").hide(),e.$(".feedbackInstructions").hide(),e.visible()||e.trigger("openAnonymousbar"),e.trigger("stopTaggingPin"),i=bugherd.parentPage.$document,i.off("mousemove.bh").off("click.bh").off("mouseout.bh"),$(".bugherd_highlight",i).removeClass("bugherd_highlight"),e.$fader.stop(!0,!0).css("opacity",".3").hide(),e.trigger("resize"),e):void 0}),this.$(".feedbackInstructions").hide(),this.$(".bh-entry-wrap").show(),this.$fader.stop(!0,!0).css("opacity",".3").show(),this.trigger("resize"),t=function(){return!("onmouseover"in window)},t()&&this.trigger("startTaggingPage"),this},showInstructions:function(t){return this.$(".bh-entry-wrap").hide(),this.$(".feedbackInstructions .instruction").hide().filter("."+t).show(),this.$(".feedbackInstructions").show(),this.trigger("resize"),this},startTaggingPin:function(t){return t.preventDefault(),BugHerd.Util.isTouch.value&&this.setTouchInstructionText(),this.showInstructions("pin"),this.trigger("startTaggingPin"),this},startTaggingSite:function(t){return this.showInstructions("page"),t.preventDefault(),this.trigger("startTaggingPage"),this},restart:function(){return this.$(".bh-entry-wrap").hide(),this.$(".feedbackInstructions").hide(),this.$fader.stop(!0,!0).css("opacity",".3").hide(),this.trigger("resize"),this},setTouchInstructionText:function(){this.$parentBody.children("._BH_instructions").text("Touch anywhere to create an annotation on that area"),this.$parentBody.children(".bhFader").css({opacity:0});var t=this;setTimeout(function(){t.$parentBody.children("._BH_instructions").fadeOut(500)},2e3)}})),ns("BugHerd.Sidebar.Views.Application.BugBarView",Backbone.View.extend({template:"#bugbar-template",tagName:"div",inTaggingPin:!1,events:{"click .navBugPin":"startTaggingPin","click .navBugPage":"startTaggingPage","click .navBugCancel":"close"},initialize:function(t){_.bindAll(this,"render","startTaggingPage","highlightElement","lowlightElement","startTask"),this.options=_.extend({},this.options||{},t),this.template=_.template($(this.template).html())},render:function(){return this.$el.html(this.template({})),this.createFader(),this.createInstructions(),this},visible:function(){return this.$el.is(":visible")},show:function(){return this.$fader.fadeIn(200),this.$el.show(),this},hide:function(){return this.stopTaggingPin(),this.stopTaggingPage(),this.$fader.stop(!0,!0).css("opacity",".3").hide(),this.$el.hide(),this},open:function(){return this.visible()===!1&&this.trigger("openBugbar"),this},close:function(){return this.visible()&&this.trigger("closeBugbar"),this},setTouchInstructionText:function(){this.$instructions.text("Touch anywhere to create an annotation on that area"),this.$fader.css({opacity:0})},createFader:function(t){var e=bugherd.parentPage.$body,i=bugherd.parentPage.window._bugHerd.visualViewport;return this.$fader=this.$fader||$('<div class="bhFader" />').css({position:"fixed",background:"#1d313a",opacity:".3",cursor:"crosshair","text-align":"center",top:i.offsetTop,left:i.offsetLeft,width:i.width*i.scale,height:i.height*i.scale}).hide().appendTo(e).topZIndex(),this.$fader},startTaggingPage:function(){return this.stopTaggingPin(),this.$(".navBugPin").removeClass("active"),this.$(".navBugPage").addClass("active"),this.$fader.css("opacity",".7").show(),this.startTask(),this.trigger("startTaggingPage"),this},stopTaggingPage:function(){return this.trigger("stopTaggingPage"),this},touchHandler:function(t){"touchmove"===t.type&&(this.touchmove=!0),"touchend"!==t.type||this.touchmove||(t.preventDefault(),this.touchmove=!1,this.startTask(t.originalEvent)),"touchend"===t.type&&(this.touchmove=!1)},startTaggingPin:function(){if(this.inTaggingPin)return this;this.inTaggingPin=!0,this.stopTaggingPage();var t=bugherd.parentPage.$document;return this.$(".navBugPin").addClass("active"),this.$(".navBugPage").removeClass("active"),this.$instructions.fadeIn(500),t.on("mouseout.bh",this.lowlightElement).on("mousemove.bh",this.highlightElement).on("click.bh",this.startTask).on("touchstart.bh",this.touchHandler.bind(this)).on("touchmove.bh",this.touchHandler.bind(this)).on("touchend.bh",this.touchHandler.bind(this)),this.trigger("startTaggingPin"),this},stopTaggingPin:function(){var t=bugherd.parentPage.$document;return t.off("mousemove.bh").off("click.bh").off("mouseout.bh").off("touchstart.bh").off("touchmove.bh").off("touchend.bh"),$(".bugherd_highlight",t).removeClass("bugherd_highlight"),this.trigger("stopTaggingPin"),this.$fader.css("opacity",".3").hide(),this.inTaggingPin=!1,this},createInstructions:function(){var t="Hover over page elements to highlight them, then click to create an annotation.",e=bugherd.parentPage.$body,i=bugherd.getConfigOption("feedback","pin_instruction_text")||t;bugherd.parentPage.window._bugHerd.visualViewport;return this.$instructions=this.$instructions||$('<div class="_BH_instructions">'+i+"</div>").css({width:300,"box-sizing":"border-box",position:"fixed",background:"#1d313a",opacity:".8",color:"#fff",padding:"20px 20px 25px","border-radius":"4px","line-height":"1.3","font-size":"21px","text-align":"center","font-weight":"500"}).css(this.position()).hide().appendTo(e).topZIndex(),this.$instructions},position:function(){var t=bugherd.parentPage.window._bugHerd.visualViewport;return{top:t.offsetTop+100*(1/t.scale),left:t.offsetLeft+(t.width/2-150*(1/t.scale)),transform:"scale("+1/t.scale+")","-webkit-transform":"scale("+1/t.scale+")",transformOrigin:"top left","-webkit-transform-origin":"top left"}},resize:function(){this.$instructions.css(this.position())},lowlightElement:function(t){var e=bugherd.parentPage.$document,i=$(t.target,e);return i.hasClass("bugherd_highlight")&&i.removeClass("bugherd_highlight"),this},highlightElement:function(t){var e=bugherd.parentPage.document,i=bugherd.parentPage.$document;$(t.target,i);$instructions=this.$instructions,$(".bugherd_highlight",i).removeClass("bugherd_highlight"),this.$fader.hide();var n=e.elementFromPoint(t.clientX,t.clientY),r=$(n,i);return this.$fader.css("opacity",".3").focus().show(),0===r.parents('[class^="_BH"]').length&&r.addClass("bugherd_highlight"),$instructions.fadeOut(500),this},startTask:function(t){var e=bugherd.parentPage.document,i=bugherd.parentPage.$document;if(null==t)return this.trigger("startTask",i),this;this.$fader.hide(),this.$instructions.hide();var n,r,s=$(t.target,i);t.changedTouches&&t.changedTouches.length>0?(n=e.elementFromPoint(Math.round(t.changedTouches[0].clientX),Math.round(t.changedTouches[0].clientY)),r=$(n,i)):t.clientX&&t.clientY?(n=e.elementFromPoint(t.clientX,t.clientY),r=$(n,i)):(n=t.target,r=s);var a=r.offset().left,o=r.offset().top,c=t.pageX||a,h=t.pageY||o;return t.changedTouches&&t.changedTouches.length>0&&(c=Math.round(t.changedTouches[0].pageX),h=Math.round(t.changedTouches[0].pageY)),r.data("bugOffsetX",c-a),r.data("bugOffsetY",h-o),0===r.parents('[class^="_BH"]').length&&(this.stopTaggingPin(),this.$fader.css("opacity",".7").show(),r.addClass("bugherd_highlight"),this.trigger("startTask",r)),this}})),ns("BugHerd.Sidebar.Views.Application.ListBarView",Backbone.View.extend({template:"#listPanel-template",tagName:"div",className:"panelWrap panelList panel",events:{"click .sortLink":"resort","click .orderLink":"reorder","click .opt-currentPage":"togglePageFilter","click .button-closePanel button":"close","click .button-searchList.active button":"hideSearch","click .button-searchList:not(.active) button":"showSearch","click .button-alertList.active button":"hideAlerts","click .button-alertList:not(.active) button":"showAlerts"},initialize:function(t){return this.collection=t.collection,_.bindAll(this),this.template=_.template($(this.template).html()),this.taskList=new BugHerd.Shared.Views.Task.List({hideTopHeader:!0}).setCollection(this.collection),this.searchBar=new BugHerd.Shared.Views.Application.SearchBar,this},setCollection:function(t){this.collection=t,this.taskList.setCollection(this.collection),this.taskList.refresh()},showSelectedTask:function(){return this.taskList.showSelectedTask(),this},selectTask:function(t,e){return this.taskList.selectTask(t,e)},unselectTask:function(t){return this.taskList.unselectTask(t),this},render:function(){this.collection;this.$el.html(this.template());var t=this.$el.find(".content"),e=(this.$el.find(".unreadListHolder"),this.$el.find(".searchbarHolder"));return t.preventScrollBubbling(),this.taskList.render().$el.appendTo(t),this.searchBar.render().$el.appendTo(e),this.searchBar.visualSearch.searchQuery.on("add remove",this.setPageFilterState),t.scroll(this.scrollHandler),this},refresh:function(){var t=this.$(".fixedHeader.listHeading:first"),e=this.$(".taskList .listHeading:first");e.length?(t.html("<span>"+e.text()+"</span>").show(),e.hide()):t.hide(),this.scrollHandler();var i=(bugherd.application,this.collection.getSortAttribute()),n=this.collection.getSortAscending();bugherd.application.get("activeTask");return this.$(".sortLink,.orderLink").removeClass("selected"),this.$('.sortLink[data-sort-attr="'+i+'"]').addClass("selected"),n&&this.$(".orderLink").addClass("selected"),this.setPageFilterState(),this},scrolling:!1,scrollHandler:function(t){this.$el.find(".taskList");this.taskList.refresh();var e=this.$(".fixedHeader.listHeading:first"),i=this.$(".panelPopup"),n=(this.$(".listItemScroller:first"),this.$(".taskList").parent().scrollTop());headerText=null,e.toggleClass("fixed",n>0),i.toggleClass("fixed",n>0),$(this.$(".taskList .listHeading").get().reverse()).each(function(){var t=$(this),e=t.position().top;return n>e?(headerText=t.text(),!1):void 0}),headerText&&e.html("<span>"+headerText+"</span>")},setPageFilterState:function(){var t=this.searchBar.visualSearch.searchQuery.where({category:"filter",value:"page"});t.length>0?(this.$(".opt-currentPage").addClass("selected"),this.pageFiltered=!0):(this.$(".opt-currentPage").removeClass("selected"),this.pageFiltered=!1)},togglePageFilter:function(t){return this.currentPageFilter(),this.setPageFilterState(),this.taskList.refresh(),this},currentPageFilter:function(){return this.pageFiltered?_(this.searchBar.visualSearch.searchQuery.where({category:"filter",value:"page"})).each(function(t){this.searchBar.visualSearch.searchQuery.remove(t),this.searchBar.visualSearch.searchQuery.trigger("reset")}.bind(this)):this.searchBar.visualSearch.searchBox.addFacet("filter","page"),this.searchBar.visualSearch.searchBox.searchEvent({}),this},resort:function(t){var e=$(t.target),i=e.data("sort-attr");return bugherd.application.set("sidebar_sortAttribute",i),this.collection.setSortAttribute(i).sort(),this.trigger("sortTasks",i),this.taskList.refresh(),this.refresh(),this},reorder:function(){var t=!this.collection.getSortAscending();return bugherd.application.set("sidebar_sortAscending",t),this.collection.setSortAscending(t).sort(),this.trigger("orderTasks",t),this.taskList.refresh(),this.refresh(),this},visible:function(){return this.$el.is(":visible")},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},open:function(){return this.visible()===!1&&this.trigger("openListbar"),this},close:function(){return this.visible()&&this.trigger("closeListbar"),this},showAlerts:function(){return this.$(".button-alertList").addClass("active"),
this.$(".alertsPopup").slideDown(150),this.$(".alertsList").focus(),this.trigger("showAlerts"),this},hideAlerts:function(){return this.$(".button-alertList").removeClass("active").find("button").removeClass("new"),this.$(".alertsList").val("").trigger("keyup"),this.$(".alertsPopup").slideUp(150),this.trigger("hideAlerts"),this}})),ns("BugHerd.Sidebar.Views.Application.SideBarView",Backbone.View.extend({template:"#sidebar-template",tagName:"div",className:"sidebarStrip",events:{"click .subFilter":"clickSubFilter","click .topFilter":"clickTopFilter"},initialize:function(t){this.template=_.template($(this.template).html())},render:function(){return this.$el.html(this.template({})),this.updateState(),this.initCounters(),this},getTopFilter:function(t){var e=this.options.topFilter,i=bugherd.application.get("mode");if(null==e&&t)if(e="reported","developer"===i)e="mine";else{if("reporter"!==i)throw new Error("Unknown mode");e="reported"}return e},getSubFilter:function(t){var e=this.options.subFilter;return null==e&&t&&(e=this.getSubFiltersForTopFilter(null,t)),e},getSubFiltersForTopFilter:function(t,e){null==t&&(t=this.getTopFilter(e));var i=[];return this.$(".navItem[data-owner="+t+"] .navStateItem").each(function(){var t=$(this),e=t.data("status_id");i.push(e)}),i},setTopFilter:function(t){return this.options.topFilter=t,this},setSubFilter:function(t){return this.options.subFilter=t,this},clickTopFilter:function(t){t.stopImmediatePropagation();var e=this.$(t.currentTarget).data("owner");return this.setTopFilter(e).setSubFilter(null).filter(),this},clickSubFilter:function(t){t.stopImmediatePropagation();var e=this.$(t.currentTarget).data("status_id");return this.setSubFilter(e).filter(),this},updateState:function(){var t=this.getTopFilter(!0),e=this.getSubFilter(),i=this.$(".navItem").removeClass("active"),n=i.filter("[data-owner="+t+"]").addClass("active");this.$(".navUserName").removeClass("active"),n.find(".navUserName").addClass("active");var r=this.$(".navStateItem").removeClass("active");return _.isNull(e)||r.each(function(){var t=$(this);t.data("status_id")==e&&(t.addClass("active"),n.find(".navUserName").removeClass("active"))}),this},initCounters:function(){var t=this,e=(this.model,function(e,i){var n,r=bugherd.application.getSubCollection(e,i),s=r.length;$.isArray(i)?(_.each(i,function(t,e){i[e]=String(t)}),n="["+i.join(",")+"]"):n=String(i);var a=t.$(".navItem[data-owner="+e+'] .navStateItem[data-status_id="'+n+'"] .value-counter');a.text(s)}),i=function(t,i){var n=bugherd.application.getSubCollection(t,i);n.on("reset add remove",function(){e(t,i)}),e(t,i)},n=["mine","watching","all","reported"];_.each(n,function(e){var n=t.getSubFiltersForTopFilter(e);_.each(n,function(t){i(e,t)})})},filter:function(t){var e,i;return this.updateState(),null==e&&(e=this.getTopFilter(!0)),null==i&&(i=this.getSubFilter(!0)),this.trigger("filterTasks",e,i),this},visible:function(){return this.$el.is(":visible")},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},open:function(){return this.visible()===!1&&this.trigger("openSidebar"),this},close:function(){return this.visible()&&this.trigger("closeSidebar"),this}}));